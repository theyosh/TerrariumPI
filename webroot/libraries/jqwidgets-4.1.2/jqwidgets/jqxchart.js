/*
jQWidgets v4.1.2 (2016-Apr)
Copyright (c) 2011-2016 jQWidgets.
License: http://jqwidgets.com/license/
*/

(function(a){a.jqx.jqxWidget("jqxDraw","",{});a.extend(a.jqx._jqxDraw.prototype,{defineInstance:function(){var d={renderEngine:""};a.extend(true,this,d);var e=["clear","on","off","removeElement","attr","getAttr","line","circle","rect","path","pieslice","text","measureText"];for(var c in e){this._addFn(a.jqx._jqxDraw.prototype,e[c])}},_addFn:function(d,c){if(d[c]){return}d[c]=function(){return this.renderer[c].apply(this.renderer,arguments)}},createInstance:function(c){},_initRenderer:function(c){return a.jqx.createRenderer(this,c)},_internalRefresh:function(){var c=this;if(a.jqx.isHidden(c.host)){return}if(!c.renderer){c.host.empty();c._initRenderer(c.host)}var e=c.renderer;if(!e){return}var d=e.getRect();c._render({x:1,y:1,width:d.width,height:d.height});if(e instanceof a.jqx.HTML5Renderer){e.refresh()}},_saveAsImage:function(e,f,c,d){return a.jqx._widgetToImage(this,e,f,c,d)},_render:function(d){var c=this;var e=c.renderer;c._plotRect=d},refresh:function(){this._internalRefresh()},getSize:function(){var c=this._plotRect;return{width:c.width,height:c.height}},saveAsPNG:function(e,c,d){return this._saveAsImage("png",e,c,d)},saveAsJPEG:function(e,c,d){return this._saveAsImage("jpeg",e,c,d)}})})(jqxBaseFramework);(function(a){a.jqx.toGreyScale=function(c){if(c.indexOf("#")==-1){return c}var d=a.jqx.cssToRgb(c);d[0]=d[1]=d[2]=Math.round(0.3*d[0]+0.59*d[1]+0.11*d[2]);var e=a.jqx.rgbToHex(d[0],d[1],d[2]);return"#"+e[0]+e[1]+e[2]},a.jqx.adjustColor=function(f,e){if(typeof(f)!="string"){return"#000000"}if(f.indexOf("#")==-1){return f}var h=a.jqx.cssToRgb(f);var d=a.jqx.rgbToHsl(h);d[2]=Math.min(1,d[2]*e);d[1]=Math.min(1,d[1]*e*1.1);h=a.jqx.hslToRgb(d);var f="#";for(var j=0;j<3;j++){var k=Math.round(h[j]);k=a.jqx.decToHex(k);if(k.toString().length==1){f+="0"}f+=k}return f.toUpperCase()};a.jqx.decToHex=function(c){return c.toString(16)};a.jqx.hexToDec=function(c){return parseInt(c,16)};a.jqx.rgbToHex=function(e,d,c){return[a.jqx.decToHex(e),a.jqx.decToHex(d),a.jqx.decToHex(c)]};a.jqx.hexToRgb=function(d,f,c){return[a.jqx.hexToDec(d),a.jqx.hexToDec(f),a.jqx.hexToDec(c)]};a.jqx.cssToRgb=function(c){if(c.indexOf("rgb")<=-1){return a.jqx.hexToRgb(c.substring(1,3),c.substring(3,5),c.substring(5,7))}return c.substring(4,c.length-1).split(",")};a.jqx.hslToRgb=function(d){var f=parseFloat(d[0]);var e=parseFloat(d[1]);var c=parseFloat(d[2]);if(e==0){r=g=b=c}else{var i=c<0.5?c*(1+e):c+e-c*e;var j=2*c-i;r=a.jqx.hueToRgb(j,i,f+1/3);g=a.jqx.hueToRgb(j,i,f);b=a.jqx.hueToRgb(j,i,f-1/3)}return[r*255,g*255,b*255]};a.jqx.hueToRgb=function(e,d,c){if(c<0){c+=1}if(c>1){c-=1}if(c<1/6){return e+(d-e)*6*c}else{if(c<1/2){return d}else{if(c<2/3){return e+(d-e)*(2/3-c)*6}}}return e};a.jqx.rgbToHsl=function(j){var c=parseFloat(j[0])/255;var i=parseFloat(j[1])/255;var k=parseFloat(j[2])/255;var m=Math.max(c,i,k),e=Math.min(c,i,k);var f,o,d=(m+e)/2;if(m==e){f=o=0}else{var n=m-e;o=d>0.5?n/(2-m-e):n/(m+e);switch(m){case c:f=(i-k)/n+(i<k?6:0);break;case i:f=(k-c)/n+2;break;case k:f=(c-i)/n+4;break}f/=6}return[f,o,d]};a.jqx.swap=function(c,e){var d=c;c=e;e=d};a.jqx.getNum=function(c){if(!a.isArray(c)){if(isNaN(c)){return 0}}else{for(var d=0;d<c.length;d++){if(!isNaN(c[d])){return c[d]}}}return 0};a.jqx._ptdist=function(d,f,c,e){return Math.sqrt((c-d)*(c-d)+(e-f)*(e-f))};a.jqx._ptrnd=function(d){if(!document.createElementNS){if(Math.round(d)==d){return d}return a.jqx._rnd(d,1,false,true)}var c=a.jqx._rnd(d,0.5,false,true);if(Math.abs(c-Math.round(c))!=0.5){return c>d?c-0.5:c+0.5}return c};a.jqx._ptRotate=function(e,k,d,j,h){var c=Math.sqrt(Math.pow(Math.abs(e-d),2)+Math.pow(Math.abs(k-j),2));var f=Math.asin((e-d)/c);var i=f+h;e=d+Math.cos(i)*c;k=j+Math.sin(i)*c;return{x:e,y:k}};a.jqx._rup=function(d){var c=Math.round(d);if(d>c){c++}return c};a.jqx.log=function(d,c){return Math.log(d)/(c?Math.log(c):1)};a.jqx._mod=function(d,c){var e=Math.abs(d>c?c:d);var f=1;if(e!=0){while(e*f<100){f*=10}}d=d*f;c=c*f;return(d%c)/f};a.jqx._rnd=function(e,h,f,d){if(isNaN(e)){return e}if(undefined===d){d=true}var c=e-((d==true)?e%h:a.jqx._mod(e,h));if(e==c){return c}if(f){if(e>c){c+=h}}else{if(c>e){c-=h}}return(h==1)?Math.round(c):c};a.jqx.commonRenderer={pieSlicePath:function(m,l,j,u,D,E,e){if(!u){u=1}var o=Math.abs(D-E);var s=o>180?1:0;if(o>=360){E=D+359.99}var t=D*Math.PI*2/360;var k=E*Math.PI*2/360;var B=m,A=m,h=l,f=l;var p=!isNaN(j)&&j>0;if(p){e=0}if(e+j>0){if(e>0){var n=o/2+D;var C=n*Math.PI*2/360;m+=e*Math.cos(C);l-=e*Math.sin(C)}if(p){var z=j;B=m+z*Math.cos(t);h=l-z*Math.sin(t);A=m+z*Math.cos(k);f=l-z*Math.sin(k)}}var w=m+u*Math.cos(t);var v=m+u*Math.cos(k);var d=l-u*Math.sin(t);var c=l-u*Math.sin(k);var q="";var i=(Math.abs(Math.abs(E-D)-360)>0.02);if(p){q="M "+A+","+f;q+=" a"+j+","+j;q+=" 0 "+s+",1 "+(B-A)+","+(h-f);if(i){q+=" L"+w+","+d}else{q+=" M"+w+","+d}q+=" a"+u+","+u;q+=" 0 "+s+",0 "+(v-w)+","+(c-d);if(i){q+=" Z"}}else{q="M "+v+","+c;q+=" a"+u+","+u;q+=" 0 "+s+",1 "+(w-v)+","+(d-c);if(i){q+=" L"+m+","+l;q+=" Z"}}return q},measureText:function(q,h,i,p,n){var f=n._getTextParts(q,h,i);var k=f.width;var c=f.height;if(false==p){c/=0.6}var d={};if(isNaN(h)){h=0}if(h==0){d={width:a.jqx._rup(k),height:a.jqx._rup(c)}}else{var m=h*Math.PI*2/360;var e=Math.abs(Math.sin(m));var l=Math.abs(Math.cos(m));var j=Math.abs(k*e+c*l);var o=Math.abs(k*l+c*e);d={width:a.jqx._rup(o),height:a.jqx._rup(j)}}if(p){d.textPartsInfo=f}return d},alignTextInRect:function(t,p,c,u,o,q,k,s,f,e){var m=f*Math.PI*2/360;var d=Math.sin(m);var l=Math.cos(m);var n=o*d;var j=o*l;if(k=="center"||k==""||k=="undefined"){t=t+c/2}else{if(k=="right"){t=t+c}}if(s=="center"||s=="middle"||s==""||s=="undefined"){p=p+u/2}else{if(s=="bottom"){p+=u-q/2}else{if(s=="top"){p+=q/2}}}e=e||"";var h="middle";if(e.indexOf("top")!=-1){h="top"}else{if(e.indexOf("bottom")!=-1){h="bottom"}}var i="center";if(e.indexOf("left")!=-1){i="left"}else{if(e.indexOf("right")!=-1){i="right"}}if(i=="center"){t-=j/2;p-=n/2}else{if(i=="right"){t-=j;p-=n}}if(h=="top"){t-=q*d;p+=q*l}else{if(h=="middle"){t-=q*d/2;p+=q*l/2}}t=a.jqx._rup(t);p=a.jqx._rup(p);return{x:t,y:p}}};a.jqx.svgRenderer=function(){};a.jqx.svgRenderer.prototype={_svgns:"http://www.w3.org/2000/svg",init:function(h){var f="<table id=tblChart cellspacing='0' cellpadding='0' border='0' align='left' valign='top'><tr><td colspan=2 id=tdTop></td></tr><tr><td id=tdLeft></td><td><div class='chartContainer' style='position:relative' onselectstart='return false;'></div></td></tr></table>";h.append(f);this.host=h;var c=h.find(".chartContainer");c[0].style.width=h.width()+"px";c[0].style.height=h.height()+"px";var j;try{var d=document.createElementNS(this._svgns,"svg");d.setAttribute("id","svgChart");d.setAttribute("version","1.1");d.setAttribute("width","100%");d.setAttribute("height","100%");d.setAttribute("overflow","hidden");c[0].appendChild(d);this.canvas=d}catch(i){return false}this._id=new Date().getTime();this.clear();this._layout();this._runLayoutFix();return true},getType:function(){return"SVG"},refresh:function(){},_runLayoutFix:function(){var c=this;this._fixLayout()},_fixLayout:function(){var h=this.canvas.getBoundingClientRect();var e=(parseFloat(h.left)==parseInt(h.left));var c=(parseFloat(h.top)==parseInt(h.top));if(a.jqx.browser.msie){var e=true,c=true;var f=this.host;var d=0,i=0;while(f&&f.position&&f[0].parentNode){var j=f.position();d+=parseFloat(j.left)-parseInt(j.left);i+=parseFloat(j.top)-parseInt(j.top);f=f.parent()}e=parseFloat(d)==parseInt(d);c=parseFloat(i)==parseInt(i)}if(!e){this.host.find("#tdLeft")[0].style.width="0.5px"}if(!c){this.host.find("#tdTop")[0].style.height="0.5px"}},_layout:function(){var c=this.host.find(".chartContainer");this._width=Math.max(a.jqx._rup(this.host.width())-1,0);this._height=Math.max(a.jqx._rup(this.host.height())-1,0);c[0].style.width=this._width;c[0].style.height=this._height;this._fixLayout()},getRect:function(){return{x:0,y:0,width:this._width,height:this._height}},getContainer:function(){var c=this.host.find(".chartContainer");return c},clear:function(){while(this.canvas.childElementCount>0){this.removeElement(this.canvas.firstElementChild)}this._defaultParent=undefined;this._defs=document.createElementNS(this._svgns,"defs");this._gradients={};this.canvas.appendChild(this._defs)},removeElement:function(e){if(undefined==e){return}this.removeHandler(e);try{while(e.firstChild){this.removeElement(e.firstChild)}if(e.parentNode){e.parentNode.removeChild(e)}else{this.canvas.removeChild(e)}}catch(d){var c=d}},_openGroups:[],beginGroup:function(){var c=this._activeParent();var d=document.createElementNS(this._svgns,"g");c.appendChild(d);this._openGroups.push(d);return d},endGroup:function(){if(this._openGroups.length==0){return}this._openGroups.pop()},_activeParent:function(){return this._openGroups.length==0?this.canvas:this._openGroups[this._openGroups.length-1]},createClipRect:function(e){var f=document.createElementNS(this._svgns,"clipPath");var d=document.createElementNS(this._svgns,"rect");this.attr(d,{x:e.x,y:e.y,width:e.width,height:e.height,fill:"none"});this._clipId=this._clipId||0;f.id="cl"+this._id+"_"+(++this._clipId).toString();f.appendChild(d);this._defs.appendChild(f);return f},getWindowHref:function(){var d=a.jqx.browser;if(d&&d.browser=="msie"&&d.version<10){return""}var c=window.location.href;if(!c){return c}c=c.replace(/([\('\)])/g,"\\$1");c=c.replace(/#.*$/,"");return c},setClip:function(e,d){var c="url("+this.getWindowHref()+"#"+d.id+")";return this.attr(e,{"clip-path":c})},_clipId:0,addHandler:function(c,e,d){if(a(c).on){a(c).on(e,d)}else{a(c).bind(e,d)}},removeHandler:function(c,e,d){if(a(c).off){a(c).off(e,d)}else{a(c).unbind(e,d)}},on:function(c,e,d){this.addHandler(c,e,d)},off:function(c,e,d){this.removeHandler(c,e,d)},shape:function(c,f){var d=document.createElementNS(this._svgns,c);if(!d){return undefined}for(var e in f){d.setAttribute(e,f[e])}this._activeParent().appendChild(d);return d},_getTextParts:function(t,j,k){var h={width:0,height:0,parts:[]};if(undefined===t){return h}var o=0.6;var u=t.toString().split("<br>");var q=this._activeParent();var m=document.createElementNS(this._svgns,"text");this.attr(m,k);for(var l=0;l<u.length;l++){var d=u[l];var f=m.ownerDocument.createTextNode(d);m.appendChild(f);q.appendChild(m);var s;try{s=m.getBBox()}catch(p){}var n=a.jqx._rup(s.width);var c=a.jqx._rup(s.height*o);m.removeChild(f);h.width=Math.max(h.width,n);h.height+=c+(l>0?4:0);h.parts.push({width:n,height:c,text:d})}q.removeChild(m);return h},_measureText:function(f,e,d,c){return a.jqx.commonRenderer.measureText(f,e,d,c,this)},measureText:function(e,d,c){return this._measureText(e,d,c,false)},text:function(z,t,s,E,C,K,M,L,v,m,d){var B=this._measureText(z,K,M,true);var l=B.textPartsInfo;var j=l.parts;var D;if(!v){v="center"}if(!m){m="center"}if(j.length>1||L){D=this.beginGroup()}if(L){var k=this.createClipRect({x:a.jqx._rup(t)-1,y:a.jqx._rup(s)-1,width:a.jqx._rup(E)+2,height:a.jqx._rup(C)+2});this.setClip(D,k)}var q=this._activeParent();var O=0,n=0;var c=0.6;O=l.width;n=l.height;if(isNaN(E)||E<=0){E=O}if(isNaN(C)||C<=0){C=n}var u=E||0;var J=C||0;if(!K||K==0){s+=n;if(m=="center"||m=="middle"){s+=(J-n)/2}else{if(m=="bottom"){s+=J-n}}if(!E){E=O}if(!C){C=n}var q=this._activeParent();var p=0;for(var I=j.length-1;I>=0;I--){var A=document.createElementNS(this._svgns,"text");this.attr(A,M);this.attr(A,{cursor:"default"});var H=A.ownerDocument.createTextNode(j[I].text);A.appendChild(H);var P=t;var o=j[I].width;var f=j[I].height;if(v=="center"){P+=(u-o)/2}else{if(v=="right"){P+=(u-o)}}this.attr(A,{x:a.jqx._rup(P),y:a.jqx._rup(s+p),width:a.jqx._rup(o),height:a.jqx._rup(f)});q.appendChild(A);p-=j[I].height+4}if(D){this.endGroup();return D}return A}var F=a.jqx.commonRenderer.alignTextInRect(t,s,E,C,O,n,v,m,K,d);t=F.x;s=F.y;var G=this.shape("g",{transform:"translate("+t+","+s+")"});var e=this.shape("g",{transform:"rotate("+K+")"});G.appendChild(e);var p=0;for(var I=j.length-1;I>=0;I--){var N=document.createElementNS(this._svgns,"text");this.attr(N,M);this.attr(N,{cursor:"default"});var H=N.ownerDocument.createTextNode(j[I].text);N.appendChild(H);var P=0;var o=j[I].width;var f=j[I].height;if(v=="center"){P+=(l.width-o)/2}else{if(v=="right"){P+=(l.width-o)}}this.attr(N,{x:a.jqx._rup(P),y:a.jqx._rup(p),width:a.jqx._rup(o),height:a.jqx._rup(f)});e.appendChild(N);p-=f+4}q.appendChild(G);if(D){this.endGroup()}return G},line:function(e,h,d,f,i){var c=this.shape("line",{x1:e,y1:h,x2:d,y2:f});this.attr(c,i);return c},path:function(d,e){var c=this.shape("path");c.setAttribute("d",d);if(e){this.attr(c,e)}return c},rect:function(c,j,d,f,i){c=a.jqx._ptrnd(c);j=a.jqx._ptrnd(j);d=Math.max(1,a.jqx._rnd(d,1,false));f=Math.max(1,a.jqx._rnd(f,1,false));var e=this.shape("rect",{x:c,y:j,width:d,height:f});if(i){this.attr(e,i)}return e},circle:function(c,h,e,f){var d=this.shape("circle",{cx:c,cy:h,r:e});if(f){this.attr(d,f)}return d},pieSlicePath:function(d,j,i,f,h,e,c){return a.jqx.commonRenderer.pieSlicePath(d,j,i,f,h,e,c)},pieslice:function(l,j,i,e,h,c,k,d){var f=this.pieSlicePath(l,j,i,e,h,c,k);var m=this.shape("path");m.setAttribute("d",f);if(d){this.attr(m,d)}return m},attr:function(c,e){if(!c||!e){return}for(var d in e){if(d=="textContent"){c.textContent=e[d]}else{c.setAttribute(d,e[d])}}},removeAttr:function(c,e){if(!c||!e){return}for(var d in e){if(d=="textContent"){c.textContent=""}else{c.removeAttribute(e[d])}}},getAttr:function(d,c){return d.getAttribute(c)},_gradients:{},_toLinearGradient:function(f,k,l){var d="grd"+this._id+f.replace("#","")+(k?"v":"h");var c="url("+this.getWindowHref()+"#"+d+")";if(this._gradients[c]){return c}var e=document.createElementNS(this._svgns,"linearGradient");this.attr(e,{x1:"0%",y1:"0%",x2:k?"0%":"100%",y2:k?"100%":"0%",id:d});for(var h=0;h<l.length;h++){var j=l[h];var n=document.createElementNS(this._svgns,"stop");var m="stop-color:"+a.jqx.adjustColor(f,j[1]);this.attr(n,{offset:j[0]+"%",style:m});e.appendChild(n)}this._defs.appendChild(e);this._gradients[c]=true;return c},_toRadialGradient:function(f,l,k){var d="grd"+this._id+f.replace("#","")+"r"+(k!=undefined?k.key:"");var c="url("+this.getWindowHref()+"#"+d+")";if(this._gradients[c]){return c}var e=document.createElementNS(this._svgns,"radialGradient");if(k==undefined){this.attr(e,{cx:"50%",cy:"50%",r:"100%",fx:"50%",fy:"50%",id:d})}else{this.attr(e,{cx:k.x,cy:k.y,r:k.outerRadius,id:d,gradientUnits:"userSpaceOnUse"})}for(var h=0;h<l.length;h++){var j=l[h];var n=document.createElementNS(this._svgns,"stop");var m="stop-color:"+a.jqx.adjustColor(f,j[1]);this.attr(n,{offset:j[0]+"%",style:m});e.appendChild(n)}this._defs.appendChild(e);this._gradients[c]=true;return c}};a.jqx.vmlRenderer=function(){};a.jqx.vmlRenderer.prototype={init:function(j){var h="<div class='chartContainer' style=\"position:relative;overflow:hidden;\"><div>";j.append(h);this.host=j;var c=j.find(".chartContainer");c[0].style.width=j.width()+"px";c[0].style.height=j.height()+"px";var f=true;try{for(var d=0;d<document.namespaces.length;d++){if(document.namespaces[d].name=="v"&&document.namespaces[d].urn=="urn:schemas-microsoft-com:vml"){f=false;break}}}catch(k){return false}if(a.jqx.browser.msie&&parseInt(a.jqx.browser.version)<9&&(document.childNodes&&document.childNodes.length>0&&document.childNodes[0].data&&document.childNodes[0].data.indexOf("DOCTYPE")!=-1)){if(f){document.namespaces.add("v","urn:schemas-microsoft-com:vml")}this._ie8mode=true}else{if(f){document.namespaces.add("v","urn:schemas-microsoft-com:vml");document.createStyleSheet().cssText="v\\:* { behavior: url(#default#VML); display: inline-block; }"}}this.canvas=c[0];this._width=Math.max(a.jqx._rup(c.width()),0);this._height=Math.max(a.jqx._rup(c.height()),0);c[0].style.width=this._width+2;c[0].style.height=this._height+2;this._id=new Date().getTime();this.clear();return true},getType:function(){return"VML"},refresh:function(){},getRect:function(){return{x:0,y:0,width:this._width,height:this._height}},getContainer:function(){var c=this.host.find(".chartContainer");return c},clear:function(){while(this.canvas.childElementCount>0){this.removeHandler(this.canvas.firstElementChild);this.canvas.removeChild(this.canvas.firstElementChild)}this._gradients={};this._defaultParent=undefined},removeElement:function(c){if(c!=null){this.removeHandler(c);c.parentNode.removeChild(c)}},_openGroups:[],beginGroup:function(){var c=this._activeParent();var d=document.createElement("v:group");d.style.position="absolute";d.coordorigin="0,0";d.coordsize=this._width+","+this._height;d.style.left=0;d.style.top=0;d.style.width=this._width;d.style.height=this._height;c.appendChild(d);this._openGroups.push(d);return d},endGroup:function(){if(this._openGroups.length==0){return}this._openGroups.pop()},_activeParent:function(){return this._openGroups.length==0?this.canvas:this._openGroups[this._openGroups.length-1]},createClipRect:function(c){var d=document.createElement("div");d.style.height=(c.height+1)+"px";d.style.width=(c.width+1)+"px";d.style.position="absolute";d.style.left=c.x+"px";d.style.top=c.y+"px";d.style.overflow="hidden";this._clipId=this._clipId||0;d.id="cl"+this._id+"_"+(++this._clipId).toString();this._activeParent().appendChild(d);return d},setClip:function(d,c){},_clipId:0,addHandler:function(c,e,d){if(a(c).on){a(c).on(e,d)}else{a(c).bind(e,d)}},removeHandler:function(c,e,d){if(a(c).off){a(c).off(e,d)}else{a(c).unbind(e,d)}},on:function(c,e,d){this.addHandler(c,e,d)},off:function(c,e,d){this.removeHandler(c,e,d)},_getTextParts:function(q,h,j){var f={width:0,height:0,parts:[]};var o=0.6;var s=q.toString().split("<br>");var p=this._activeParent();var l=document.createElement("v:textbox");this.attr(l,j);p.appendChild(l);for(var k=0;k<s.length;k++){var d=s[k];var e=document.createElement("span");e.appendChild(document.createTextNode(d));l.appendChild(e);if(j&&j["class"]){e.className=j["class"]}var n=a(l);var m=a.jqx._rup(n.width());var c=a.jqx._rup(n.height()*o);if(c==0&&a.jqx.browser.msie&&parseInt(a.jqx.browser.version)<9){var t=n.css("font-size");if(t){c=parseInt(t);if(isNaN(c)){c=0}}}l.removeChild(e);f.width=Math.max(f.width,m);f.height+=c+(k>0?2:0);f.parts.push({width:m,height:c,text:d})}p.removeChild(l);return f},_measureText:function(f,e,d,c){if(Math.abs(e)>45){e=90}else{e=0}return a.jqx.commonRenderer.measureText(f,e,d,c,this)},measureText:function(e,d,c){return this._measureText(e,d,c,false)},text:function(u,p,o,D,z,J,L,K,t,k){var E;if(L&&L.stroke){E=L.stroke}if(E==undefined){E="black"}var v=this._measureText(u,J,L,true);var f=v.textPartsInfo;var c=f.parts;var M=v.width;var l=v.height;if(isNaN(D)||D==0){D=M}if(isNaN(z)||z==0){z=l}var B;if(!t){t="center"}if(!k){k="center"}if(c.length>0||K){B=this.beginGroup()}if(K){var d=this.createClipRect({x:a.jqx._rup(p),y:a.jqx._rup(o),width:a.jqx._rup(D),height:a.jqx._rup(z)});this.setClip(B,d)}var n=this._activeParent();var s=D||0;var I=z||0;if(Math.abs(J)>45){J=90}else{J=0}var A=0,H=0;if(t=="center"){A+=(s-M)/2}else{if(t=="right"){A+=(s-M)}}if(k=="center"){H=(I-l)/2}else{if(k=="bottom"){H=I-l}}if(J==0){o+=l+H;p+=A}else{p+=M+A;o+=H}var m=0,N=0;var e;for(var G=c.length-1;G>=0;G--){var C=c[G];var q=(M-C.width)/2;if(J==0&&t=="left"){q=0}else{if(J==0&&t=="right"){q=M-C.width}else{if(J==90){q=(l-C.width)/2}}}var j=m-C.height;H=J==90?q:j;A=J==90?j:q;e=document.createElement("v:textbox");e.style.position="absolute";e.style.left=a.jqx._rup(p+A);e.style.top=a.jqx._rup(o+H);e.style.width=a.jqx._rup(C.width);e.style.height=a.jqx._rup(C.height);if(J==90){e.style.filter="progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";e.style.height=a.jqx._rup(C.height)+5}var F=document.createElement("span");F.appendChild(document.createTextNode(C.text));if(L&&L["class"]){F.className=L["class"]}e.appendChild(F);n.appendChild(e);m-=C.height+(G>0?2:0)}if(B){this.endGroup();return n}return e},shape:function(c,f){var d=document.createElement(this._createElementMarkup(c));if(!d){return undefined}for(var e in f){d.setAttribute(e,f[e])}this._activeParent().appendChild(d);return d},line:function(f,i,e,h,j){var c="M "+f+","+i+" L "+e+","+h+" X E";var d=this.path(c);this.attr(d,j);return d},_createElementMarkup:function(c){var d="<v:"+c+' style=""></v:'+c+">";if(this._ie8mode){d=d.replace('style=""','style="behavior: url(#default#VML);"')}return d},path:function(d,e){var c=document.createElement(this._createElementMarkup("shape"));c.style.position="absolute";c.coordsize=this._width+" "+this._height;c.coordorigin="0 0";c.style.width=parseInt(this._width);c.style.height=parseInt(this._height);c.style.left=0+"px";c.style.top=0+"px";c.setAttribute("path",d);this._activeParent().appendChild(c);if(e){this.attr(c,e)}return c},rect:function(c,j,d,e,i){c=a.jqx._ptrnd(c);j=a.jqx._ptrnd(j);d=a.jqx._rup(d);e=a.jqx._rup(e);var f=this.shape("rect",i);f.style.position="absolute";f.style.left=c;f.style.top=j;f.style.width=d;f.style.height=e;f.strokeweight=0;if(i){this.attr(f,i)}return f},circle:function(c,h,e,f){var d=this.shape("oval");c=a.jqx._ptrnd(c-e);h=a.jqx._ptrnd(h-e);e=a.jqx._rup(e);d.style.position="absolute";d.style.left=c;d.style.top=h;d.style.width=e*2;d.style.height=e*2;if(f){this.attr(d,f)}return d},updateCircle:function(e,c,f,d){if(c==undefined){c=parseFloat(e.style.left)+parseFloat(e.style.width)/2}if(f==undefined){f=parseFloat(e.style.top)+parseFloat(e.style.height)/2}if(d==undefined){d=parseFloat(e.width)/2}c=a.jqx._ptrnd(c-d);f=a.jqx._ptrnd(f-d);d=a.jqx._rup(d);e.style.left=c;e.style.top=f;e.style.width=d*2;e.style.height=d*2},pieSlicePath:function(m,l,j,u,E,F,e){if(!u){u=1}var o=Math.abs(E-F);var s=o>180?1:0;if(o>360){E=0;F=360}var t=E*Math.PI*2/360;var k=F*Math.PI*2/360;var B=m,A=m,h=l,f=l;var p=!isNaN(j)&&j>0;if(p){e=0}if(e>0){var n=o/2+E;var D=n*Math.PI*2/360;m+=e*Math.cos(D);l-=e*Math.sin(D)}if(p){var z=j;B=a.jqx._ptrnd(m+z*Math.cos(t));h=a.jqx._ptrnd(l-z*Math.sin(t));A=a.jqx._ptrnd(m+z*Math.cos(k));f=a.jqx._ptrnd(l-z*Math.sin(k))}var w=a.jqx._ptrnd(m+u*Math.cos(t));var v=a.jqx._ptrnd(m+u*Math.cos(k));var d=a.jqx._ptrnd(l-u*Math.sin(t));var c=a.jqx._ptrnd(l-u*Math.sin(k));u=a.jqx._ptrnd(u);j=a.jqx._ptrnd(j);m=a.jqx._ptrnd(m);l=a.jqx._ptrnd(l);var i=Math.round(E*65535);var C=Math.round((F-E)*65536);if(j<0){j=1}var q="";if(p){q="M"+B+" "+h;q+=" AE "+m+" "+l+" "+j+" "+j+" "+i+" "+C;q+=" L "+v+" "+c;i=Math.round((E-F)*65535);C=Math.round(F*65536);q+=" AE "+m+" "+l+" "+u+" "+u+" "+C+" "+i;q+=" L "+B+" "+h}else{q="M"+m+" "+l;q+=" AE "+m+" "+l+" "+u+" "+u+" "+i+" "+C}q+=" X E";return q},pieslice:function(m,k,j,f,i,c,l,e){var h=this.pieSlicePath(m,k,j,f,i,c,l);var d=this.path(h,e);if(e){this.attr(d,e)}return d},_keymap:[{svg:"fill",vml:"fillcolor"},{svg:"stroke",vml:"strokecolor"},{svg:"stroke-width",vml:"strokeweight"},{svg:"stroke-dasharray",vml:"dashstyle"},{svg:"fill-opacity",vml:"fillopacity"},{svg:"stroke-opacity",vml:"strokeopacity"},{svg:"opacity",vml:"opacity"},{svg:"cx",vml:"style.left"},{svg:"cy",vml:"style.top"},{svg:"height",vml:"style.height"},{svg:"width",vml:"style.width"},{svg:"x",vml:"style.left"},{svg:"y",vml:"style.top"},{svg:"d",vml:"v"},{svg:"display",vml:"style.display"}],_translateParam:function(c){for(var d in this._keymap){if(this._keymap[d].svg==c){return this._keymap[d].vml}}return c},attr:function(d,f){if(!d||!f){return}for(var e in f){var c=this._translateParam(e);if(undefined==f[e]){continue}if(c=="fillcolor"&&f[e].indexOf("grd")!=-1){d.type=f[e]}else{if(c=="fillcolor"&&f[e]=="transparent"){d.style.filter="alpha(opacity=0)";d["-ms-filter"]="progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"}else{if(c=="opacity"||c=="fillopacity"){if(d.fill){d.fill.opacity=f[e]}}else{if(c=="textContent"){d.children[0].innerText=f[e]}else{if(c=="dashstyle"){d.dashstyle=f[e].replace(","," ")}else{if(c.indexOf("style.")==-1){d[c]=f[e]}else{d.style[c.replace("style.","")]=f[e]}}}}}}}},removeAttr:function(c,e){if(!c||!e){return}for(var d in e){c.removeAttribute(e[d])}},getAttr:function(e,d){var c=this._translateParam(d);if(c=="opacity"||c=="fillopacity"){if(e.fill){return e.fill.opacity}else{return 1}}if(c.indexOf("style.")==-1){return e[c]}return e.style[c.replace("style.","")]},_gradients:{},_toRadialGradient:function(c,e,d){return c},_toLinearGradient:function(j,m,n){if(this._ie8mode){return j}var e="grd"+j.replace("#","")+(m?"v":"h");var f="#"+e+"";if(this._gradients[f]){return f}var h=document.createElement(this._createElementMarkup("fill"));h.type="gradient";h.method="linear";h.angle=m?0:90;var d="";for(var k=0;k<n.length;k++){var l=n[k];if(l>0){d+=", "}d+=l[0]+"% "+a.jqx.adjustColor(j,l[1])}h.colors=d;var c=document.createElement(this._createElementMarkup("shapetype"));c.appendChild(h);c.id=e;this.canvas.appendChild(c);return f}};a.jqx.HTML5Renderer=function(){};a.jqx.ptrnd=function(d){if(Math.abs(Math.round(d)-d)==0.5){return d}var c=Math.round(d);if(c<d){c=c-1}return c+0.5};a.jqx.HTML5Renderer.prototype={init:function(c){try{this.host=c;this.host.append("<div class='chartContainer' style='position:relative' onselectstart='return false;'><canvas id='__jqxCanvasWrap' style='width:100%; height: 100%;'/></div>");this.canvas=c.find("#__jqxCanvasWrap");this.canvas[0].width=c.width();this.canvas[0].height=c.height();this.ctx=this.canvas[0].getContext("2d");this._elements={};this._maxId=0;this._gradientId=0;this._gradients={};this._currentPoint={x:0,y:0};this._lastCmd="";this._pos=0}catch(d){return false}return true},getType:function(){return"HTML5"},getContainer:function(){var c=this.host.find(".chartContainer");return c},getRect:function(){return{x:0,y:0,width:this.canvas[0].width-1,height:this.canvas[0].height-1}},beginGroup:function(){},endGroup:function(){},setClip:function(){},createClipRect:function(c){},addHandler:function(c,e,d){},removeHandler:function(c,e,d){},on:function(c,e,d){this.addHandler(c,e,d)},off:function(c,e,d){this.removeHandler(c,e,d)},clear:function(){this._elements={};this._maxId=0;this._renderers._gradients={};this._gradientId=0},removeElement:function(c){if(undefined==c){return}if(this._elements[c.id]){delete this._elements[c.id]}},shape:function(c,f){var d={type:c,id:this._maxId++};for(var e in f){d[e]=f[e]}this._elements[d.id]=d;return d},attr:function(c,e){for(var d in e){c[d]=e[d]}},removeAttr:function(c,e){for(var d in e){delete c[e[d]]}},rect:function(c,j,d,f,i){if(isNaN(c)){throw'Invalid value for "x"'}if(isNaN(j)){throw'Invalid value for "y"'}if(isNaN(d)){throw'Invalid value for "width"'}if(isNaN(f)){throw'Invalid value for "height"'}var e=this.shape("rect",{x:c,y:j,width:d,height:f});if(i){this.attr(e,i)}return e},path:function(c,e){var d=this.shape("path",e);this.attr(d,{d:c});return d},line:function(d,f,c,e,h){return this.path("M "+d+","+f+" L "+c+","+e,h)},circle:function(c,h,e,f){var d=this.shape("circle",{x:c,y:h,r:e});if(f){this.attr(d,f)}return d},pieSlicePath:function(d,j,i,f,h,e,c){return a.jqx.commonRenderer.pieSlicePath(d,j,i,f,h,e,c)},pieslice:function(l,j,i,f,h,c,k,d){var e=this.path(this.pieSlicePath(l,j,i,f,h,c,k),d);this.attr(e,{x:l,y:j,innerRadius:i,outerRadius:f,angleFrom:h,angleTo:c});return e},_getCSSStyle:function(d){var k=document.styleSheets;try{for(var f=0;f<k.length;f++){for(var c=0;k[f].cssRules&&c<k[f].cssRules.length;c++){if(k[f].cssRules[c].selectorText.indexOf(d)!=-1){return k[f].cssRules[c].style}}}}catch(h){}return{}},_getTextParts:function(s,h,j){var n="Arial";var t="10pt";var o="";if(j&&j["class"]){var c=this._getCSSStyle(j["class"]);if(c.fontSize){t=c.fontSize}if(c.fontFamily){n=c.fontFamily}if(c.fontWeight){o=c.fontWeight}}this.ctx.font=o+" "+t+" "+n;var f={width:0,height:0,parts:[]};var m=0.6;var q=s.toString().split("<br>");for(var k=0;k<q.length;k++){var e=q[k];var l=this.ctx.measureText(e).width;var p=document.createElement("span.jqxchart");p.font=this.ctx.font;p.textContent=e;document.body.appendChild(p);var d=p.offsetHeight*m;document.body.removeChild(p);f.width=Math.max(f.width,a.jqx._rup(l));f.height+=d+(k>0?4:0);f.parts.push({width:l,height:d,text:e})}return f},_measureText:function(f,e,d,c){return a.jqx.commonRenderer.measureText(f,e,d,c,this)},measureText:function(e,d,c){return this._measureText(e,d,c,false)},text:function(o,n,l,d,p,h,i,e,j,m,f){var q=this.shape("text",{text:o,x:n,y:l,width:d,height:p,angle:h,clip:e,halign:j,valign:m,rotateAround:f});if(i){this.attr(q,i)}q.fontFamily="Arial";q.fontSize="10pt";q.fontWeight="";q.color="#000000";if(i&&i["class"]){var c=this._getCSSStyle(i["class"]);q.fontFamily=c.fontFamily||q.fontFamily;q.fontSize=c.fontSize||q.fontSize;q.fontWeight=c.fontWeight||q.fontWeight;q.color=c.color||q.color}var k=this._measureText(o,0,i,true);this.attr(q,{textPartsInfo:k.textPartsInfo,textWidth:k.width,textHeight:k.height});if(d<=0||isNaN(d)){this.attr(q,{width:k.width})}if(p<=0||isNaN(p)){this.attr(q,{height:k.height})}return q},_toLinearGradient:function(d,j,h){if(this._renderers._gradients[d]){return d}var c=[];for(var f=0;f<h.length;f++){c.push({percent:h[f][0]/100,color:a.jqx.adjustColor(d,h[f][1])})}var e="gr"+this._gradientId++;this.createGradient(e,j?"vertical":"horizontal",c);return e},_toRadialGradient:function(d,h){if(this._renderers._gradients[d]){return d}var c=[];for(var f=0;f<h.length;f++){c.push({percent:h[f][0]/100,color:a.jqx.adjustColor(d,h[f][1])})}var e="gr"+this._gradientId++;this.createGradient(e,"radial",c);return e},createGradient:function(e,d,c){this._renderers.createGradient(this,e,d,c)},_renderers:{createGradient:function(f,e,d,c){f._gradients[e]={orientation:d,colorStops:c}},setStroke:function(d,e){var c=d.ctx;c.strokeStyle=e.stroke||"transparent";c.lineWidth=e["stroke-width"]||1;if(e["fill-opacity"]!=undefined){c.globalAlpha=e["fill-opacity"]}else{if(e.opacity!=undefined){c.globalAlpha=e.opacity}else{c.globalAlpha=1}}if(c.setLineDash){if(e["stroke-dasharray"]){c.setLineDash(e["stroke-dasharray"].split(","))}else{c.setLineDash([])}}},setFillStyle:function(d,h){var p=d.ctx;p.fillStyle="transparent";if(h["fill-opacity"]!=undefined){p.globalAlpha=h["fill-opacity"]}else{if(h.opacity!=undefined){p.globalAlpha=h.opacity}else{p.globalAlpha=1}}if(h.fill&&h.fill.indexOf("#")==-1&&d._gradients[h.fill]){var n=d._gradients[h.fill].orientation!="horizontal";var k=d._gradients[h.fill].orientation=="radial";var e=a.jqx.ptrnd(h.x);var o=a.jqx.ptrnd(h.y);var c=a.jqx.ptrnd(h.x+(n?0:h.width));var l=a.jqx.ptrnd(h.y+(n?h.height:0));var m;if((h.type=="circle"||h.type=="path"||h.type=="rect")&&k){x=a.jqx.ptrnd(h.x);y=a.jqx.ptrnd(h.y);r1=h.innerRadius||0;r2=h.outerRadius||h.r||0;if(h.type=="rect"){x+=h.width/2;y+=h.height/2}m=p.createRadialGradient(x,y,r1,x,y,r2)}if(!k){if(isNaN(e)||isNaN(c)||isNaN(o)||isNaN(l)){e=0;o=0;c=n?0:p.canvas.width;l=n?p.canvas.height:0}m=p.createLinearGradient(e,o,c,l)}var f=d._gradients[h.fill].colorStops;for(var j=0;j<f.length;j++){m.addColorStop(f[j].percent,f[j].color)}p.fillStyle=m}else{if(h.fill){p.fillStyle=h.fill}}},rect:function(c,d){if(d.width==0||d.height==0){return}c.fillRect(a.jqx.ptrnd(d.x),a.jqx.ptrnd(d.y),d.width,d.height);c.strokeRect(a.jqx.ptrnd(d.x),a.jqx.ptrnd(d.y),d.width,d.height)},circle:function(c,d){if(d.r==0){return}c.beginPath();c.arc(a.jqx.ptrnd(d.x),a.jqx.ptrnd(d.y),d.r,0,Math.PI*2,false);c.closePath();c.fill();c.stroke()},_parsePoint:function(d){var c=this._parseNumber(d);var e=this._parseNumber(d);return({x:c,y:e})},_parseNumber:function(e){var f=false;for(var c=this._pos;c<e.length;c++){if((e[c]>="0"&&e[c]<="9")||e[c]=="."||e[c]=="e"||(e[c]=="-"&&!f)||(e[c]=="-"&&c>=1&&e[c-1]=="e")){f=true;continue}if(!f&&(e[c]==" "||e[c]==",")){this._pos++;continue}break}var d=parseFloat(e.substring(this._pos,c));if(isNaN(d)){return undefined}this._pos=c;return d},_cmds:"mlcazq",_isRelativeCmd:function(c){return a.jqx.string.contains(this._cmds,c)},_parseCmd:function(c){for(var d=this._pos;d<c.length;d++){if(a.jqx.string.containsIgnoreCase(this._cmds,c[d])){this._pos=d+1;this._lastCmd=c[d];return this._lastCmd}if(c[d]==" "){this._pos++;continue}if(c[d]>="0"&&c[d]<="9"){this._pos=d;if(this._lastCmd==""){break}else{return this._lastCmd}}}return undefined},_toAbsolutePoint:function(c){return{x:this._currentPoint.x+c.x,y:this._currentPoint.y+c.y}},path:function(E,N){var B=N.d;this._pos=0;this._lastCmd="";var n=undefined;this._currentPoint={x:0,y:0};E.beginPath();var I=0;while(this._pos<B.length){var H=this._parseCmd(B);if(H==undefined){break}if(H=="M"||H=="m"){var F=this._parsePoint(B);if(F==undefined){break}E.moveTo(F.x,F.y);this._currentPoint=F;if(n==undefined){n=F}continue}if(H=="L"||H=="l"){var F=this._parsePoint(B);if(F==undefined){break}E.lineTo(F.x,F.y);this._currentPoint=F;continue}if(H=="A"||H=="a"){var j=this._parseNumber(B);var h=this._parseNumber(B);var L=this._parseNumber(B)*(Math.PI/180);var P=this._parseNumber(B);var f=this._parseNumber(B);var q=this._parsePoint(B);if(this._isRelativeCmd(H)){q=this._toAbsolutePoint(q)}if(j==0||h==0){continue}var k=this._currentPoint;var K={x:Math.cos(L)*(k.x-q.x)/2+Math.sin(L)*(k.y-q.y)/2,y:-Math.sin(L)*(k.x-q.x)/2+Math.cos(L)*(k.y-q.y)/2};var l=Math.pow(K.x,2)/Math.pow(j,2)+Math.pow(K.y,2)/Math.pow(h,2);if(l>1){j*=Math.sqrt(l);h*=Math.sqrt(l)}var t=(P==f?-1:1)*Math.sqrt(((Math.pow(j,2)*Math.pow(h,2))-(Math.pow(j,2)*Math.pow(K.y,2))-(Math.pow(h,2)*Math.pow(K.x,2)))/(Math.pow(j,2)*Math.pow(K.y,2)+Math.pow(h,2)*Math.pow(K.x,2)));if(isNaN(t)){t=0}var J={x:t*j*K.y/h,y:t*-h*K.x/j};var D={x:(k.x+q.x)/2+Math.cos(L)*J.x-Math.sin(L)*J.y,y:(k.y+q.y)/2+Math.sin(L)*J.x+Math.cos(L)*J.y};var C=function(i){return Math.sqrt(Math.pow(i[0],2)+Math.pow(i[1],2))};var z=function(m,i){return(m[0]*i[0]+m[1]*i[1])/(C(m)*C(i))};var O=function(m,i){return(m[0]*i[1]<m[1]*i[0]?-1:1)*Math.acos(z(m,i))};var G=O([1,0],[(K.x-J.x)/j,(K.y-J.y)/h]);var p=[(K.x-J.x)/j,(K.y-J.y)/h];var o=[(-K.x-J.x)/j,(-K.y-J.y)/h];var M=O(p,o);if(z(p,o)<=-1){M=Math.PI}if(z(p,o)>=1){M=0}if(f==0&&M>0){M=M-2*Math.PI}if(f==1&&M<0){M=M+2*Math.PI}var z=(j>h)?j:h;var A=(j>h)?1:j/h;var w=(j>h)?h/j:1;E.translate(D.x,D.y);E.rotate(L);E.scale(A,w);E.arc(0,0,z,G,G+M,1-f);E.scale(1/A,1/w);E.rotate(-L);E.translate(-D.x,-D.y);continue}if((H=="Z"||H=="z")&&n!=undefined){E.lineTo(n.x,n.y);this._currentPoint=n;continue}if(H=="C"||H=="c"){var e=this._parsePoint(B);var d=this._parsePoint(B);var c=this._parsePoint(B);E.bezierCurveTo(e.x,e.y,d.x,d.y,c.x,c.y);this._currentPoint=c;continue}if(H=="Q"||H=="q"){var e=this._parsePoint(B);var d=this._parsePoint(B);E.quadraticCurveTo(e.x,e.y,d.x,d.y);this._currentPoint=d;continue}}E.fill();E.stroke();E.closePath()},text:function(A,G){var p=a.jqx.ptrnd(G.x);var o=a.jqx.ptrnd(G.y);var v=a.jqx.ptrnd(G.width);var t=a.jqx.ptrnd(G.height);var s=G.halign;var k=G.valign;var D=G.angle;var c=G.rotateAround;var f=G.textPartsInfo;var e=f.parts;var E=G.clip;if(E==undefined){E=true}A.save();if(!s){s="center"}if(!k){k="center"}if(E){A.rect(p,o,v,t);A.clip()}var H=G.textWidth;var l=G.textHeight;var q=v||0;var C=t||0;A.fillStyle=G.color;A.font=G.fontWeight+" "+G.fontSize+" "+G.fontFamily;if(!D||D==0){o+=l;if(k=="center"||k=="middle"){o+=(C-l)/2}else{if(k=="bottom"){o+=C-l}}if(!v){v=H}if(!t){t=l}var n=0;for(var B=e.length-1;B>=0;B--){var u=e[B];var I=p;var m=e[B].width;var d=e[B].height;if(s=="center"){I+=(q-m)/2}else{if(s=="right"){I+=(q-m)}}A.fillText(u.text,I,o+n);n-=u.height+(B>0?4:0)}A.restore();return}var z=a.jqx.commonRenderer.alignTextInRect(p,o,v,t,H,l,s,k,D,c);p=z.x;o=z.y;var j=D*Math.PI*2/360;A.translate(p,o);A.rotate(j);var n=0;var F=f.width;for(var B=e.length-1;B>=0;B--){var I=0;if(s=="center"){I+=(F-e[B].width)/2}else{if(s=="right"){I+=(F-e[B].width)}}A.fillText(e[B].text,I,n);n-=e[B].height+4}A.restore()}},refresh:function(){this.ctx.clearRect(0,0,this.canvas[0].width,this.canvas[0].height);for(var c in this._elements){var d=this._elements[c];this._renderers.setFillStyle(this,d);this._renderers.setStroke(this,d);this._renderers[this._elements[c].type](this.ctx,d)}}};a.jqx.createRenderer=function(c,e){var d=c;var f=d.renderer=null;if(document.createElementNS&&(d.renderEngine!="HTML5"&&d.renderEngine!="VML")){f=new a.jqx.svgRenderer();if(!f.init(e)){if(d.renderEngine=="SVG"){throw"Your browser does not support SVG"}return null}}if(f==null&&d.renderEngine!="HTML5"){f=new a.jqx.vmlRenderer();if(!f.init(e)){if(d.renderEngine=="VML"){throw"Your browser does not support VML"}return null}d._isVML=true}if(f==null&&(d.renderEngine=="HTML5"||d.renderEngine==undefined)){f=new a.jqx.HTML5Renderer();if(!f.init(e)){throw"Your browser does not support HTML5 Canvas"}}d.renderer=f;return f},a.jqx._widgetToImage=function(q,k,f,o,i,h){var m=q;if(!m){return false}if(f==undefined||f==""){f="image."+k}var n=m.renderEngine;var d=m.enableAnimations;m.enableAnimations=false;m.renderEngine="HTML5";if(m.renderEngine!=n){try{m.refresh()}catch(j){m.renderEngine=n;m.refresh();m.enableAnimations=d;return false}}var c=m.renderer.getContainer().find("canvas")[0];var l=true;if(a.isFunction(h)){l=h(q,c)}var p=true;if(l){p=a.jqx.exportImage(c,k,f,o,i)}if(m.renderEngine!=n){m.renderEngine=n;m.refresh();m.enableAnimations=d}return p};a.jqx.getByPriority=function(c){var e=undefined;for(var d=0;d<c.length&&e==undefined;d++){if(e==undefined&&c[d]!=undefined){e=c[d]}}return e};a.jqx.exportImage=function(f,o,h,s,k){if(!f){return false}var m=o.toLowerCase()==="pdf";if(m){o="jpeg"}if(h==undefined||h==""){h="image."+o}if(s==undefined||s==""){throw"Please specifiy export server"}var u=true;try{if(f){var i=f.toDataURL("image/"+o);if(m){if(!a.jqx.pdfExport){a.jqx.pdfExport={orientation:"portrait",paperSize:"a4"}}var j=595;switch(a.jqx.pdfExport.paperSize){case"legal":var j=612;if(a.jqx.pdfExport.orientation!=="portrait"){j=1008}break;case"letter":var j=612;if(a.jqx.pdfExport.orientation!=="portrait"){j=792}break;case"a3":var j=841;if(a.jqx.pdfExport.orientation!=="portrait"){j=1190}break;case"a4":var j=595;if(a.jqx.pdfExport.orientation!=="portrait"){j=842}break;case"a5":var j=420;if(a.jqx.pdfExport.orientation!=="portrait"){j=595}break}var l=a(f).width();var p=l*72/96;if(p>=j-20){p=j-20}var q=new pdfDataExport(a.jqx.pdfExport.orientation,"pt",a.jqx.pdfExport.paperSize);q.addImage(i,"JPEG",10,10,p,0);q.save(h);return}i=i.replace("data:image/"+o+";base64,","");if(k){a.ajax({dataType:"string",url:s,type:"POST",data:{content:i,fname:h},async:false,success:function(v,e,w){u=true},error:function(v,e,w){u=false}})}else{var d=document.createElement("form");d.method="POST";d.action=s;d.style.display="none";document.body.appendChild(d);var t=document.createElement("input");t.name="fname";t.value=h;t.style.display="none";var c=document.createElement("input");c.name="content";c.value=i;c.style.display="none";d.appendChild(t);d.appendChild(c);d.submit();document.body.removeChild(d);u=true}}}catch(n){u=false}return u}})(jqxBaseFramework);(function(a){jqxPlot=function(){};jqxPlot.prototype={get:function(e,c,d){return d!==undefined?e[c][d]:e[c]},min:function(h,e){var d=NaN;for(var c=0;c<h.length;c++){var f=this.get(h,c,e);if(isNaN(d)||f<d){d=f}}return d},max:function(h,e){var c=NaN;for(var d=0;d<h.length;d++){var f=this.get(h,d,e);if(isNaN(c)||f>c){c=f}}return c},sum:function(h,d){var e=0;for(var c=0;c<h.length;c++){var f=this.get(h,c,d);if(!isNaN(f)){e+=f}}return e},count:function(h,d){var e=0;for(var c=0;c<h.length;c++){var f=this.get(h,c,d);if(!isNaN(f)){e++}}return e},avg:function(d,c){return this.sum(d,c)/Math.max(1,count(d,c))},filter:function(f,e){if(!e){return f}var c=[];for(var d=0;d<f.length;d++){if(e(f[d])){c.push(f[d])}}return c},scale:function(e,k,l,i){if(isNaN(e)){return NaN}if(e<Math.min(k.min,k.max)||e>Math.max(k.min,k.max)){if(!i||i.ignore_range!==true){return NaN}}var p=NaN;var n=1;if(k.type===undefined||k.type!="logarithmic"){var m=Math.abs(k.max-k.min);if(!m){m=1}n=Math.abs(e-Math.min(k.min,k.max))/m}else{if(k.type==="logarithmic"){var f=k.base;if(isNaN(f)){f=10}var j=Math.min(k.min,k.max);if(j<=0){j=1}var o=Math.max(k.min,k.max);if(o<=0){o=1}var h=a.jqx.log(o,f);o=Math.pow(f,h);var d=a.jqx.log(j,f);j=Math.pow(f,d);var c=a.jqx.log(e,f);n=Math.abs(c-d)/(h-d)}}if(l.type==="logarithmic"){var f=l.base;if(isNaN(f)){f=10}var h=a.jqx.log(l.max,f);var d=a.jqx.log(l.min,f);if(l.flip){n=1-n}var c=Math.min(d,h)+n*Math.abs(h-d);p=Math.pow(f,c)}else{p=Math.min(l.min,l.max)+n*Math.abs(l.max-l.min);if(l.flip){p=Math.max(l.min,l.max)-p+l.min}}return p},axis:function(q,s,m){if(m<=1){return[s,q]}var h=q;var k=s;if(isNaN(m)||m<2){m=2}var c=0;while(Math.round(q)!=q&&Math.round(s)!=s&&c<10){q*=10;s*=10;c++}var n=(s-q)/m;while(c<10&&Math.round(n)!=n){q*=10;s*=10;n*=10;c++}var w=[1,2,5];var j=0;var t=0;while(true){var o=t%w.length;var f=Math.floor(t/w.length);var p=Math.pow(10,f)*w[o];o=(t+1)%w.length;f=Math.floor((t+1)/w.length);var l=Math.pow(10,f)*w[o];if(n>=p&&n<l){break}t++}var e=l;var u=[];var v=a.jqx._rnd(q,e,false);var d=c<=0?1:Math.pow(10,c);while(v<s+e){u.push(v/d);v+=e}return u}}})(jqxBaseFramework);(function(a){a.jqx.jqxWidget("jqxChart","",{});a.extend(a.jqx._jqxChart.prototype,{defineInstance:function(){a.extend(true,this,this._defaultSettings);this._createColorsCache()},_defaultSettings:{title:"Title",description:"Description",source:[],seriesGroups:[],categoryAxis:null,xAxis:{},valueAxis:null,renderEngine:"",enableAnimations:true,enableAxisTextAnimation:false,backgroundImage:"",background:"#FFFFFF",padding:{left:5,top:5,right:5,bottom:5},backgroundColor:"#FFFFFF",showBorderLine:true,borderLineWidth:1,borderLineColor:null,borderColor:null,titlePadding:{left:5,top:5,right:5,bottom:10},showLegend:true,legendLayout:null,enabled:true,colorScheme:"scheme01",animationDuration:500,showToolTips:true,toolTipShowDelay:500,toolTipDelay:500,toolTipHideDelay:4000,toolTipMoveDuration:300,toolTipFormatFunction:null,toolTipAlignment:"dataPoint",localization:null,columnSeriesOverlap:false,rtl:false,legendPosition:null,greyScale:false,axisPadding:5,enableCrosshairs:false,crosshairsColor:"#BCBCBC",crosshairsDashStyle:"2,2",crosshairsLineWidth:1,enableEvents:true,_itemsToggleState:[],_isToggleRefresh:false,_isSelectorRefresh:false,_sliders:[],_selectorRange:[],_rangeSelectorInstances:{},_resizeState:{},renderer:null,_isRangeSelectorInstance:false,drawBefore:null,draw:null,_renderData:{},enableSampling:true},_defaultLineColor:"#BCBCBC",_touchEvents:{mousedown:a.jqx.mobile.getTouchEventName("touchstart"),click:a.jqx.mobile.getTouchEventName("touchstart"),mouseup:a.jqx.mobile.getTouchEventName("touchend"),mousemove:a.jqx.mobile.getTouchEventName("touchmove"),mouseenter:"mouseenter",mouseleave:"mouseleave"},_getEvent:function(c){if(this._isTouchDevice){return this._touchEvents[c]}else{return c}},destroy:function(){this.host.remove()},_jqxPlot:null,createInstance:function(e){if(!a.jqx.dataAdapter){throw"jqxdata.js is not loaded"}var d=this;d._refreshOnDownloadComlete();d._isTouchDevice=a.jqx.mobile.isTouchDevice();if(!d._jqxPlot){d._jqxPlot=new jqxPlot()}d.addHandler(d.host,d._getEvent("mousemove"),function(i){if(d.enabled==false){return}if(!d._isRangeSelectorInstance){d.host.css("cursor","default")}var h=i.pageX||i.clientX||i.screenX;var l=i.pageY||i.clientY||i.screenY;var k=d.host.offset();if(d._isTouchDevice){var j=a.jqx.position(i);h=j.left;l=j.top}h-=k.left;l-=k.top;d.onmousemove(h,l)});d.addHandler(d.host,d._getEvent("mouseleave"),function(j){if(d.enabled==false){return}var h=d._mouseX;var k=d._mouseY;var i=d._plotRect;if(i&&h>=i.x&&h<=i.x+i.width&&k>=i.y&&k<=i.y+i.height){return}d._cancelTooltipTimer();d._hideToolTip(0);d._unselect()});d.addHandler(d.host,"click",function(i){if(d.enabled==false){return}var h=i.pageX||i.clientX||i.screenX;var l=i.pageY||i.clientY||i.screenY;var k=d.host.offset();if(d._isTouchDevice){var j=a.jqx.position(i);h=j.left;l=j.top}h-=k.left;l-=k.top;d._mouseX=h;d._mouseY=l;if(!isNaN(d._lastClickTs)){if((new Date()).valueOf()-d._lastClickTs<100){return}}this._hostClickTimer=setTimeout(function(){if(!d._isTouchDevice){d._cancelTooltipTimer();d._hideToolTip();d._unselect()}if(d._pointMarker&&d._pointMarker.element){var n=d.seriesGroups[d._pointMarker.gidx];var m=n.series[d._pointMarker.sidx];i.stopImmediatePropagation();d._raiseItemEvent("click",n,m,d._pointMarker.iidx)}},100)});var f=d.element.style;if(f){var c=false;if(f.width!=null){c|=f.width.toString().indexOf("%")!=-1}if(f.height!=null){c|=f.height.toString().indexOf("%")!=-1}if(c){a.jqx.utilities.resize(this.host,function(){if(d.timer){clearTimeout(d.timer)}var h=1;d.timer=setTimeout(function(){var i=d.enableAnimations;d.enableAnimations=false;d.refresh();d.enableAnimations=i},h)},false,true)}}},_refreshOnDownloadComlete:function(){var e=this;var f=this.source;if(f instanceof a.jqx.dataAdapter){var h=f._options;if(h==undefined||(h!=undefined&&!h.autoBind)){f.autoSync=false;f.dataBind()}var d=this.element.id;if(f.records.length==0){var c=function(){if(e.ready){e.ready()}e.refresh()};f.unbindDownloadComplete(d);f.bindDownloadComplete(d,c)}else{if(e.ready){e.ready()}}f.unbindBindingUpdate(d);f.bindBindingUpdate(d,function(){if(e._supressBindingRefresh){return}e.refresh()})}},propertyChangedHandler:function(c,d,f,e){if(this.isInitialized==undefined||this.isInitialized==false){return}if(d=="source"){this._refreshOnDownloadComlete()}this.refresh()},_initRenderer:function(c){if(!a.jqx.createRenderer){throw"Please include jqxdraw.js"}return a.jqx.createRenderer(this,c)},_internalRefresh:function(){var c=this;if(a.jqx.isHidden(c.host)){return}c._stopAnimations();if(!c.renderer||(!c._isToggleRefresh&&!c._isUpdate)){c._hideToolTip(0);c._isVML=false;c.host.empty();c._measureDiv=undefined;c._initRenderer(c.host)}var e=c.renderer;if(!e){return}var d=e.getRect();c._render({x:1,y:1,width:d.width,height:d.height});this._raiseEvent("refreshBegin",{instance:this});if(e instanceof a.jqx.HTML5Renderer){e.refresh()}c._isUpdate=false;this._raiseEvent("refreshEnd",{instance:this})},saveAsPNG:function(e,c,d){return this._saveAsImage("png",e,c,d)},saveAsJPEG:function(e,c,d){return this._saveAsImage("jpeg",e,c,d)},saveAsPDF:function(e,c,d){return this._saveAsImage("pdf",e,c,d)},_saveAsImage:function(f,k,c,d){var j=false;for(var e=0;e<this.seriesGroups.length&&!j;e++){var h=this._getXAxis(e);if(h&&h.rangeSelector){j=true}}return a.jqx._widgetToImage(this,f,k,c,d,j?this._selectorSaveAsImageCallback:undefined)},_selectorSaveAsImageCallback:function(G,l){var u=G;for(var E=0;E<u.seriesGroups.length;E++){var q=u._getXAxis(E);if(!q||!q.rangeSelector||q.rangeSelector.renderTo){continue}var o=u._rangeSelectorInstances[E];if(!o){continue}var v=o.jqxChart("getInstance");var f=v.renderEngine;var e=v.renderer.getRect();var h=v.renderer.getContainer().find("canvas")[0];var s=h.getContext("2d");var B=u._sliders[E];var c=u.seriesGroups[E].orientation=="horizontal";var d=!c?"width":"height";var A=c?"width":"height";var D=!c?"x":"y";var k=c?"x":"y";var m={};m[D]=B.startOffset+B.rect[D];m[k]=B.rect[k];m[d]=B.endOffset-B.startOffset;m[A]=B.rect[A];var p=q.rangeSelector.colorSelectedRange||"blue";var z=q.rangeSelector.colorUnselectedRange||"white";var n=q.rangeSelector.colorRangeLine||"grey";var t=[];t.push(v.renderer.rect(m.x,m.y,m.width,m.height,{fill:p,opacity:0.1}));if(!c){t.push(v.renderer.line(a.jqx._ptrnd(B.rect.x),a.jqx._ptrnd(B.rect.y),a.jqx._ptrnd(m.x),a.jqx._ptrnd(B.rect.y),{stroke:n,opacity:0.5}));t.push(v.renderer.line(a.jqx._ptrnd(m.x+m.width),a.jqx._ptrnd(B.rect.y),a.jqx._ptrnd(B.rect.x+B.rect.width),a.jqx._ptrnd(B.rect.y),{stroke:n,opacity:0.5}));t.push(v.renderer.line(a.jqx._ptrnd(m.x),a.jqx._ptrnd(B.rect.y),a.jqx._ptrnd(m.x),a.jqx._ptrnd(B.rect.y+B.rect.height),{stroke:n,opacity:0.5}));t.push(v.renderer.line(a.jqx._ptrnd(m.x+m.width),a.jqx._ptrnd(B.rect.y),a.jqx._ptrnd(m.x+m.width),a.jqx._ptrnd(B.rect.y+B.rect.height),{stroke:n,opacity:0.5}))}else{t.push(v.renderer.line(a.jqx._ptrnd(B.rect.x+B.rect.width),a.jqx._ptrnd(B.rect.y),a.jqx._ptrnd(B.rect.x+B.rect.width),a.jqx._ptrnd(m.y),{stroke:n,opacity:0.5}));t.push(v.renderer.line(a.jqx._ptrnd(B.rect.x+B.rect.width),a.jqx._ptrnd(m.y+m.height),a.jqx._ptrnd(B.rect.x+B.rect.width),a.jqx._ptrnd(B.rect.y+B.rect.height),{stroke:n,opacity:0.5}));t.push(v.renderer.line(a.jqx._ptrnd(B.rect.x),a.jqx._ptrnd(m.y),a.jqx._ptrnd(B.rect.x+B.rect.width),a.jqx._ptrnd(m.y),{stroke:n,opacity:0.5}));t.push(v.renderer.line(a.jqx._ptrnd(B.rect.x),a.jqx._ptrnd(m.y+m.height),a.jqx._ptrnd(B.rect.x+B.rect.width),a.jqx._ptrnd(m.y+m.height),{stroke:n,opacity:0.5}))}v.renderer.refresh();var w=s.getImageData(e.x,e.y,e.width,e.height);var F=l.getContext("2d");F.putImageData(w,parseInt(o.css("left")),parseInt(o.css("top")),1,1,e.width,e.height);for(var C=0;C<t.length;C++){v.renderer.removeElement(t[C])}v.renderer.refresh()}return true},refresh:function(){this._internalRefresh()},update:function(){this._isUpdate=true;this._internalRefresh()},_seriesTypes:["line","stackedline","stackedline100","spline","stackedspline","stackedspline100","stepline","stackedstepline","stackedstepline100","area","stackedarea","stackedarea100","splinearea","stackedsplinearea","stackedsplinearea100","steparea","stackedsteparea","stackedsteparea100","rangearea","splinerangearea","steprangearea","column","stackedcolumn","stackedcolumn100","rangecolumn","scatter","stackedscatter","stackedscatter100","bubble","stackedbubble","stackedbubble100","pie","donut","candlestick","ohlc","waterfall","stackedwaterfall"],clear:function(){var c=this;for(var d in c._defaultSettings){c[d]=c._defaultSettings[d]}c.title="";c.description="";c.refresh()},_validateSeriesGroups:function(){if(!a.isArray(this.seriesGroups)){throw"Invalid property: 'seriesGroups' property is required and must be a valid array."}for(var c=0;c<this.seriesGroups.length;c++){var d=this.seriesGroups[c];if(!d.type){throw"Invalid property: Each series group must have a valid 'type' property."}if(!a.isArray(d.series)){throw"Invalid property: Each series group must have a 'series' property which must be a valid array."}}},_render:function(H){var p=this;var N=p.renderer;p._validateSeriesGroups();p._colorsCache.clear();if(!p._isToggleRefresh&&p._isUpdate&&p._renderData){p._renderDataClone()}p._renderData=[];N.clear();p._unselect();p._hideToolTip(0);var q=p.backgroundImage;if(q==undefined||q==""){p.host.css({"background-image":""})}else{p.host.css({"background-image":(q.indexOf("(")!=-1?q:"url('"+q+"')")})}p._rect=H;var af=p.padding||{left:5,top:5,right:5,bottom:5};var v=N.createClipRect(H);var Q=N.beginGroup();N.setClip(Q,v);var ap=N.rect(H.x,H.y,H.width-2,H.height-2);if(q==undefined||q==""){N.attr(ap,{fill:p.backgroundColor||p.background||"white"})}else{N.attr(ap,{fill:"transparent"})}if(p.showBorderLine!=false){var K=p.borderLineColor==undefined?p.borderColor:p.borderLineColor;if(K==undefined){K=p._defaultLineColor}var s=this.borderLineWidth;if(isNaN(s)||s<0||s>10){s=1}N.attr(ap,{"stroke-width":s,stroke:K})}else{if(a.jqx.browser.msie&&a.jqx.browser.version<9){N.attr(ap,{"stroke-width":1,stroke:p.backgroundColor||"white"})}}if(a.isFunction(p.drawBefore)){p.drawBefore(N,H)}var ac={x:af.left,y:af.top,width:H.width-af.left-af.right,height:H.height-af.top-af.bottom};p._paddedRect=ac;var k=p.titlePadding||{left:2,top:2,right:2,bottom:2};var o;if(p.title&&p.title.length>0){var Y=p.toThemeProperty("jqx-chart-title-text",null);o=N.measureText(p.title,0,{"class":Y});N.text(p.title,ac.x+k.left,ac.y+k.top,ac.width-(k.left+k.right),o.height,0,{"class":Y},true,"center","center");ac.y+=o.height;ac.height-=o.height}if(p.description&&p.description.length>0){var aa=p.toThemeProperty("jqx-chart-title-description",null);o=N.measureText(p.description,0,{"class":aa});N.text(p.description,ac.x+k.left,ac.y+k.top,ac.width-(k.left+k.right),o.height,0,{"class":aa},true,"center","center");ac.y+=o.height;ac.height-=o.height}if(p.title||p.description){ac.y+=(k.bottom+k.top);ac.height-=(k.bottom+k.top)}var c={x:ac.x,y:ac.y,width:ac.width,height:ac.height};p._plotRect=c;p._buildStats(c);var M=p._isPieOnlySeries();var A=p.seriesGroups;var J;var I={xAxis:{},valueAxis:{}};for(var ag=0;ag<A.length&&!M;ag++){if(A[ag].type=="pie"||A[ag].type=="donut"){continue}var E=p._getXAxis(ag);if(!E){throw"seriesGroup["+ag+"] is missing xAxis definition"}var al=E==p._getXAxis()?-1:ag;I.xAxis[al]=0}var ab=p.axisPadding;if(isNaN(ab)){ab=5}var z={left:0,right:0,leftCount:0,rightCount:0};var u=[];for(ag=0;ag<A.length;ag++){var ak=A[ag];if(ak.type=="pie"||ak.type=="donut"||ak.spider==true||ak.polar==true){u.push({width:0,position:0,xRel:0});continue}J=ak.orientation=="horizontal";var E=p._getXAxis(ag);var al=E==p._getXAxis()?-1:ag;var n=p._getValueAxis(ag);var T=n==p._getValueAxis()?-1:ag;var W=!J?n.axisSize:E.axisSize;var l={x:0,y:c.y,width:c.width,height:c.height};var V=J?p._getXAxis(ag).position:n.position;if(!W||W=="auto"){if(J){W=this._renderXAxis(ag,l,true,c).width;if((I.xAxis[al]&1)==1){W=0}else{if(W>0){I.xAxis[al]|=1}}}else{W=p._renderValueAxis(ag,l,true,c).width;if((I.valueAxis[T]&1)==1){W=0}else{if(W>0){I.valueAxis[T]|=1}}}}if(V!="left"&&p.rtl==true){V="right"}if(V!="right"){V="left"}if(z[V+"Count"]>0&&z[V]>0&&W>0){z[V]+=ab}u.push({width:W,position:V,xRel:z[V]});z[V]+=W;z[V+"Count"]++}var C=Math.max(1,Math.max(H.width,H.height));var aj={top:0,bottom:0,topCount:0,bottomCount:0};var ad=[];for(ag=0;ag<A.length;ag++){var ak=A[ag];if(ak.type=="pie"||ak.type=="donut"||ak.spider==true||ak.polar==true){ad.push({height:0,position:0,yRel:0});continue}J=ak.orientation=="horizontal";var n=this._getValueAxis(ag);var T=n==p._getValueAxis()?-1:ag;var E=p._getXAxis(ag);var al=E==p._getXAxis()?-1:ag;var ai=!J?E.axisSize:n.axisSize;var V=J?n.position:E.position;if(!ai||ai=="auto"){if(J){ai=p._renderValueAxis(ag,{x:0,y:0,width:C,height:0},true,c).height;if((I.valueAxis[T]&2)==2){ai=0}else{if(ai>0){I.valueAxis[T]|=2}}}else{ai=p._renderXAxis(ag,{x:0,y:0,width:C,height:0},true).height;if((I.xAxis[al]&2)==2){ai=0}else{if(ai>0){I.xAxis[al]|=2}}}}if(V!="top"){V="bottom"}if(aj[V+"Count"]>0&&aj[V]>0&&ai>0){aj[V]+=ab}ad.push({height:ai,position:V,yRel:aj[V]});aj[V]+=ai;aj[V+"Count"]++}p._createAnimationGroup("series");var B=(p.showLegend!=false);var G=!B?{width:0,height:0}:p._renderLegend(p.legendLayout?p._rect:ac,true);if(this.legendLayout&&(!isNaN(this.legendLayout.left)||!isNaN(this.legendLayout.top))){G={width:0,height:0}}if(ac.height<aj.top+aj.bottom+G.height||ac.width<z.left+z.right){N.endGroup();return}c.height-=aj.top+aj.bottom+G.height;c.x+=z.left;c.width-=z.left+z.right;c.y+=aj.top;var L=[];if(!M){var am=p._getXAxis().tickMarksColor||p._defaultLineColor;for(ag=0;ag<A.length;ag++){var ak=A[ag];if(ak.polar==true||ak.spider==true||ak.type=="pie"||ak.type=="donut"){continue}J=ak.orientation=="horizontal";var al=p._getXAxis(ag)==p._getXAxis()?-1:ag;var T=p._getValueAxis(ag)==p._getValueAxis()?-1:ag;var l={x:c.x,y:0,width:c.width,height:ad[ag].height};if(ad[ag].position!="top"){l.y=c.y+c.height+ad[ag].yRel}else{l.y=c.y-ad[ag].yRel-ad[ag].height}if(J){if((I.valueAxis[T]&4)==4){continue}if(!p._isGroupVisible(ag)){continue}p._renderValueAxis(ag,l,false,c);I.valueAxis[T]|=4}else{L.push(l);if((I.xAxis[al]&4)==4){continue}if(!p._isGroupVisible(ag)){continue}p._renderXAxis(ag,l,false,c);I.xAxis[al]|=4}}}if(B){var F=p.legendLayout?p._rect:ac;var U=ac.x+a.jqx._ptrnd((ac.width-G.width)/2);var S=c.y+c.height+aj.bottom;var W=ac.width;var ai=G.height;if(p.legendLayout){if(!isNaN(p.legendLayout.left)){U=p.legendLayout.left}if(!isNaN(p.legendLayout.top)){S=p.legendLayout.top}if(!isNaN(p.legendLayout.width)){W=p.legendLayout.width}if(!isNaN(p.legendLayout.height)){ai=p.legendLayout.height}}if(U+W>F.x+F.width){W=F.x+F.width-U}if(S+ai>F.y+F.height){ai=F.y+F.height-S}p._renderLegend({x:U,y:S,width:W,height:ai})}p._hasHorizontalLines=false;if(!M){for(ag=0;ag<A.length;ag++){var ak=A[ag];if(ak.polar==true||ak.spider==true||ak.type=="pie"||ak.type=="donut"){continue}J=A[ag].orientation=="horizontal";var l={x:c.x-u[ag].xRel-u[ag].width,y:c.y,width:u[ag].width,height:c.height};if(u[ag].position!="left"){l.x=c.x+c.width+u[ag].xRel}var al=p._getXAxis(ag)==p._getXAxis()?-1:ag;var T=p._getValueAxis(ag)==p._getValueAxis()?-1:ag;if(J){L.push(l);if((I.xAxis[al]&8)==8){continue}if(!p._isGroupVisible(ag)){continue}p._renderXAxis(ag,l,false,c);I.xAxis[al]|=8}else{if((I.valueAxis[T]&8)==8){continue}if(!p._isGroupVisible(ag)){continue}p._renderValueAxis(ag,l,false,c);I.valueAxis[T]|=8}}}if(c.width<=0||c.height<=0){return}p._plotRect={x:c.x,y:c.y,width:c.width,height:c.height};for(ag=0;ag<A.length;ag++){this._drawPlotAreaLines(ag,true,{gridLines:false,tickMarks:false,alternatingBackground:true});this._drawPlotAreaLines(ag,false,{gridLines:false,tickMarks:false,alternatingBackground:true})}for(ag=0;ag<A.length;ag++){this._drawPlotAreaLines(ag,true,{gridLines:true,tickMarks:true,alternatingBackground:false});this._drawPlotAreaLines(ag,false,{gridLines:true,tickMarks:true,alternatingBackground:false})}var P=false;for(ag=0;ag<A.length&&!P;ag++){var ak=A[ag];if(ak.annotations!==undefined||a.isFunction(ak.draw)||a.isFunction(ak.drawBefore)){P=true;break}}var R=N.beginGroup();if(!P){var O=N.createClipRect({x:c.x-2,y:c.y,width:c.width+4,height:c.height});N.setClip(R,O)}for(ag=0;ag<A.length;ag++){var ak=A[ag];var e=false;for(var an in p._seriesTypes){if(p._seriesTypes[an]==ak.type){e=true;break}}if(!e){throw'Invalid serie type "'+ak.type+'"'}if(a.isFunction(ak.drawBefore)){ak.drawBefore(N,H,ag,this)}if(ak.polar==true||ak.spider==true){if(ak.type.indexOf("pie")==-1&&ak.type.indexOf("donut")==-1){p._renderSpiderAxis(ag,c)}}p._renderAxisBands(ag,c,true);p._renderAxisBands(ag,c,false)}for(ag=0;ag<A.length;ag++){var ak=A[ag];if(p._isColumnType(ak.type)){p._renderColumnSeries(ag,c)}else{if(ak.type.indexOf("pie")!=-1||ak.type.indexOf("donut")!=-1){p._renderPieSeries(ag,c)}else{if(ak.type.indexOf("line")!=-1||ak.type.indexOf("area")!=-1){p._renderLineSeries(ag,c)}else{if(ak.type.indexOf("scatter")!=-1||ak.type.indexOf("bubble")!=-1){p._renderScatterSeries(ag,c)}else{if(ak.type.indexOf("candlestick")!=-1||ak.type.indexOf("ohlc")!=-1){p._renderCandleStickSeries(ag,c,ak.type.indexOf("ohlc")!=-1)}}}}}if(ak.annotations){if(!this._moduleAnnotations){throw"Please include 'jqxchart.annotations.js'"}for(var ae=0;ae<ak.annotations.length;ae++){p._renderAnnotation(ag,ak.annotations[ae],c)}}if(a.isFunction(ak.draw)){p.draw(N,H,ag,this)}}N.endGroup();if(p.enabled==false){var ah=N.rect(H.x,H.y,H.width,H.height);N.attr(ah,{fill:"#777777",opacity:0.5,stroke:"#00FFFFFF"})}if(a.isFunction(p.draw)){p.draw(N,H)}N.endGroup();p._startAnimation("series");var Z=String.fromCharCode(119,119,119,46,106,113,119,105,100,103,101,116,115,46,99,111,109);if(location.hostname.indexOf(Z.substring(4))==-1){var d={"class":p.toThemeProperty("jqx-chart-legend-text",null),opacity:0.5};var X=N.measureText(Z,0,d);var m=N.text(Z,H.x+H.width-X.width-5,H.y+H.height-X.height-5,X.width,X.height,0,d)}var ao=false;for(var ag=0;ag<p.seriesGroups.length&&!ao;ag++){var E=p._getXAxis(ag);if(E&&E.rangeSelector){ao=true}}if(ao){if(!this._moduleRangeSelector){throw"Please include 'jqxchart.rangeselector.js'"}var f=[];if(!this._isSelectorRefresh){p.removeHandler(a(document),p._getEvent("mousemove"),p._onSliderMouseMove);p.removeHandler(a(document),p._getEvent("mousedown"),p._onSliderMouseDown);p.removeHandler(a(document),p._getEvent("mouseup"),p._onSliderMouseUp)}if(!p._isSelectorRefresh){p._rangeSelectorInstances={}}for(ag=0;ag<p.seriesGroups.length;ag++){var D=this._getXAxis(ag);if(f.indexOf(D)==-1){if(this._renderXAxisRangeSelector(ag,L[ag])){f.push(D)}}}}},_isPieOnlySeries:function(){var d=this.seriesGroups;if(d.length==0){return false}for(var c=0;c<d.length;c++){if(d[c].type!="pie"&&d[c].type!="donut"){return false}}return true},_renderChartLegend:function(W,D,T,w){var m=this;var E=m.renderer;var J={x:D.x,y:D.y,width:D.width,height:D.height};var O=3;if(J.width>=2*O){J.x+=O;J.width-=2*O}if(J.height>=2*O){J.y+=O;J.height-=2*O}var F={width:J.width,height:0};var H=0,G=0;var q=20;var n=0;var h=10;var R=10;var z=0;for(var Q=0;Q<W.length;Q++){var K=W[Q].css;if(!K){K=m.toThemeProperty("jqx-chart-legend-text",null)}q=20;var B=W[Q].text;var k=E.measureText(B,0,{"class":K});if(k.height>q){q=k.height}if(k.width>z){z=k.width}if(w){if(Q!=0){G+=q}if(G>J.height){G=0;H+=z+2*R+h;z=k.width;F.width=H+z}}else{if(H!=0){H+=R}if(H+2*h+k.width>J.width&&k.width<J.width){H=0;G+=q;q=20;n=J.width;F.height=G+q}}var L=false;if(k.width>J.width){L=true;var u=J.width;var U=B;var Y=U.split(/\s+/);var p=[];var s="";for(var N=0;N<Y.length;N++){var l=s+((s.length>0)?" ":"")+Y[N];var C=m.renderer.measureText(l,0,{"class":K});if(C.width>u&&l.length>0&&s.length>0){p.push({text:s});s=Y[N]}else{s=l}if(N+1==Y.length){p.push({text:s})}}k.width=0;var d=0;for(var I=0;I<p.length;I++){var X=p[I].text;var C=m.renderer.measureText(X,0,{"class":K});k.width=Math.max(k.width,C.width);d+=k.height}k.height=d}var A=(H+k.width<J.width)&&(G+k.height<D.height);if(m.legendLayout){var A=J.x+H+k.width<m._rect.x+m._rect.width&&J.y+G+k.height<m._rect.y+m._rect.height}if(!T&&A){var j=W[Q].seriesIndex;var o=W[Q].groupIndex;var c=W[Q].itemIndex;var Z=W[Q].fillColor;var V=W[Q].lineColor;var f=m._isSerieVisible(o,j,c);var S=E.beginGroup();var P=f?W[Q].opacity:0.1;if(L){var U=B;var u=J.width;var Y=U.split(/\s+/);var v="";var e=0;var p=[];var s="";for(var N=0;N<Y.length;N++){var l=s+((s.length>0)?" ":"")+Y[N];var C=m.renderer.measureText(l,0,{"class":K});if(C.width>u&&l.length>0&&s.length>0){p.push({text:s,dy:e});e+=C.height;s=Y[N]}else{s=l}if(N+1==Y.length){p.push({text:s,dy:e})}}for(var I=0;I<p.length;I++){var X=p[I].text;e=p[I].dy;var C=m.renderer.measureText(X,0,{"class":K});if(w){m.renderer.text(X,J.x+H+1.5*h,J.y+G+e,k.width,q,0,{"class":K},false,"left","center")}else{m.renderer.text(X,J.x+H+1.5*h,J.y+G+e,k.width,q,0,{"class":K},false,"center","center")}}var M=E.rect(J.x+H,J.y+G+h/2+e/2,h,h);if(w){G+=e}m.renderer.attr(M,{fill:Z,"fill-opacity":P,stroke:V,"stroke-width":1,"stroke-opacity":W[Q].opacity})}else{var M=E.rect(J.x+H,J.y+G+h/2,h,h);m.renderer.attr(M,{fill:Z,"fill-opacity":P,stroke:V,"stroke-width":1,"stroke-opacity":W[Q].opacity});if(w){m.renderer.text(B,J.x+H+1.5*h,J.y+G,k.width,k.height+h/2,0,{"class":K},false,"left","center")}else{m.renderer.text(B,J.x+H+1.5*h,J.y+G,k.width,q,0,{"class":K},false,"center","center")}}m.renderer.endGroup();m._setLegendToggleHandler(o,j,c,S)}if(w){}else{H+=k.width+2*h;if(n<H){n=H}}}if(T){F.height=a.jqx._ptrnd(G+q+5);F.width=a.jqx._ptrnd(n);return F}},isSerieVisible:function(e,c,d){return this._isSerieVisible(e,c,d)},_isSerieVisible:function(h,c,e){while(this._itemsToggleState.length<h+1){this._itemsToggleState.push([])}var f=this._itemsToggleState[h];while(f.length<c+1){f.push(isNaN(e)?true:[])}var d=f[c];if(isNaN(e)){return d}if(!a.isArray(d)){f[c]=d=[]}while(d.length<e+1){d.push(true)}return d[e]},isGroupVisible:function(c){return this._isGroupVisible(c)},_isGroupVisible:function(f){var e=false;var d=this.seriesGroups[f].series;if(!d){return e}for(var c=0;c<d.length;c++){if(this._isSerieVisible(f,c)){e=true;break}}return e},_toggleSerie:function(j,c,f,d){var i=!this._isSerieVisible(j,c,f);if(d!=undefined){i=d}var k=this.seriesGroups[j];var h=k.series[c];this._raiseEvent("toggle",{state:i,seriesGroup:k,serie:h,elementIndex:f});if(isNaN(f)){this._itemsToggleState[j][c]=i}else{var e=this._itemsToggleState[j][c];if(!a.isArray(e)){e=[]}while(e.length<f){e.push(true)}e[f]=i}this._isToggleRefresh=true;this.update();this._isToggleRefresh=false},showSerie:function(e,c,d){this._toggleSerie(e,c,d,true)},hideSerie:function(e,c,d){this._toggleSerie(e,c,d,false)},_setLegendToggleHandler:function(k,d,i,f){var j=this.seriesGroups[k];var h=j.series[d];var c=h.enableSeriesToggle;if(c==undefined){c=j.enableSeriesToggle!=false}if(c){var e=this;this.renderer.addHandler(f,"click",function(l){e._toggleSerie(k,d,i)})}},_renderLegend:function(d,f){var p=this;var e=[];for(var z=0;z<p.seriesGroups.length;z++){var v=p.seriesGroups[z];if(v.showLegend==false){continue}for(var t=0;t<v.series.length;t++){var n=v.series[t];if(n.showLegend==false){continue}var w=p._getSerieSettings(z,t);var q;if(v.type=="pie"||v.type=="donut"){var l=p._getXAxis(z);var j=n.legendFormatSettings||v.legendFormatSettings||l.formatSettings||n.formatSettings||v.formatSettings;var o=n.legendFormatFunction||v.legendFormatFunction||l.formatFunction||n.formatFunction||v.formatFunction;var k=p._getDataLen(z);for(var u=0;u<k;u++){q=p._getDataValue(u,n.displayText,z);q=p._formatValue(q,j,o,z,t,u);var m=p._getColors(z,t,u);e.push({groupIndex:z,seriesIndex:t,itemIndex:u,text:q,css:n.displayTextClass,fillColor:m.fillColor,lineColor:m.lineColor,opacity:w.opacity})}continue}var j=n.legendFormatSettings||v.legendFormatSettings;var o=n.legendFormatFunction||v.legendFormatFunction;q=p._formatValue(n.displayText||n.dataField||"",j,o,z,t,NaN);var m=p._getSeriesColors(z,t);var h=this._get([n.legendFillColor,n.legendColor,m.fillColor]);var c=this._get([n.legendLineColor,n.legendColor,m.lineColor]);e.push({groupIndex:z,seriesIndex:t,text:q,css:n.displayTextClass,fillColor:h,lineColor:c,opacity:w.opacity})}}return p._renderChartLegend(e,d,f,(p.legendLayout&&p.legendLayout.flow=="vertical"))},_getInterval:function(e,d){if(!e){return d}var c=this._get([e.unitInterval,d]);if(!isNaN(e.step)){c=e.step*d}return c},_getOffsets:function(z,e,p,w,u,n,j,f,m){var v=this._getInterval(u[z],f);var o=[];if(z==""||(u[z].visible&&u[z].visible!="custom")){o=this._generateIntervalValues(w,v,f,j,m)}var h;if(z!="labels"){var l=j?n.left:0;if(!j&&f>1){l=n.left*(f+1)}if(o.length==1){l*=2}h=this._valuesToOffsets(o,e,w,p,n,false,l);if(!j){var q=(n.left+n.right)*v/f;if(e.flip){h.unshift(h[0]+q)}else{h.push(h[h.length-1]+q)}}}else{var l=n.left;if(o.length==1){l*=2}h=this._valuesToOffsets(o,e,w,p,n,j,l)}var t=this._arraysToObjectsArray([o,h],["value","offset"]);if(e[z]&&e[z].custom){var k=this._objectsArraysToArray(e[z].custom,"value");var d=this._objectsArraysToArray(e[z].custom,"offset");var c=this._valuesToOffsets(k,e,w,p,n,j,n.left);for(var s=0;s<e[z].custom.length;s++){t.push({value:k[s],offset:isNaN(d[s])?c[s]:d[s]})}}return t},_renderXAxis:function(e,B,T,d){var h=this;var t=h._getXAxis(e);var S=h.seriesGroups[e];var Z=S.orientation=="horizontal";var J={width:0,height:0};var R=h._getAxisSettings(t);if(!t||!R.visible||S.type=="spider"){return J}if(!h._isGroupVisible(e)||this._isPieGroup(e)){return J}var Y=h._alignValuesWithTicks(e);while(h._renderData.length<e+1){h._renderData.push({})}if(h.rtl){t.flip=true}var D=Z?B.height:B.width;var A=t.text;var v=h._calculateXOffsets(e,D);var V=v.axisStats;var k=t.rangeSelector;var H=0;if(k){if(!this._moduleRangeSelector){throw"Please include 'jqxchart.rangeselector.js'"}H=this._selectorGetSize(t)}var G=(Z&&t.position=="right")||(!Z&&t.position=="top");if(!T&&k){if(Z){B.width-=H;if(t.position!="right"){B.x+=H}}else{B.height-=H;if(t.position=="top"){B.y+=H}}}var l={rangeLength:v.rangeLength,itemWidth:v.itemWidth,intervalWidth:v.intervalWidth,data:v,settings:R,isMirror:G,rect:B};h._renderData[e].xAxis=l;var I=V.interval;if(isNaN(I)){return J}if(Z){R.title.angle-=90;R.labels.angle-=90}var n=this._getInterval(R.gridLines,I);var M=this._getInterval(R.tickMarks,I);var E=this._getInterval(R.labels,I);var N;var X=V.min;var u=V.max;var P=v.padding;var U=t.flip==true||h.rtl;var j={min:X,max:u};if(V.logAxis.enabled){j.min=V.logAxis.minPow;j.max=V.logAxis.maxPow}if(t.type=="date"){R.gridLines.offsets=this._generateDTOffsets(X,u,D,P,n,I,V.dateTimeUnit,Y,NaN,false,U);R.tickMarks.offsets=this._generateDTOffsets(X,u,D,P,M,I,V.dateTimeUnit,Y,NaN,false,U);N=this._generateDTOffsets(X,u,D,P,E,I,V.dateTimeUnit,Y,NaN,true,U)}else{R.gridLines.offsets=this._getOffsets("gridLines",t,D,V,R,P,Y,I);R.tickMarks.offsets=this._getOffsets("tickMarks",t,D,V,R,P,Y,I);N=this._getOffsets("labels",t,D,V,R,P,Y,I)}var o=h.renderer.getRect();var m=o.width-B.x-B.width;var q=h._getDataLen(e);var p;if(h._elementRenderInfo&&h._elementRenderInfo.length>e){p=h._elementRenderInfo[e].xAxis}var s=[];var L;if(R.labels.formatFunction){L=R.labels.formatFunction}var z;if(R.labels.formatSettings){z=a.extend({},R.labels.formatSettings)}if(t.type=="date"){if(t.dateFormat&&!L){if(z){z.dateFormat=z.dateFormat||t.dateFormat}else{z={dateFormat:t.dateFormat}}}else{if(!L&&(!z||(z&&!z.dateFormat))){L=this._getDefaultDTFormatFn(t.baseUnit||"day")}}}for(var Q=0;Q<N.length;Q++){var O=N[Q].value;var K=N[Q].offset;if(isNaN(K)){continue}var W=undefined;if(t.type!="date"&&V.useIndeces&&t.dataField){W=Math.round(O);O=h._getDataValue(W,t.dataField);if(O==undefined){O=""}}var A=h._formatValue(O,z,L,e,undefined,W);if(A==undefined||A.toString()==""){if(isNaN(W)){W=Q}if(W>=V.filterRange.min&&W<=V.filterRange.max){A=V.useIndeces?(V.min+W).toString():(O==undefined?"":O.toString())}}var c={key:O,text:A,targetX:K,x:K};if(p&&p.itemOffsets[O]){c.x=p.itemOffsets[O].x;c.y=p.itemOffsets[O].y}s.push(c)}var F=h._getAnimProps(e);var w=F.enabled&&s.length<500?F.duration:0;if(h.enableAxisTextAnimation==false){w=0}var C={items:s,renderData:l};var f=h._renderAxis(Z,G,R,{x:B.x,y:B.y,width:B.width,height:B.height},d,I,false,true,C,T,w);if(Z){f.width+=H}else{f.height+=H}return f},_animateAxisText:function(h,k){var d=h.items;var e=h.textSettings;for(var f=0;f<d.length;f++){var j=d[f];if(!j){continue}if(!j.visible){continue}var c=j.targetX;var l=j.targetY;if(!isNaN(j.x)&&!isNaN(j.y)){c=j.x+(c-j.x)*k;l=j.y+(l-j.y)*k}if(j.element){this.renderer.removeElement(j.element);j.element=undefined}j.element=this.renderer.text(j.text,c,l,j.width,j.height,e.angle,{"class":e.style},false,e.halign,e.valign,e.textRotationPoint)}},_getPolarAxisCoords:function(f,c){var k=this.seriesGroups[f];var s=c.x+a.jqx.getNum([k.offsetX,c.width/2]);var q=c.y+a.jqx.getNum([k.offsetY,c.height/2]);var m=Math.min(c.width,c.height);var h=k.radius;if(this._isPercent(h)){h=parseFloat(h)/100*m/2}if(isNaN(h)){h=m/2*0.6}var j=this._alignValuesWithTicks(f);var p=this._get([k.startAngle,k.minAngle,0])-90;if(isNaN(p)){p=0}else{p=2*Math.PI*p/360}var o=this._get([k.endAngle,k.maxAngle,360])-90;if(isNaN(o)){o=2*Math.PI}else{o=2*Math.PI*o/360}if(p>o){var n=p;p=o;o=n}var w=a.jqx._rnd(Math.abs(p-o)/(Math.PI*2),0.001,true);var t=Math.PI*2*h*w;var i=this._calcGroupOffsets(f,c).xoffsets;if(!i){return}var l=!(Math.abs(Math.abs(o-p)-Math.PI*2)>0.00001);if(k.spider){axisStats=this._getXAxisStats(f,this._getXAxis(f),t);var u=axisStats.interval;if(isNaN(u)||u==0){u=1}var e=(axisStats.max-axisStats.min)/u+(l?1:0);e=Math.round(e);if(e>2){var d=Math.cos(Math.abs(o-p)/2/e);d=a.jqx._rnd(d,0.01);if(d==0){d=1}var v=h/d;if(v>h&&j){h=v}}}h=a.jqx._ptrnd(h);return{x:s,y:q,r:h,adjR:this._get([v,h]),itemWidth:i.itemWidth,rangeLength:i.rangeLength,valuesOnTicks:j,startAngle:p,endAngle:o,isClosedCircle:l,axisSize:t}},_toPolarCoord:function(l,h,j,f){var d=Math.abs(l.startAngle-l.endAngle)/(Math.PI*2);var c=(j-h.x)*2*Math.PI*d/Math.max(1,h.width)+l.startAngle;var e=((h.height+h.y)-f)*l.r/Math.max(1,h.height);var k=l.x+e*Math.cos(c);var i=l.y+e*Math.sin(c);return{x:a.jqx._ptrnd(k),y:a.jqx._ptrnd(i)}},_renderSpiderAxis:function(D,m){var at=this;var k=at._getXAxis(D);var aE=this._getAxisSettings(k);if(!k||!aE.visible){return}var aa=at.seriesGroups[D];var V=at._getPolarAxisCoords(D,m);if(!V){return}var P=a.jqx._ptrnd(V.x);var O=a.jqx._ptrnd(V.y);var w=V.adjR;var ab=V.startAngle;var Z=V.endAngle;if(w<1){return}var az=a.jqx._rnd(Math.abs(ab-Z)/(Math.PI*2),0.001,true);var l=Math.PI*2*w*az;var d=V.isClosedCircle;var B=this._renderData[D].xoffsets;if(!B.rangeLength){return}var W=B.axisStats.interval;if(isNaN(W)||W<1){W=1}var aw=aa.orientation=="horizontal";var ad=(aw&&k.position=="right")||(!aw&&k.position=="top");while(at._renderData.length<D+1){at._renderData.push({})}var ax={rangeLength:B.rangeLength,itemWidth:B.itemWidth,data:B,rect:m,settings:aE};at._renderData[D].xAxis=ax;at._renderData[D].polarCoords=V;var aC=true;for(var U=0;U<D;U++){var E=at._renderData[U].xAxis;var c=at._renderData[U].polarCoords;var H=at._getXAxis(U);var Y=false;for(var S in V){if(V[S]!=c[S]){Y=true;break}}if(!Y||H!=k){aC=false}}var f=aE.gridLines;var X=aE.tickMarks;var C=aE.labels;var ag=this._getInterval(f,W);var aH=this._getInterval(X,W);var aq=this._getInterval(C,W);var K=at._alignValuesWithTicks(D);var ah=at.renderer;var al;var ai=B.axisStats;var aG=ai.min;var u=ai.max;var z=this._getPaddingSize(B.axisStats,k,K,l,true,d,false);var am=k.flip==true||at.rtl;if(k.type=="date"){f.offsets=this._generateDTOffsets(aG,u,l,z,ag,W,k.baseUnit,true,0,false,am);X.offsets=this._generateDTOffsets(aG,u,l,z,aH,W,k.baseUnit,true,0,false,am);al=this._generateDTOffsets(aG,u,l,z,aq,W,k.baseUnit,true,0,true,am)}else{aE.gridLines.offsets=this._getOffsets("gridLines",k,l,ai,aE,z,true,W);aE.tickMarks.offsets=this._getOffsets("tickMarks",k,l,ai,aE,z,true,W);al=this._getOffsets("labels",k,l,ai,aE,z,true,W)}var an=at.renderer.getRect();var aA=an.width-m.x-m.width;var ak=at._getDataLen(D);var v;if(at._elementRenderInfo&&at._elementRenderInfo.length>D){v=at._elementRenderInfo[D].xAxis}var av=[];var aj=this._getDataLen(D);for(var U=0;U<al.length;U++){var J=al[U].offset;var L=al[U].value;if(k.type!="date"&&ai.useIndeces&&k.dataField){var aB=Math.round(L);if(aB>=aj){continue}L=at._getDataValue(aB,k.dataField);if(L==undefined){L=""}}var au=at._formatValue(L,C.formatSettings,C.formatFunction,D,undefined,aB);if(au==undefined||au.toString()==""){au=ai.useIndeces?(ai.min+U).toString():(L==undefined?"":L.toString())}var e={key:L,text:au,targetX:J,x:J};if(v&&v.itemOffsets[L]){e.x=v.itemOffsets[L].x;e.y=v.itemOffsets[L].y}av.push(e)}var aD={items:av,renderData:ax};var n={stroke:f.color,fill:"none","stroke-width":f.width,"stroke-dasharray":f.dashStyle||""};if(!aa.spider){if(az==1){ah.circle(P,O,w,n)}else{var I=-ab/Math.PI*180;var aI=-Z/Math.PI*180;this.renderer.pieslice(P,O,0,w,Math.min(I,aI),Math.max(I,aI),undefined,n)}}var Q=av.length;var o=2*Math.PI/(Q);var ap=ab;var h,G;if(f.visible&&aC){if(!K&&!d){f.offsets.unshift({offset:-z.right})}for(var U=0;U<f.offsets.length;U++){var p=f.offsets[U].offset;if(!K){if(d){p+=z.right/2}else{p+=z.right}}var F=ap+p*2*Math.PI*az/Math.max(1,l);if(F-Z>0.01){continue}var t=a.jqx._ptrnd(P+w*Math.cos(F));var s=a.jqx._ptrnd(O+w*Math.sin(F));ah.line(P,O,t,s,n)}}if(X.visible&&aC){var T=5;var q={stroke:X.color,fill:"none","stroke-width":X.width,"stroke-dasharray":X.dashStyle||""};if(!K&&!d){X.offsets.unshift({offset:-z.right})}for(var U=0;U<X.offsets.length;U++){var p=X.offsets[U].offset;if(!K){if(d){p+=z.right/2}else{p+=z.right}}var F=ap+p*2*Math.PI*az/Math.max(1,l);if(F-Z>0.01){continue}var af={x:P+w*Math.cos(F),y:O+w*Math.sin(F)};var ae={x:P+(w+T)*Math.cos(F),y:O+(w+T)*Math.sin(F)};ah.line(a.jqx._ptrnd(af.x),a.jqx._ptrnd(af.y),a.jqx._ptrnd(ae.x),a.jqx._ptrnd(ae.y),q)}}var ar=[];if(aa.spider){var A=[];if(k.type=="date"){A=this._generateDTOffsets(aG,u,l,z,W,W,k.baseUnit,true,0,false,am)}else{A=this._getOffsets("",k,l,ai,aE,z,true,W)}if(!K&&!d){A.unshift({offset:-z.right})}for(var U=0;U<A.length;U++){var p=A[U].offset;if(!K){if(d){p+=z.right/2}else{p+=z.right}}var F=ap+p*2*Math.PI*az/Math.max(1,l);if(F-Z>0.01){continue}ar.push(F)}ax.offsetAngles=ar}var ac=at._renderSpiderValueAxis(D,m,(K?V.adjR:V.r),ar);if(!ac){ac=[]}if(aa.spider){if(!K){for(var U=0;U<ac.length;U++){ac[U]=ac[U]*V.adjR/V.r}}ac.push(w);this._renderSpiderLines(P,O,ac,V,ar,n)}if(aC&&C.visible){ax.polarLabels=[];for(var U=0;U<av.length;U++){var p=av[U].x;var F=ap+p*2*Math.PI*az/Math.max(1,l);F=(360-F/(2*Math.PI)*360)%360;if(F<0){F=360+F}var ao=ah.measureText(av[U].text,0,{"class":aE.labels.style});var R=(K?V.adjR:V.r)+(X.visible?7:2);var ay=aE.labels;var aF;if(ay.autoRotate){var N=a.jqx._ptRotate(P-ao.width/2,O-R-ao.height,P,O,-F/180*Math.PI);var M=a.jqx._ptRotate(P+ao.width/2,O-R,P,O,-F/180*Math.PI);ao.width=Math.abs(N.x-M.x);ao.height=Math.abs(N.y-M.y);aF={x:Math.min(N.x,M.x),y:Math.min(N.y,M.y)}}else{aF=this._adjustTextBoxPosition(P,O,ao,R,F,false,false,false)}ax.polarLabels.push({x:aF.x,y:aF.y,value:av[U].text});ah.text(av[U].text,aF.x,aF.y,ao.width,ao.height,ay.autoRotate?90-F:ay.angle,{"class":ay.style},false,ay.halign,ay.valign)}}},_renderSpiderLines:function(l,h,z,o,f,c){var s=this.renderer;var t=o.startAngle;var q=o.endAngle;var k=o.isClosedCircle;for(var u=0;u<z.length;u++){var e=z[u];var d=undefined,p=undefined;for(var v=0;v<f.length;v++){var w=f[v];var n=a.jqx._ptrnd(l+e*Math.cos(w));var m=a.jqx._ptrnd(h+e*Math.sin(w));if(d){s.line(d.x,d.y,n,m,c)}d={x:n,y:m};if(!p){p={x:n,y:m}}}if(p&&k){s.line(d.x,d.y,p.x,p.y,c)}}},_renderSpiderValueAxis:function(f,G,W,V){var m=this;var z=this.seriesGroups[f];var H=this._getPolarAxisCoords(f,G);if(!H){return}var S=a.jqx._ptrnd(H.x);var R=a.jqx._ptrnd(H.y);W=W||H.r;var j=H.startAngle;var ac=H.endAngle;var aa=a.jqx._rnd(Math.abs(j-ac)/(Math.PI*2),0.001,true);if(W<1){return}W=a.jqx._ptrnd(W);var h=this._getValueAxis(f);settings=this._getAxisSettings(h);if(!h||false==settings.visible){return}var O=this._stats.seriesGroups[f].mu;var D=settings.labels;var C=D.formatSettings;var d=z.type.indexOf("stacked")!=-1&&z.type.indexOf("100")!=-1;if(d&&!C){C={sufix:"%"}}var A=this._get([D.step,D.unitInterval/O]);if(isNaN(A)){A=1}A=Math.max(1,Math.round(A));this._calcValueAxisItems(f,W,A);var e=settings.gridLines;var E=settings.tickMarks;var u=this._getInterval(e,O);var T=this._getInterval(E,O);var o=settings.labels;var n={stroke:e.color,fill:"none","stroke-width":1,"stroke-dasharray":e.dashStyle||""};var s=this._renderData[f].valueAxis;var B=s.items;var w=j;if(B.length&&settings.line.visible){if(!isNaN(settings.line.angle)){w=2*Math.PI*settings.line.angle/360}var q=S+Math.cos(w)*W;var af=R+Math.sin(w)*W;if(V.indexOf(w)==-1){var Y=a.extend({},n);Y["stroke-width"]=settings.line.lineWidth;Y.stroke=settings.line.color;Y["stroke-dasharray"]=settings.line.dashStyle;this.renderer.line(S,R,q,af,Y)}}B=B.reverse();var L=this.renderer;s.polarLabels=[];for(var ab=0;ab<B.length-1;ab++){var U=B[ab];if(isNaN(U)){continue}var F=(o.formatFunction)?o.formatFunction(U):this._formatNumber(U,C);var k=L.measureText(F,0,{"class":o.style});var Q=S+(h.showTickMarks!=false?3:2);var P=R-s.itemWidth*ab-k.height/2;var K=a.jqx._ptRotate(Q,P,S,R,w);var J=a.jqx._ptRotate(Q+k.width,P+k.height,S,R,w);Q=Math.min(K.x,J.x);P=Math.min(K.y,J.y);k.width=Math.abs(K.x-J.x);k.height=Math.abs(K.y-J.y);Q+=settings.labels.textOffset.x;P+=settings.labels.textOffset.y;s.polarLabels.push({x:Q,y:P,value:F});L.text(F,Q,P,k.width,k.height,o.autoRotate?(90+j*180/Math.PI):o.angle,{"class":o.style},false,o.halign,o.valign)}var t=h.logarithmicScale==true;var v=t?B.length:s.rangeLength;aIncrement=2*Math.PI/v;var ae=h.valuesOnTicks!=false;var N=this._stats.seriesGroups[f];var l=N.mu;var M=h.logarithmicScale==true;var I=h.logarithmicScaleBase||10;if(M){l=1}var ad={min:N.min,max:N.max,logAxis:{enabled:M==true,base:h.logarithmicScaleBase,minPow:N.minPow,maxPow:N.maxPow}};if(e.visible||z.spider||h.alternatingBackgroundColor||h.alternatingBackgroundColor2){e.offsets=this._getOffsets("gridLines",h,W,ad,settings,{left:0,right:0},ae,l)}var X=[];if(e.visible||z.spider){var n={stroke:e.color,fill:"none","stroke-width":1,"stroke-dasharray":e.dashStyle||""};for(var ab=0;ab<e.offsets.length;ab++){var P=a.jqx._ptrnd(e.offsets[ab].offset);if(P==W){continue}if(z.spider){X.push(P);continue}if(aa!=1){var p=-j/Math.PI*180;var Z=-ac/Math.PI*180;this.renderer.pieslice(S,R,0,P,Math.min(p,Z),Math.max(p,Z),undefined,n)}else{L.circle(S,R,P,n)}}}if(!h.tickMarks||(!h.tickMarks.visible&&!h.showTickMarks)){E.visible=false}if(E.visible){E.offsets=this._getOffsets("tickMarks",h,W,ad,settings,{left:0,right:0},ae,l);tickMarkSize=E.size*2;var n={stroke:E.color,fill:"none","stroke-width":1,"stroke-dasharray":E.dashStyle||""};for(var ab=0;ab<E.offsets.length;ab++){var c=E.offsets[ab].offset;var K={x:S+c*Math.cos(w)-tickMarkSize/2*Math.sin(w+Math.PI/2),y:R+c*Math.sin(w)-tickMarkSize/2*Math.cos(w+Math.PI/2)};var J={x:S+c*Math.cos(w)+tickMarkSize/2*Math.sin(w+Math.PI/2),y:R+c*Math.sin(w)+tickMarkSize/2*Math.cos(w+Math.PI/2)};L.line(a.jqx._ptrnd(K.x),a.jqx._ptrnd(K.y),a.jqx._ptrnd(J.x),a.jqx._ptrnd(J.y),n)}}return X},_renderAxis:function(K,G,T,C,d,I,o,Y,F,X,e){if(T.customDraw&&!X){return{width:NaN,height:NaN}}var z=T.title,p=T.labels,f=T.gridLines,D=T.tickMarks,S=T.padding;var q=D.visible?D.size:0;var U=2;var J={width:0,height:0};var t={width:0,height:0};if(K){J.height=t.height=C.height}else{J.width=t.width=C.width}if(!X&&G){if(K){C.x-=C.width}}var n=F.renderData;var c=n.itemWidth;if(z.visible&&z.text!=undefined&&z!=""){var s=z.angle;var j=this.renderer.measureText(z.text,s,{"class":z.style});t.width=j.width;t.height=j.height;if(!X){this.renderer.text(z.text,C.x+z.offset.x+(K?(!G?U+S.left:-S.right-U+2*C.width-t.width):0),C.y+z.offset.y+(!K?(!G?C.height-U-t.height-S.bottom:S.top+U):0),K?t.width:C.width,!K?t.height:C.height,s,{"class":z.style},true,z.halign,z.valign,z.rotationPoint)}}var O=0;var A=Y?-c/2:0;if(Y&&!K){p.halign="center"}var Q=C.x;var P=C.y;var H=p.textOffset;if(H){if(!isNaN(H.x)){Q+=H.x}if(!isNaN(H.y)){P+=H.y}}if(!K){Q+=A;if(G){P+=t.height>0?t.height+3*U:2*U;P+=q-(Y?q:q/4)}else{P+=Y?q:q/4}P+=S.top}else{Q+=S.left+U+(t.width>0?t.width+U:0)+(G?C.width-t.width:0);P+=A}var W=0;var N=0;var u=F.items;n.itemOffsets={};if(this._isToggleRefresh||!this._isUpdate){e=0}var m=false;var l=0;for(var V=0;V<u.length&&p.visible;V++,O+=c){if(!u[V]||isNaN(c)){continue}var B=u[V].text;if(!isNaN(u[V].targetX)){O=u[V].targetX}var j=this.renderer.measureText(B,p.angle,{"class":p.style});if(j.width>N){N=j.width}if(j.height>W){W=j.height}l+=K?W:N;if(!X){if((K&&O>C.height+2)||(!K&&O>C.width+2)){continue}var M=K?Q+(G?(t.width==0?q:q-U):0):Q+O;var L=K?P+O:P;n.itemOffsets[u[V].key]={x:M,y:L};if(!m){if(!isNaN(u[V].x)||!isNaN(u[V].y)&&e){m=true}}u[V].targetX=M;u[V].targetY=L;u[V].width=!K?c:C.width-S.left-S.right-2*U-q-((t.width>0)?t.width+U:0);u[V].height=K?c:C.height-S.top-S.bottom-2*U-q-((t.height>0)?t.height+U:0);u[V].visible=true}}n.avgWidth=u.length==0?0:l/u.length;if(!X){var v={items:u,textSettings:p};if(isNaN(e)||!m){e=0}this._animateAxisText(v,e==0?1:0);if(e!=0){var k=this;this._enqueueAnimation("series",undefined,undefined,e,function(i,h,w){k._animateAxisText(h,w)},v)}}J.width+=2*U+q+t.width+N+(K&&t.width>0?U:0);J.height+=2*U+q+t.height+W+(!K&&t.height>0?U:0);if(!K){J.height+=S.top+S.bottom}else{J.width+=S.left+S.right}var E={};if(!X&&T.line.visible){var R={stroke:T.line.color,"stroke-width":T.line.width,"stroke-dasharray":T.line.dashStyle||""};if(K){var M=C.x+C.width+(G?S.left:-S.right);M=a.jqx._ptrnd(M);this.renderer.line(M,C.y,M,C.y+C.height,R)}else{var L=a.jqx._ptrnd(C.y+(G?C.height-S.bottom:S.top));this.renderer.line(a.jqx._ptrnd(C.x),L,a.jqx._ptrnd(C.x+C.width+1),L,R)}}J.width=a.jqx._rup(J.width);J.height=a.jqx._rup(J.height);return J},_drawPlotAreaLines:function(k,B,h){var G=this.seriesGroups[k];var d=G.orientation!="horizontal";if(!this._renderData||this._renderData.length<=k){return}var K=B?"valueAxis":"xAxis";var z=this._renderData[k][K];if(!z){return}var o=this._renderData.axisDrawState;if(!o){o=this._renderData.axisDrawState={}}var C="",j;if(B){C="valueAxis_"+((G.valueAxis)?k:"")+(d?"swap":"");j=this._getValueAxis(k)}else{C="xAxis_"+((G.xAxis||G.categoryAxis)?k:"")+(d?"swap":"");j=this._getXAxis(k)}if(o[C]){o=o[C]}else{o=o[C]={}}if(!B){d=!d}var I=z.settings;if(!I){return}if(I.customDraw){return}var H=I.gridLines,s=I.tickMarks,w=I.padding;var f=z.rect;var m=this._plotRect;if(!H||!s){return}var q=0.5;var e={};var c={stroke:H.color,"stroke-width":H.width,"stroke-dasharray":H.dashStyle||""};var F=B?f.y+f.height:f.x;var p=H.offsets;if(B&&!j.flip){p=a.extend([],p);p=p.reverse()}if(p&&p.length>0){var l=NaN;var E=p.length;for(var D=0;D<p.length;D++){if(d){lineOffset=a.jqx._ptrnd(f.y+p[D].offset);if(lineOffset<f.y-q){lineOffset=a.jqx._ptrnd(f.y)}if(lineOffset>f.y+f.height){lineOffset=f.y+f.height}}else{lineOffset=a.jqx._ptrnd(f.x+p[D].offset);if(lineOffset>f.x+f.width+q){lineOffset=a.jqx._ptrnd(f.x+f.width)}}if(isNaN(lineOffset)){continue}if(!isNaN(l)&&Math.abs(lineOffset-l)<2){continue}l=lineOffset;if(h.gridLines&&H.visible!=false&&o.gridLines!=true){if(d){this.renderer.line(a.jqx._ptrnd(m.x),lineOffset,a.jqx._ptrnd(m.x+m.width),lineOffset,c)}else{this.renderer.line(lineOffset,a.jqx._ptrnd(m.y),lineOffset,a.jqx._ptrnd(m.y+m.height),c)}}e[lineOffset]=true;if(h.alternatingBackground&&(H.alternatingBackgroundColor||H.alternatingBackgroundColor2)&&o.alternatingBackground!=true){var n=((D%2)==0)?H.alternatingBackgroundColor2:H.alternatingBackgroundColor;if(D>0&&n){var J;if(d){J=this.renderer.rect(a.jqx._ptrnd(m.x),F,a.jqx._ptrnd(m.width-1),lineOffset-F,c)}else{J=this.renderer.rect(F,a.jqx._ptrnd(m.y),lineOffset-F,a.jqx._ptrnd(m.height),c)}this.renderer.attr(J,{"stroke-width":0,fill:n,opacity:H.alternatingBackgroundOpacity||1})}}F=lineOffset}}var c={stroke:s.color,"stroke-width":s.width,"stroke-dasharray":s.dashStyle||""};if(h.tickMarks&&s.visible&&o.tickMarks!=true){var v=s.size;var p=s.offsets;var l=NaN;for(var D=0;D<p.length;D++){if(d){lineOffset=a.jqx._ptrnd(f.y+p[D].offset);if(lineOffset<f.y-q){lineOffset=a.jqx._ptrnd(f.y)}if(lineOffset>f.y+f.height){lineOffset=f.y+f.height}}else{lineOffset=a.jqx._ptrnd(f.x+p[D].offset);if(lineOffset>f.x+f.width+q){lineOffset=a.jqx._ptrnd(f.x+f.width)}}if(isNaN(lineOffset)){continue}if(!isNaN(l)&&Math.abs(lineOffset-l)<2){continue}if(e[lineOffset-1]){lineOffset--}else{if(e[lineOffset+1]){lineOffset++}}if(d){if(lineOffset>f.y+f.height+q){break}}else{if(lineOffset>f.x+f.width+q){break}}l=lineOffset;var A=!z.isMirror?-v:v;if(d){var u=f.x+f.width+(j.position=="right"?w.left:-w.right);if(!B){u=f.x+(z.isMirror?w.left:-w.right+f.width)}this.renderer.line(u,lineOffset,u+A,lineOffset,c)}else{var t=f.y+(z.isMirror?f.height:0);t+=z.isMirror?-w.bottom:w.top;t=a.jqx._ptrnd(t);this.renderer.line(lineOffset,t,lineOffset,t-A,c)}}}o.tickMarks=o.tickMarks||h.tickMarks;o.gridLines=o.gridLines||h.gridLines;o.alternatingBackground=o.alternatingBackground||h.alternatingBackground},_calcValueAxisItems:function(k,e,m){var o=this._stats.seriesGroups[k];if(!o||!o.isValid){return false}var A=this.seriesGroups[k];var c=A.orientation=="horizontal";var h=this._getValueAxis(k);var n=h.valuesOnTicks!=false;var f=h.dataField;var p=o.intervals;var u=e/p;var w=o.min;var t=o.mu;var d=h.logarithmicScale==true;var l=h.logarithmicScaleBase||10;var j=A.type.indexOf("stacked")!=-1&&A.type.indexOf("100")!=-1;if(d){t=!isNaN(h.unitInterval)?h.unitInterval:1}if(!n){p=Math.max(p-1,1)}while(this._renderData.length<k+1){this._renderData.push({})}this._renderData[k].valueAxis={};var s=this._renderData[k].valueAxis;s.itemWidth=s.intervalWidth=u;s.items=[];var q=s.items;for(var z=0;z<=p;z++){var v=0;if(d){if(j){v=o.max/Math.pow(l,p-z)}else{v=w*Math.pow(l,z)}}else{v=n?w+z*t:w+(z+0.5)*t}if(z%m!=0){q.push(NaN);continue}q.push(v)}s.rangeLength=d&&!j?o.intervals:(o.intervals)*t;if(h.flip!=true){q=q.reverse()}return true},_getDecimalPlaces:function(c,k,d){var l=0;if(isNaN(d)){d=10}for(var h=0;h<c.length;h++){var m=k===undefined?c[h]:c[h][k];if(isNaN(m)){continue}var e=m.toString();for(var f=0;f<e.length;f++){if(e[f]<"0"||e[f]>"9"){l=e.length-(f+1);if(l>=0){return Math.min(l,d)}}}if(l>0){m*=Math.pow(10,l)}while(Math.round(m)!=m&&l<d){l++;m*=10}}return l},_renderValueAxis:function(h,B,O,f){var N=this.seriesGroups[h];var S=N.orientation=="horizontal";var t=this._getValueAxis(h);if(!t){throw"SeriesGroup "+h+" is missing valueAxis definition"}var I={width:0,height:0};if(!this._isGroupVisible(h)||this._isPieOnlySeries()||N.type=="spider"){return I}var R=t.valuesOnTicks!=false;var J=this._stats.seriesGroups[h];var k=J.mu;var H=t.logarithmicScale==true;var E=t.logarithmicScaleBase||10;if(H){k=!isNaN(t.unitInterval)?t.unitInterval:1}if(k==0){k=1}if(isNaN(k)){return I}var L=this._getAxisSettings(t);var s=L.title,v=L.labels;var l=t.labels||{};var z=this._get([t.horizontalTextAlignment,l.horizontalAlignment]);if(!z&&v.angle==0){v.halign=S?"center":(t.position=="right"?"left":"right")}var p=this._get([v.step,v.unitInterval/k]);if(isNaN(p)){p=1}p=Math.max(1,Math.round(p));if(!this._calcValueAxisItems(h,(S?B.width:B.height),p)||!L.visible){return I}if(!S){s.angle=(!this.rtl?-90:90);if(s.rotationPoint=="centercenter"){if(s.valign=="top"){s.rotationPoint="rightcenter"}else{if(s.valign=="bottom"){s.rotationPoint="leftcenter"}}}}var m=this._renderData[h].valueAxis;var j=v.formatSettings;var d=N.type.indexOf("stacked")!=-1&&N.type.indexOf("100")!=-1;if(d&&!j){j={sufix:"%"}}if(!v.formatFunction&&(!j||!j.decimalPlaces)){j=j||{};j.decimalPlaces=this._getDecimalPlaces([J.min,J.max,k],undefined,3)}var e=L.gridLines;var n=H?k:this._getInterval(e,k);var D=S?B.width:B.height;var P=(t.flip==true);t.flip=!P;var Q={min:J.min,max:J.max,logAxis:{enabled:H==true,base:t.logarithmicScaleBase,minPow:J.minPow,maxPow:J.maxPow}};if(e.visible||t.alternatingBackgroundColor||t.alternatingBackgroundColor2){e.offsets=this._getOffsets("gridLines",t,D,Q,L,{left:0,right:0},R,k)}var w=L.tickMarks;if(w.visible){w.offsets=this._getOffsets("tickMarks",t,D,Q,L,{left:0,right:0},R,k)}labelOffsets=this._getOffsets("labels",t,D,Q,L,{left:0,right:0},R,k,!R);t.flip=P;var q=[];var o;if(this._elementRenderInfo&&this._elementRenderInfo.length>h){o=this._elementRenderInfo[h].valueAxis}for(var M=0;M<labelOffsets.length;M++){var K=labelOffsets[M].value;if(isNaN(labelOffsets[M].offset)){q.push(undefined);continue}var A=(v.formatFunction)?v.formatFunction(K):(!isNaN(K))?this._formatNumber(K,j):K;var c={key:K,text:A};if(o&&o.itemOffsets[K]){c.x=o.itemOffsets[K].x;c.y=o.itemOffsets[K].y}c.targetX=labelOffsets[M].offset;if(!isNaN(c.targetX)){q.push(c)}}var G=(S&&t.position=="top")||(!S&&t.position=="right")||(!S&&this.rtl&&t.position!="left");var C={items:q,renderData:m};var F=this._getAnimProps(h);var u=F.enabled&&q.length<500?F.duration:0;if(this.enableAxisTextAnimation==false){u=0}m.settings=L;m.isMirror=G;m.rect=B;return this._renderAxis(!S,G,L,B,f,k,H,true,C,O,u)},_objectsArraysToArray:function(f,e){var c=[];if(!a.isArray(f)){return c}for(var d=0;d<f.length;d++){c.push(f[d][e])}return c},_arraysToObjectsArray:function(h,f){var d=[];if(h.length!=f.length){return d}for(var e=0;e<h.length;e++){for(var c=0;c<h[e].length;c++){if(d.length<=c){d.push({})}d[c][f[e]]=h[e][c]}}return d},_valuesToOffsets:function(s,f,n,t,q,h,d){var k=[];if(!f||!a.isArray(s)){return k}var e=n.logAxis.base;var o=n.logAxis.enabled?"logarithmic":"linear";var m=f.flip;var p=t;var c=0,j=0;if(q&&!isNaN(q.left)){c=q.left}if(q&&!isNaN(q.right)){j=q.right}p=t-c-j;t=p;for(var l=0;l<s.length;l++){x=this._jqxPlot.scale(s[l],{min:n.min.valueOf(),max:n.max.valueOf(),type:o,base:e},{min:0,max:h?t:p,flip:m},{});if(!isNaN(x)){if(!isNaN(d)){x+=d}if(x<=t+c+j+1){k.push(a.jqx._ptrnd(x))}else{k.push(NaN)}}else{k.push(NaN)}}return k},_generateIntervalValues:function(p,d,c,e,f){var l=[];var j=p.min;var o=p.max;if(p.logAxis&&p.logAxis.enabled){j=p.logAxis.minPow;o=p.logAxis.maxPow}if(j==undefined||o==undefined){return l}if(j==o){if(p.logAxis&&p.logAxis.enabled){return[Math.pow(p.logAxis.base,j)]}else{return[j]}}var n=1;if(c<1){n=1000000;j*=n;o*=n;c*=n}for(var k=j;k<=o;k+=c){l.push(k/n+(f?c/2:0))}if(d>c){var h=[];var m=Math.round(d/c);for(var k=0;k<l.length;k++){if((k%m)==0){h.push(l[k])}}l=h}if(p.logAxis&&p.logAxis.enabled){for(var k=0;k<l.length;k++){l[k]=Math.pow(p.logAxis.base,l[k])}}return l},_generateDTOffsets:function(s,v,C,p,D,d,q,c,z,A,j){if(!q){q="day"}var h=[];if(s>v){return h}if(s==v){if(A){h.push({offset:c?C/2:p.left,value:s})}else{if(c){h.push({offset:C/2,value:s})}}return h}var l=C-p.left-p.right;var B=s;var m=p.left;var f=m;d=Math.max(d,1);var o=d;var e=Math.min(1,d);if(d>1&&q!="millisecond"){d=1}while(a.jqx._ptrnd(f)<=a.jqx._ptrnd(p.left+l+(c?0:p.right))){h.push({offset:f,value:B});var E=new Date(B.valueOf());if(q=="millisecond"){E.setMilliseconds(B.getMilliseconds()+d)}else{if(q=="second"){E.setSeconds(B.getSeconds()+d)}else{if(q=="minute"){E.setMinutes(B.getMinutes()+d)}else{if(q=="hour"){var n=E.valueOf();E.setHours(B.getHours()+d);if(n==E.valueOf()){E.setHours(B.getHours()+d+1)}}else{if(q=="day"){E.setDate(B.getDate()+d)}else{if(q=="month"){E.setMonth(B.getMonth()+d)}else{if(q=="year"){E.setFullYear(B.getFullYear()+d)}}}}}}}B=E;f=m+(B.valueOf()-s.valueOf())*e/(v.valueOf()-s.valueOf())*l}if(j){for(var u=0;u<h.length;u++){h[u].offset=C-h[u].offset}}if(o>1&&q!="millisecond"){var t=[];for(var u=0;u<h.length;u+=o){t.push({offset:h[u].offset,value:h[u].value})}h=t}if(!c&&!A&&h.length>1){var t=[];t.push({offset:0,value:undefined});for(var u=1;u<h.length;u++){t.push({offset:h[u-1].offset+(h[u].offset-h[u-1].offset)/2,value:undefined})}var w=t.length;if(w>1){t.push({offset:t[w-1].offset+(t[w-1].offset-t[w-2].offset)})}else{t.push({offset:C,value:undefined})}h=t}if(D>d){var t=[];var k=Math.round(D/o);for(var u=0;u<h.length;u++){if((u%k)==0){t.push({offset:h[u].offset,value:h[u].value})}}h=t}return h},_hasStackValueReversal:function(f,v){var k=this.seriesGroups[f];var l=-1!=k.type.indexOf("stacked");if(!l){return false}var c=-1!=k.type.indexOf("waterfall");var t=this._getDataLen(f);var w=0;var n=false;var z=[];for(var q=0;q<k.series.length;q++){z[q]=this._isSerieVisible(f,q)}for(var s=0;s<t;s++){var o=(c&&s!=0)?w:v;var e=0,u=0;var d=undefined;if(!c){n=false}for(var p=0;p<k.series.length;p++){if(!z[p]){continue}val=this._getDataValueAsNumber(s,k.series[p].dataField,f);if(isNaN(val)){continue}if(k.series[p].summary){var h=this._getDataValue(s,k.series[p].summary,f);if(undefined!==h){continue}}var m=!n?val<v:val<0;n=true;if(d==undefined){d=m}if(m!=d){return true}d=m;w+=val}}return false},_getValueAxis:function(c){var d=c==undefined?this.valueAxis:this.seriesGroups[c].valueAxis||this.valueAxis;if(!d){d=this.valueAxis={}}return d},_buildStats:function(M){var Z={seriesGroups:[]};this._stats=Z;for(var v=0;v<this.seriesGroups.length;v++){var F=this.seriesGroups[v];Z.seriesGroups[v]={};var I=this._getXAxis(v);var q=this._getValueAxis(v);var t=this._getXAxisStats(v,I,(F.orientation!="horizontal")?M.width:M.height);var C=Z.seriesGroups[v];C.isValid=true;var N=(F.orientation=="horizontal")?M.width:M.height;var P=q.logarithmicScale==true;var O=q.logarithmicScaleBase;if(isNaN(O)){O=10}var J=-1!=F.type.indexOf("stacked");var f=J&&-1!=F.type.indexOf("100");var L=-1!=F.type.indexOf("range");var V=F.type.indexOf("waterfall")!=-1;if(V&&!this._moduleWaterfall){throw"Please include 'jqxchart.waterfall.js'"}if(f){C.psums=[];C.nsums=[]}var w=NaN,R=NaN;var e=NaN,h=NaN;var u=q?q.baselineValue:NaN;if(isNaN(u)){u=P&&!f?1:0}var k=false;if(u!=0&&J){k=this._hasStackValueReversal(v,u);if(k){u=0}}if(J&&V){k=this._hasStackValueReversal(v,u)}var E=this._getDataLen(v);var d=0;var aa=NaN;var o=[];if(V){for(var m=0;m<F.series.length;m++){o.push(NaN)}}var A=NaN;for(var Y=0;Y<E&&C.isValid;Y++){if(I.rangeSelector){var l=I.dataField?this._getDataValue(Y,I.dataField,v):Y;if(l&&t.isDateTime){l=this._castAsDate(l,I.dateFormat)}if(t.useIndeces){l=Y}if(l&&(l.valueOf()<t.min.valueOf()||l.valueOf()>t.max.valueOf())){continue}}var ab=q.minValue;var H=q.maxValue;if(q.baselineValue){if(isNaN(ab)){ab=u}else{ab=Math.min(u,ab)}if(isNaN(H)){H=u}else{H=Math.max(u,H)}}var z=0,B=0;for(var m=0;F.series&&m<F.series.length;m++){if(!this._isSerieVisible(v,m)){continue}var K=NaN,U=NaN,D=NaN;if(F.type.indexOf("candle")!=-1||F.type.indexOf("ohlc")!=-1){var c=["Open","Low","Close","High"];for(var W in c){var n=this._getDataValueAsNumber(Y,F.series[m]["dataField"+c[W]],v);if(isNaN(n)){continue}D=isNaN(U)?n:Math.min(D,n);U=isNaN(U)?n:Math.max(U,n)}}else{if(L){var ac=this._getDataValueAsNumber(Y,F.series[m].dataFieldFrom,v);var G=this._getDataValueAsNumber(Y,F.series[m].dataFieldTo,v);U=Math.max(ac,G);D=Math.min(ac,G)}else{K=this._getDataValueAsNumber(Y,F.series[m].dataField,v);if(V){if(this._isSummary(v,Y)){var X=this._getDataValue(Y,F.series[m].summary,v);if(X!==undefined){continue}}if(!J){if(isNaN(o[m])){o[m]=K}else{K+=o[m]}o[m]=K}else{if(!isNaN(A)){K+=A}A=K}}if(isNaN(K)||(P&&K<=0)){continue}D=U=K}}if((isNaN(H)||U>H)&&((isNaN(q.maxValue))?true:U<=q.maxValue)){H=U}if((isNaN(ab)||D<ab)&&((isNaN(q.minValue))?true:D>=q.minValue)){ab=D}if(!isNaN(K)&&J&&!V){if(K>u){z+=K}else{if(K<u){B+=K}}}}if(!f){if(!isNaN(q.maxValue)){z=Math.min(q.maxValue,z)}if(!isNaN(q.minValue)){B=Math.max(q.minValue,B)}}if(P&&f){for(var m=0;m<F.series.length;m++){if(!this._isSerieVisible(v,m)){aa=0.01;continue}var K=this._getDataValueAsNumber(Y,F.series[m].dataField,v);if(isNaN(K)||K<=0){aa=0.01;continue}var S=z==0?0:K/z;if(isNaN(aa)||S<aa){aa=S}}}var s=z-B;if(d<s){d=s}if(f){C.psums[Y]=z;C.nsums[Y]=B}if(H>R||isNaN(R)){R=H}if(ab<w||isNaN(w)){w=ab}if(z>e||isNaN(e)){e=z}if(B<h||isNaN(h)){h=B}}if(f){e=e==0?0:Math.max(e,-h);h=h==0?0:Math.min(h,-e)}if(w==R){if(w==0){w=-1;R=1}else{if(w<0){R=0}else{if(!P){w=0}else{if(w==1){w=w/O;R=R*O}}}}}var T={gmin:w,gmax:R,gsumP:e,gsumN:h,gbase:u,isLogAxis:P,logBase:O,minPercent:aa,gMaxRange:d,isStacked:J,isStacked100:f,isWaterfall:V,hasStackValueReversal:k,valueAxis:q,valueAxisSize:N};if(T.isStacked){if(T.gsumN<0){T.gmin=Math.min(T.gmin,T.gbase+T.gsumN)}if(T.gsumP>0){T.gmax=Math.max(T.gmax,T.gbase+T.gsumP)}}C.context=T}this._mergeCommonValueAxisStats();for(var Y=0;Y<Z.seriesGroups.length;Y++){var C=Z.seriesGroups[Y];if(!C.isValid){continue}var Q=this._calcOutputGroupStats(C.context);for(var W in Q){C[W]=Q[W]}delete C.context}},_mergeCommonValueAxisStats:function(){var h={};for(var f=0;f<this.seriesGroups.length;f++){if(!this._isGroupVisible(f)){continue}if(this.seriesGroups[f].valueAxis){continue}var e=this._stats.seriesGroups[f].context;h.gbase=e.gbase;if(isNaN(h.gmin)||e.gmin<h.gmin){h.gmin=e.gmin}if(isNaN(h.gmax)||e.gmax>h.gmax){h.gmax=e.gmax}if(isNaN(h.gsumP)||e.gsumP>h.gsumP){h.gsumP=e.gsumP}if(isNaN(h.gsumN)||e.gsumN<h.gsumN){h.gsumN=e.gsumN}if(isNaN(h.logBase)||e.logBase<h.logBase){h.logBase=e.logBase}if(isNaN(h.minPercent)||e.minPercent<h.minPercent){h.minPercent=e.minPercent}if(h.gsumN>0){h.gmin=Math.min(h.gmin,h.gbase+h.gsumN)}if(h.gsumP>0){h.gmax=Math.max(h.gmax,h.gbase+h.gsumP)}}for(var f=0;f<this.seriesGroups.length;f++){if(this.seriesGroups[f].valueAxis){continue}var c=this._stats.seriesGroups[f].context;for(var d in h){c[d]=h[d]}}},_calcOutputGroupStats:function(i){var d=i.gmin,h=i.gmax,D=i.gsumP,E=i.gsumN,C=i.gbase,e=i.isLogAxis,l=i.logBase,w=i.minPercent,m=i.gMaxRange,n=i.isStacked,j=i.isStacked100,f=i.isWaterfall,q=i.hasStackValueReversal,B=i.valueAxis,z=i.valueAxisSize;var v=i.valueAxis.unitInterval;if(!v){v=this._calcInterval(d,h,Math.max(z/80,2))}if(d==h){d=C;h=2*h}var k=NaN;var c=0;var t=0;if(e){if(j){k=0;var u=1;c=t=a.jqx.log(100,l);while(u>w){u/=l;c--;k++}d=Math.pow(l,c)}else{if(n&&!f){h=Math.max(h,D)}t=a.jqx._rnd(a.jqx.log(h,l),1,true);h=Math.pow(l,t);c=a.jqx._rnd(a.jqx.log(d,l),1,false);d=Math.pow(l,c)}v=l}if(d<E){E=d}if(h>D){D=h}var A=e?d:a.jqx._rnd(d,v,false);var s=e?h:a.jqx._rnd(h,v,true);if(j&&s>100){s=100}if(j&&!e){s=(s>0)?100:0;A=(A<0)?-100:0;v=B.unitInterval;if(isNaN(v)||v<=0||v>=100){v=10}if((100%v)!=0){for(;v>=1;v--){if((100%v)==0){break}}}}if(isNaN(s)||isNaN(A)||isNaN(v)){return{}}if(isNaN(k)){k=parseInt(((s-A)/(v==0?1:v)).toFixed())}if(e&&!j){k=t-c;m=Math.pow(l,k)}if(k<1){return{}}var o={min:A,max:s,logarithmic:e,logBase:l,base:e?A:C,minPow:c,maxPow:t,sumP:D,sumN:E,mu:v,maxRange:m,intervals:k,hasStackValueReversal:q};return o},_getDataLen:function(d){var c=this.source;if(d!=undefined&&d!=-1&&this.seriesGroups[d].source){c=this.seriesGroups[d].source}if(c instanceof a.jqx.dataAdapter){c=c.records}if(c){return c.length}return 0},_getDataValue:function(c,f,e){var d=this.source;if(e!=undefined&&e!=-1){d=this.seriesGroups[e].source||d}if(d instanceof a.jqx.dataAdapter){d=d.records}if(!d||c<0||c>d.length-1){return undefined}if(a.isFunction(f)){return f(c,d)}return(f&&f!="")?d[c][f]:d[c]},_getDataValueAsNumber:function(c,f,d){var e=this._getDataValue(c,f,d);if(this._isDate(e)){return e.valueOf()}if(typeof(e)!="number"){e=parseFloat(e)}if(typeof(e)!="number"){e=undefined}return e},_isPieGroup:function(c){var d=this.seriesGroups[c];if(!d||!d.type){return false}return d.type.indexOf("pie")!=-1||d.type.indexOf("donut")!=-1},_renderPieSeries:function(f,d){var h=this._getDataLen(f);var j=this.seriesGroups[f];var o=this._calcGroupOffsets(f,d).offsets;for(var t=0;t<j.series.length;t++){var m=j.series[t];if(m.customDraw){continue}var A=this._getSerieSettings(f,t);var k=m.colorScheme||j.colorScheme||this.colorScheme;var v=this._getAnimProps(f,t);var c=v.enabled&&h<5000&&!this._isToggleRefresh&&this._isVML!=true?v.duration:0;if(a.jqx.mobile.isMobileBrowser()&&(this.renderer instanceof a.jqx.HTML5Renderer)){c=0}var w=this._get([m.minAngle,m.startAngle]);if(isNaN(w)||w<0||w>360){w=0}var C=this._get([m.maxAngle,m.endAngle]);if(isNaN(C)||C<0||C>360){C=360}var q={rect:d,minAngle:w,maxAngle:C,groupIndex:f,serieIndex:t,settings:A,items:[]};for(var z=0;z<h;z++){var p=o[t][z];if(!p.visible){continue}var u=p.fromAngle;var e=p.toAngle;var B=this.renderer.pieslice(p.x,p.y,p.innerRadius,p.outerRadius,u,c==0?e:u,p.centerOffset);this._setRenderInfo(f,t,z,{element:B});var l={displayValue:p.displayValue,itemIndex:z,visible:p.visible,x:p.x,y:p.y,innerRadius:p.innerRadius,outerRadius:p.outerRadius,fromAngle:u,toAngle:e,centerOffset:p.centerOffset};q.items.push(l)}this._animatePieSlices(q,0);var n=this;this._enqueueAnimation("series",undefined,undefined,c,function(s,i,D){n._animatePieSlices(i,D)},q)}},_sliceSortFunction:function(d,c){return d.fromAngle-c.fromAngle},_animatePieSlices:function(p,d){var k;if(this._elementRenderInfo&&this._elementRenderInfo.length>p.groupIndex&&this._elementRenderInfo[p.groupIndex].series&&this._elementRenderInfo[p.groupIndex].series.length>p.serieIndex){k=this._elementRenderInfo[p.groupIndex].series[p.serieIndex]}var h=360*d;var w=this.seriesGroups[p.groupIndex];var o=this._getLabelsSettings(p.groupIndex,p.serieIndex,NaN);var n=o.visible;var c=[];for(var v=0;v<p.items.length;v++){var A=p.items[v];if(!A.visible){continue}var q=A.fromAngle;var f=A.fromAngle+d*(A.toAngle-A.fromAngle);if(k&&k[A.displayValue]){var m=k[A.displayValue].fromAngle;var e=k[A.displayValue].toAngle;q=m+(q-m)*d;f=e+(f-e)*d}c.push({index:v,from:q,to:f})}if(k){c.sort(this._sliceSortFunction)}var B=NaN;for(var v=0;v<c.length;v++){var A=p.items[c[v].index];var t=this._getRenderInfo(p.groupIndex,p.serieIndex,A.itemIndex);var q=c[v].from;var f=c[v].to;if(k){if(!isNaN(B)&&q>B){q=B}B=f;if(v==c.length-1&&f!=c[0].from){f=p.maxAngle+c[0].from}}var u=this.renderer.pieSlicePath(A.x,A.y,A.innerRadius,A.outerRadius,q,f,A.centerOffset);this.renderer.attr(t.element,{d:u});var j=this._getColors(p.groupIndex,p.serieIndex,A.itemIndex,"radialGradient",A.outerRadius);var z=p.settings;t.colors=j;t.settings=z;this.renderer.attr(t.element,{fill:j.fillColor,stroke:j.lineColor,"stroke-width":z.stroke,"fill-opacity":z.opacity,"stroke-opacity":z.opacity,"stroke-dasharray":"none"||z.dashStyle});var l=w.series[p.serieIndex];if(n){this._showPieLabel(p.groupIndex,p.serieIndex,A.itemIndex,o)}if(d==1){this._installHandlers(t.element,"pieslice",p.groupIndex,p.serieIndex,A.itemIndex)}}},_showPieLabel:function(f,h,E,q,i){var l=this._renderData[f].offsets[h][E];if(l.elementInfo.labelElement){this.renderer.removeElement(l.elementInfo.labelElement)}if(!q){q=this._getLabelsSettings(f,h,NaN)}if(!q.visible){return}var F=l.fromAngle,H=l.toAngle;var m=Math.abs(F-H);var t=m>180?1:0;if(m>360){F=0;H=360}var u=F*Math.PI*2/360;var j=H*Math.PI*2/360;var k=m/2+F;k=k%360;var G=k*Math.PI*2/360;var z;if(q.autoRotate==true){z=k<90||k>270?360-k:180-k}var w=q.linesEnabled;var p=this._showLabel(f,h,E,{x:0,y:0,width:0,height:0},"center","center",true,false,false,z);var e=q.radius||l.outerRadius+Math.max(p.width,p.height);if(this._isPercent(e)){e=parseFloat(e)/100*Math.min(this._plotRect.width,this._plotRect.height)/2}e+=l.centerOffset;if(isNaN(i)){i=0}e+=i;var B=this.seriesGroups[f];var o=B.series[h];var D=a.jqx.getNum([o.offsetX,B.offsetX,this._plotRect.width/2]);var C=a.jqx.getNum([o.offsetY,B.offsetY,this._plotRect.height/2]);var d=this._plotRect.x+D;var c=this._plotRect.y+C;var A=this._adjustTextBoxPosition(d,c,p,e,k,l.outerRadius>e,q.linesAngles!=false,q.autoRotate==true);var n={};l.elementInfo.labelElement=this._showLabel(f,h,E,{x:A.x,y:A.y,width:p.width,height:p.height},"left","top",false,false,false,z,n);if(e>l.outerRadius+5&&w!=false){var v={lineColor:l.elementInfo.colors.lineColor,stroke:l.elementInfo.settings.stroke,opacity:l.elementInfo.settings.opacity,dashStyle:l.elementInfo.settings.dashStyle};l.elementInfo.labelArrowPath=this._updateLebelArrowPath(l.elementInfo.labelArrowPath,d,c,e,l.outerRadius+i,G,q.linesAngles!=false,v,n)}},_updateLebelArrowPath:function(e,l,h,k,n,j,q,f,u){var d=a.jqx._ptrnd(l+(k-0)*Math.cos(j));var p=a.jqx._ptrnd(h-(k-0)*Math.sin(j));var c=a.jqx._ptrnd(l+(n+2)*Math.cos(j));var o=a.jqx._ptrnd(h-(n+2)*Math.sin(j));var s=[];s.push({x:u.x+u.width/2,y:u.y});s.push({x:u.x+u.width/2,y:u.y+u.height});s.push({x:u.x,y:u.y+u.height/2});s.push({x:u.x+u.width,y:u.y+u.height/2});if(!q){s.push({x:u.x,y:u.y});s.push({x:u.x+u.width,y:u.y});s.push({x:u.x+u.width,y:u.y+u.height});s.push({x:u.x,y:u.y+u.height})}s=s.sort(function(v,i){return a.jqx._ptdist(v.x,v.y,l,h)-a.jqx._ptdist(i.x,i.y,l,h)});s=s.sort(function(v,i){return(Math.abs(v.x-l)+Math.abs(v.y-h))-(Math.abs(i.x-l)+Math.abs(i.y-h))});for(var m=0;m<s.length;m++){s[m].x=a.jqx._ptrnd(s[m].x);s[m].y=a.jqx._ptrnd(s[m].y)}d=s[0].x;p=s[0].y;var t="M "+d+","+p+" L"+c+","+o;if(q){t="M "+d+","+p+" L"+c+","+p+" L"+c+","+o}if(e){this.renderer.attr(e,{d:t})}else{e=this.renderer.path(t,{})}this.renderer.attr(e,{fill:"none",stroke:f.lineColor,"stroke-width":f.stroke,"stroke-opacity":f.opacity,"stroke-dasharray":"none"||f.dashStyle});return e},_adjustTextBoxPosition:function(f,e,o,i,u,c,j,p){var d=u*Math.PI*2/360;var l=a.jqx._ptrnd(f+i*Math.cos(d));var k=a.jqx._ptrnd(e-i*Math.sin(d));if(p){var m=o.width;var q=o.height;var v=Math.atan(q/m)%(Math.PI*2);var z=d%(Math.PI*2);var t=0,s=0;var n=0;if(z<=v){n=m/2*Math.cos(d)}else{if(z>=v&&z<Math.PI-v){n=(q/2)*Math.sin(d)}else{if(z>=Math.PI-v&&z<Math.PI+v){n=m/2*Math.cos(d)}else{if(z>=Math.PI+v&&z<2*Math.PI-v){n=q/2*Math.sin(d)}else{if(z>=2*Math.PI-v&&z<2*Math.PI){n=m/2*Math.cos(d)}}}}}i+=Math.abs(n)+3;var l=a.jqx._ptrnd(f+i*Math.cos(d));var k=a.jqx._ptrnd(e-i*Math.sin(d));l-=o.width/2;k-=o.height/2;return{x:l,y:k}}if(!c){if(!j){if(u>=0&&u<45||u>=315&&u<360){k-=o.height/2}else{if(u>=45&&u<135){k-=o.height;l-=o.width/2}else{if(u>=135&&u<225){k-=o.height/2;l-=o.width}else{if(u>=225&&u<315){l-=o.width/2}}}}}else{if(u>=90&&u<270){k-=o.height/2;l-=o.width}else{k-=o.height/2}}}else{l-=o.width/2;k-=o.height/2}return{x:l,y:k}},_isColumnType:function(c){return(c.indexOf("column")!=-1||c.indexOf("waterfall")!=-1)},_getColumnGroupsCount:function(d){var f=0;d=d||"vertical";var h=this.seriesGroups;for(var e=0;e<h.length;e++){var c=h[e].orientation||"vertical";if(this._isColumnType(h[e].type)&&c==d){f++}}if(this.columnSeriesOverlap){f=1}return f},_getColumnGroupIndex:function(j){var c=0;var d=this.seriesGroups[j].orientation||"vertical";for(var f=0;f<j;f++){var h=this.seriesGroups[f];var e=h.orientation||"vertical";if(this._isColumnType(h.type)&&e==d){c++}}return c},_renderAxisBands:function(f,F,N){var C=N?this._getXAxis(f):this._getValueAxis(f);var w=this.seriesGroups[f];var A=N?undefined:w.bands;if(!A){for(var S=0;S<f;S++){var p=N?this._getXAxis(S):this._getValueAxis(S);if(p==C){return}}A=C.bands}if(!a.isArray(A)){return}var q=F;var Y=w.orientation=="horizontal";if(Y){q={x:F.y,y:F.x,width:F.height,height:F.width}}this._calcGroupOffsets(f,q);for(var S=0;S<A.length;S++){var d=A[S];var W=this._get([d.minValue,d.from]);var B=this._get([d.maxValue,d.to]);var v=N?this.getXAxisDataPointOffset(W,f):this.getValueAxisDataPointOffset(W,f);var X=N?this.getXAxisDataPointOffset(B,f):this.getValueAxisDataPointOffset(B,f);var D=Math.abs(v-X);var M;if(w.polar||w.spider){var u=this._renderData[f];var e=u.polarCoords;if(!N){var I=this._toPolarCoord(e,F,F.x,u.baseOffset);var H=this._toPolarCoord(e,F,F.x,v);var G=this._toPolarCoord(e,F,F.x,X);var t=a.jqx._ptdist(I.x,I.y,H.x,H.y);var s=a.jqx._ptdist(I.x,I.y,G.x,G.y);var m=Math.round(-e.startAngle*360/(2*Math.PI));var T=Math.round(-e.endAngle*360/(2*Math.PI));if(m>T){var L=m;m=T;T=L}if(w.spider){var J=u.xAxis.offsetAngles;var K="";var P=[s,t];var E=J;if(e.isClosedCircle){E=a.extend([],J);E.push(E[0])}for(var O in P){for(var Q=0;Q<E.length;Q++){var V=O==0?Q:J.length-Q-1;var n=e.x+P[O]*Math.cos(E[V]);var l=e.y+P[O]*Math.sin(E[V]);if(K==""){K+="M "}else{K+=" L"}K+=a.jqx._ptrnd(n)+","+a.jqx._ptrnd(l)}if(O==0){var n=e.x+P[1]*Math.cos(E[V]);var l=e.y+P[1]*Math.sin(E[V]);K+=" L"+a.jqx._ptrnd(n)+","+a.jqx._ptrnd(l)}}K+=" Z";M=this.renderer.path(K)}else{M=this.renderer.pieslice(e.x,e.y,t,s,m,T)}}else{if(w.spider){p1=this.getPolarDataPointOffset(W,this._stats.seriesGroups[f].max,f);p2=this.getPolarDataPointOffset(B,this._stats.seriesGroups[f].max,f);var K="M "+e.x+","+e.y;K+=" L "+p1.x+","+p1.y;K+=" L "+p2.x+","+p2.y;M=this.renderer.path(K)}else{var h={};var o={x:Math.min(v,X),y:F.y,width:D,height:F.height};this._columnAsPieSlice(h,F,e,o);M=h.element}}}else{var c={x:Math.min(v,X),y:q.y,width:D,height:q.height};if(!N){c={x:q.x,y:Math.min(v,X),width:q.width,height:D}}if(Y){var L=c.x;c.x=c.y;c.y=L;L=c.width;c.width=c.height;c.height=L}if(D==0||D==1){M=this.renderer.line(a.jqx._ptrnd(c.x),a.jqx._ptrnd(c.y),a.jqx._ptrnd(c.x+(Y?0:c.width)),a.jqx._ptrnd(c.y+(Y?c.height:0)))}else{M=this.renderer.rect(c.x,c.y,c.width,c.height)}}var Z=d.fillColor||d.color||"#AAAAAA";var U=d.lineColor||Z;var z=d.lineWidth;if(isNaN(z)){z=1}var R=d.opacity;if(isNaN(R)||R<0||R>1){R=1}this.renderer.attr(M,{fill:Z,"fill-opacity":R,stroke:U,"stroke-opacity":R,"stroke-width":z,"stroke-dasharray":d.dashStyle})}},_getColumnGroupWidth:function(n,i,p){var f=this.seriesGroups[n];var m=f.type.indexOf("stacked")!=-1;var e=m?1:f.series.length;var l=this._getColumnGroupsCount(f.orientation);if(isNaN(l)||0==l){l=1}var o=i.rangeLength>=1?i.itemWidth:p*0.9;var d=f.columnsMinWidth;if(isNaN(d)){d=1}if(!isNaN(f.columnsMaxWidth)){d=Math.min(f.columnsMaxWidth,d)}if(d>o&&i.length>0){o=Math.max(o,p*0.9/i.length)}var j=d;if(!m){var h=f.seriesGapPercent;if(isNaN(h)||h<0){h=10}h/=100;var c=d;c*=(1+h);j+=f.series.length*c}var k=Math.max(o/l,j);return{requiredWidth:j,availableWidth:o,targetWidth:k}},_getColumnSerieWidthAndOffset:function(e,f){var o=this.seriesGroups[e];var z=o.series[f];var d=o.orientation=="horizontal";var c=this._plotRect;if(d){c={x:c.y,y:c.x,width:c.height,height:c.width}}var A=this._calcGroupOffsets(e,c);if(!A||A.xoffsets.length==0){return}var n=true;var B=this._getColumnGroupsCount(o.orientation);if(o.type=="candlestick"||o.type=="ohlc"){B=1}var u=this._getColumnGroupIndex(e);var v=this._getColumnGroupWidth(e,A.xoffsets,d?c.height:c.width);var j=0;var h=v.targetWidth;if(this.columnSeriesOverlap==true||(Math.round(h)>Math.round(v.availableWidth/B))){B=1;u=0}if(n){j-=(h*B)/2}j+=h*u;var G=o.columnsGapPercent;if(G<=0){G=0}if(isNaN(G)||G>=100){G=25}G/=100;var m=h*G;if(m+v.requiredWidth>v.targetWidth){m=Math.max(0,v.targetWidth-v.requiredWidth)}if(Math.round(h)>Math.round(v.availableWidth)){m=0}h-=m;j+=m/2;var C=o.seriesGapPercent;if(isNaN(C)||C<0){C=10}var p=o.type.indexOf("stacked")!=-1;var w=h;if(!p){w/=o.series.length}var D=this._get([o.seriesGap,(h*C/100)/(o.series.length-1)]);if(o.polar==true||o.spider==true||p||o.series.length<=1){D=0}var q=D*(o.series.length-1);if(o.series.length>1&&q>h-o.series.length*1){q=h-o.series.length*1;D=q/Math.max(1,(o.series.length-1))}var i=w-(q/o.series.length);var F=0;var k=o.columnsMaxWidth;if(!isNaN(k)){if(i>k){F=i-k;i=k}}var E=F/2;var l=0;if(!p){var H=(h-(i*o.series.length)-q)/2;var t=Math.max(0,f);l=H+i*f+t*D}else{l=F/2}return{width:i,offset:j+l}},_renderColumnSeries:function(h,d){var l=this.seriesGroups[h];if(!l.series||l.series.length==0){return}var k=this._getDataLen(h);var f=l.orientation=="horizontal";var D=d;if(f){D={x:d.y,y:d.x,width:d.height,height:d.width}}var t=this._calcGroupOffsets(h,D);if(!t||t.xoffsets.length==0){return}var o;if(l.polar==true||l.spider==true){o=this._getPolarAxisCoords(h,D)}var v={groupIndex:h,rect:d,vertical:!f,seriesCtx:[],renderData:t,polarAxisCoords:o};v.columnGroupWidth=this._getColumnGroupWidth(h,t.xoffsets,f?D.height:D.width);var j=this._getGroupGradientType(h);for(var w=0;w<l.series.length;w++){var p=l.series[w];if(p.customDraw){continue}var B=p.dataField;var z=this._getAnimProps(h,w);var c=z.enabled&&!this._isToggleRefresh&&t.xoffsets.length<100?z.duration:0;var m=this._getColumnSerieWidthAndOffset(h,w);var u=this._isSerieVisible(h,w);var n=this._getSerieSettings(h,w);var E=this._getColors(h,w,NaN,this._getGroupGradientType(h),4);var e=[];if(a.isFunction(p.colorFunction)&&!o){for(var C=t.xoffsets.first;C<=t.xoffsets.last;C++){e.push(this._getColors(h,w,C,j,4))}}var A={seriesIndex:w,serieColors:E,itemsColors:e,settings:n,columnWidth:m.width,xAdjust:m.offset,isVisible:u};v.seriesCtx.push(A)}this._animColumns(v,c==0?1:0);var q=this;this._enqueueAnimation("series",undefined,undefined,c,function(s,i,F){q._animColumns(i,F)},v)},_getPercent:function(e,d,c,f){if(isNaN(e)){e=d}if(!isNaN(c)&&!isNaN(e)&&e<c){e=c}if(!isNaN(f)&&!isNaN(e)&&e>f){e=f}if(isNaN(e)){return NaN}return e},_getColumnVOffsets:function(p,l,f,G,z,d){var t=this.seriesGroups[l];var K=this._getPercent(t.columnsTopWidthPercent,100,0,100);var A=this._getPercent(t.columnsBottomWidthPercent,100,0,100);if(K==0&&A==0){A=100}var M=this._getPercent(t.columnsNeckHeightPercent,NaN,0,100)/100;var H=this._getPercent(t.columnsNeckWidthPercent,100,0,100)/100;var v=[];var L=NaN;for(var u=0;u<f.length;u++){var Q=f[u];var m=Q.seriesIndex;var J=t.series[m];var q=p.offsets[m][G].from;var S=p.offsets[m][G].to;var C=p.xoffsets.data[G];var j;var k=Q.isVisible;if(!k){S=q}var c=this._elementRenderInfo;if(k&&c&&c.length>l&&c[l].series.length>m){var I=p.xoffsets.xvalues[G];j=c[l].series[m][I];if(j&&!isNaN(j.from)&&!isNaN(j.to)){q=j.from+(q-j.from)*d;S=j.to+(S-j.to)*d;C=j.xoffset+(C-j.xoffset)*d}}if(!j){S=q+(S-q)*(z?1:d)}if(isNaN(q)){q=isNaN(L)?p.baseOffset:L}if(!isNaN(S)&&z){L=S}else{L=q}if(isNaN(S)){S=q}var F={from:q,to:S,xOffset:C};if(K!=100||A!=100){F.funnel=true;F.toWidthPercent=K;F.fromWidthPercent=A}v.push(F)}if(z&&v.length>1&&!(this._elementRenderInfo&&this._elementRenderInfo.length>l)){var n=0,o=0,N=-Infinity,B=Infinity,O=Infinity,E=-Infinity;for(var P=0;P<v.length;P++){var Q=f[P];if(Q.isVisible){if(v[P].to>=v[P].from){o+=v[P].to-v[P].from;O=Math.min(O,v[P].from);E=Math.max(E,v[P].to)}else{n+=v[P].from-v[P].to;N=Math.max(N,v[P].from);B=Math.min(B,v[P].to)}}}var R=n;var w=o;n*=d;o*=d;var e=0,h=0;for(var P=0;P<v.length;P++){if(v[P].to>=v[P].from){var D=v[P].to-v[P].from;if(D+h>o){D=Math.max(0,o-h);v[P].to=v[P].from+D}if(K!=100||A!=100){v[P].funnel=true;if(!isNaN(M)&&w*M>=h){v[P].fromWidthPercent=H*100}else{v[P].fromWidthPercent=(Math.abs(v[P].from-O)/w)*(K-A)+A}if(!isNaN(M)&&w*M>=(0+(h+D))){v[P].toWidthPercent=H*100}else{v[P].toWidthPercent=(Math.abs(v[P].to-O)/w)*(K-A)+A}}h+=D}else{var D=v[P].from-v[P].to;if(D+e>n){D=Math.max(0,n-e);v[P].to=v[P].from-D}if(K!=100||A!=100){v[P].funnel=true;if(!isNaN(M)&&R*M>=e){v[P].fromWidthPercent=H*100}else{v[P].fromWidthPercent=(Math.abs(v[P].from-N)/R)*(K-A)+A}if(!isNaN(M)&&R*M>=(0+(e+D))){v[P].toWidthPercent=H*100}else{v[P].toWidthPercent=(Math.abs(v[P].to-N)/R)*(K-A)+A}}e+=D}}}return v},_columnAsPieSlice:function(e,m,o,q){var f=this._toPolarCoord(o,m,q.x,q.y);var h=this._toPolarCoord(o,m,q.x,q.y+q.height);var n=a.jqx._ptdist(o.x,o.y,h.x,h.y);var k=a.jqx._ptdist(o.x,o.y,f.x,f.y);var d=m.width;var p=Math.abs(o.startAngle-o.endAngle)*180/Math.PI;var c=-((q.x-m.x)*p)/d;var j=-((q.x+q.width-m.x)*p)/d;var l=o.startAngle;l=360*l/(Math.PI*2);c-=l;j-=l;if(e){if(e.element!=undefined){var i=this.renderer.pieSlicePath(o.x,o.y,n,k,j,c,0);i+=" Z";this.renderer.attr(e.element,{d:i})}else{e.element=this.renderer.pieslice(o.x,o.y,n,k,j,c,0)}}return{fromAngle:j,toAngle:c,innerRadius:n,outerRadius:k}},_setRenderInfo:function(f,c,e,d){this._renderData[f].offsets[c][e].elementInfo=d},_getRenderInfo:function(e,c,d){return this._renderData[e].offsets[c][d].elementInfo||{}},_animColumns:function(al,e){var s=this;var t=al.groupIndex;var E=this.seriesGroups[t];var A=al.renderData;var ad=E.type.indexOf("waterfall")!=-1;var J=this._getXAxis(t);var L=E.type.indexOf("stacked")!=-1;var f=al.polarAxisCoords;var D=this._getGroupGradientType(t);var v=al.columnGroupWidth.targetWidth;var C=-1;for(var ae=0;ae<E.series.length;ae++){if(this._isSerieVisible(t,ae)){C=ae;break}}var am=NaN,w=NaN;for(var ae=0;ae<al.seriesCtx.length;ae++){var ak=al.seriesCtx[ae];if(isNaN(am)||am>ak.xAdjust){am=ak.xAdjust}if(isNaN(w)||w<ak.xAdjust+ak.columnWidth){w=ak.xAdjust+ak.columnWidth}}var u=Math.abs(w-am);var G=this._get([E.columnsGapPercent,25])/100;if(isNaN(G)<0||G>=1){G=0.25}var h=G*u;var ac=al.renderData.xoffsets;var V=-1;var R={};var U=E.skipOverlappingPoints==true;for(var ag=ac.first;ag<=ac.last;ag++){var Y=ac.data[ag];if(isNaN(Y)){continue}if(V!=-1&&Math.abs(Y-V)<(u-1+h)&&U){continue}else{V=Y}var I=this._getColumnVOffsets(A,t,al.seriesCtx,ag,L,e);var O=false;if(ad){for(var F=0;F<E.series.length;F++){if(E.series[F].summary&&ac.xvalues[ag][E.series[F].summary]){O=true}}}for(var F=0;F<al.seriesCtx.length;F++){var ak=al.seriesCtx[F];var o=ak.seriesIndex;var H=E.series[o];var B=I[F].from;var an=I[F].to;var N=I[F].xOffset;var k=(al.vertical?al.rect.x:al.rect.y)+ak.xAdjust;var ah=ak.settings;var Z=ak.itemsColors.length!=0?ak.itemsColors[ag-A.xoffsets.first]:ak.serieColors;var l=this._isSerieVisible(t,o);if(!l){continue}var Y=a.jqx._ptrnd(k+N);var T={x:Y,width:ak.columnWidth};if(I[F].funnel){T.fromWidthPercent=I[F].fromWidthPercent;T.toWidthPercent=I[F].toWidthPercent}var m=true;if(al.vertical){T.y=B;T.height=an-B;if(T.height<0){T.y+=T.height;T.height=-T.height;m=false}}else{T.x=B<an?B:an;T.width=Math.abs(B-an);m=B-an<0;T.y=Y;T.height=ak.columnWidth}var p=B-an;if(isNaN(p)){continue}p=Math.abs(p);var K=undefined;var d=s._getRenderInfo(t,o,ag);var z=d.element;var S=d.labelElement;var Q=z==undefined;if(S){s.renderer.removeElement(S);S=undefined}if(!f){if(I[F].funnel){var ab=this._getTrapezoidPath(a.extend({},T),al.vertical,m);if(Q){z=this.renderer.path(ab,{})}else{this.renderer.attr(z,{d:ab})}}else{if(Q){z=this.renderer.rect(T.x,T.y,al.vertical?T.width:0,al.vertical?0:T.height)}else{if(al.vertical==true){this.renderer.attr(z,{x:T.x,y:T.y,height:p})}else{this.renderer.attr(z,{x:T.x,y:T.y,width:p})}}}}else{var n={element:z};K=this._columnAsPieSlice(n,al.rect,f,T);z=n.element;var Z=this._getColors(t,o,undefined,"radialGradient",K.outerRadius)}if(p<1&&(e!=1||f)){this.renderer.attr(z,{display:"none"})}else{this.renderer.attr(z,{display:"block"})}if(Q){this.renderer.attr(z,{fill:Z.fillColor,"fill-opacity":ah.opacity,"stroke-opacity":ah.opacity,stroke:Z.lineColor,"stroke-width":ah.stroke,"stroke-dasharray":ah.dashStyle})}if(S){this.renderer.removeElement(S)}if(!l||(p==0&&e<1)){d={element:z,labelElement:S};s._setRenderInfo(t,o,ag,d);continue}if(ad&&this._get([H.showWaterfallLines,E.showWaterfallLines])!=false){if(!L||(L&&F==C)){var af=L?-1:F;if(e==1&&!isNaN(A.offsets[F][ag].from)&&!isNaN(A.offsets[F][ag].to)){var P=R[af];if(P!=undefined){var aj={x:P.x,y:a.jqx._ptrnd(P.y)};var ai={x:Y,y:aj.y};var W=E.columnsTopWidthPercent/100;if(isNaN(W)){W=1}else{if(W>1||W<0){W=1}}var aa=E.columnsBottomWidthPercent/100;if(isNaN(aa)){aa=1}else{if(aa>1||aa<0){aa=1}}var q=al.vertical?T.width:T.height;aj.x=aj.x-q/2+q/2*W;if(O){var c=q*W/2;ai.x=ai.x+q/2-(J.flip?-c:c)}else{var c=q*aa/2;ai.x=ai.x+q/2-(J.flip?-c:c)}if(!al.vertical){this._swapXY([aj]);this._swapXY([ai])}this.renderer.line(aj.x,aj.y,ai.x,ai.y,{stroke:P.color,"stroke-width":ah.stroke,"stroke-opacity":ah.opacity,"fill-opacity":ah.opacity,"stroke-dasharray":ah.dashStyle})}}}if(e==1&&p!=0){R[L?-1:F]={y:an,x:(al.vertical?T.x+T.width:T.y+T.height),color:Z.lineColor}}}if(f){var X=this._toPolarCoord(f,al.rect,T.x+T.width/2,T.y);var q=this._showLabel(t,o,ag,T,undefined,undefined,true);var M=K.outerRadius+10;labelOffset=this._adjustTextBoxPosition(f.x,f.y,q,M,(K.fromAngle+K.toAngle)/2,true,false,false);S=this._showLabel(t,o,ag,{x:labelOffset.x,y:labelOffset.y},undefined,undefined,false,false,false)}else{S=this._showLabel(t,o,ag,T,undefined,undefined,false,false,m)}d={element:z,labelElement:S};s._setRenderInfo(t,o,ag,d);if(e==1){this._installHandlers(z,"column",t,o,ag)}}}},_getTrapezoidPath:function(j,k,h){var n="";var c=j.fromWidthPercent/100;var d=j.toWidthPercent/100;if(!k){var f=j.width;j.width=j.height;j.height=f;f=j.x;j.x=j.y;j.y=f}var l=j.x+j.width/2;var m=[{x:l-j.width*(!h?c:d)/2,y:j.y+j.height},{x:l-j.width*(!h?d:c)/2,y:j.y},{x:l+j.width*(!h?d:c)/2,y:j.y},{x:l+j.width*(!h?c:d)/2,y:j.y+j.height}];if(!k){this._swapXY(m)}n+="M "+a.jqx._ptrnd(m[0].x)+","+a.jqx._ptrnd(m[0].y);for(var e=1;e<m.length;e++){n+=" L "+a.jqx._ptrnd(m[e].x)+","+a.jqx._ptrnd(m[e].y)}n+=" Z";return n},_swapXY:function(e){for(var d=0;d<e.length;d++){var c=e[d].x;e[d].x=e[d].y;e[d].y=c}},_renderCandleStickSeries:function(f,d,w){var o=this;var j=o.seriesGroups[f];if(!j.series||j.series.length==0){return}var e=j.orientation=="horizontal";var A=d;if(e){A={x:d.y,y:d.x,width:d.height,height:d.width}}var p=o._calcGroupOffsets(f,A);if(!p||p.xoffsets.length==0){return}var B=A.width;var m;if(j.polar||j.spider){m=o._getPolarAxisCoords(f,A);B=2*m.r}var i=o._alignValuesWithTicks(f);var h=o._getGroupGradientType(f);var k=[];for(var t=0;t<j.series.length;t++){k[t]=o._getColumnSerieWidthAndOffset(f,t)}for(var t=0;t<j.series.length;t++){if(!this._isSerieVisible(f,t)){continue}var z=o._getSerieSettings(f,t);var n=j.series[t];if(n.customDraw){continue}var l=a.isFunction(n.colorFunction)?undefined:o._getColors(f,t,NaN,h);var q={rect:d,inverse:e,groupIndex:f,seriesIndex:t,symbolType:n.symbolType,symbolSize:n.symbolSize,"fill-opacity":z.opacity,"stroke-opacity":z.opacity,"stroke-width":z.stroke,"stroke-dasharray":z.dashStyle,gradientType:h,colors:l,renderData:p,polarAxisCoords:m,columnsInfo:k,isOHLC:w,items:[],self:o};var u=o._getAnimProps(f,t);var c=u.enabled&&!o._isToggleRefresh&&p.xoffsets.length<5000?u.duration:0;o._animCandleStick(q,0);var v;o._enqueueAnimation("series",undefined,undefined,c,function(D,s,C){o._animCandleStick(s,C)},q)}},_animCandleStick:function(w,c){var t=["Open","Low","Close","High"];var f=w.columnsInfo[w.seriesIndex].width;var k=w.self.seriesGroups[w.groupIndex];var A=w.renderData.xoffsets;var H=-1;var p=Math.abs(A.data[A.last]-A.data[A.first]);p*=c;var d=NaN,u=NaN;for(var C=0;C<w.columnsInfo.length;C++){var B=w.columnsInfo[C];if(isNaN(d)||d>B.offset){d=B.offset}if(isNaN(u)||u<B.offset+B.width){u=B.offset+B.width}}var o=Math.abs(u-d);var E=k.skipOverlappingPoints!=false;for(var D=A.first;D<=A.last;D++){var n=A.data[D];if(isNaN(n)){continue}if(H!=-1&&Math.abs(n-H)<o&&E){continue}var F=Math.abs(A.data[D]-A.data[A.first]);if(F>p){break}H=n;var G=w.items[D]=w.items[D]||{};for(var C in t){var I=w.self._getDataValueAsNumber(D,k.series[w.seriesIndex]["dataField"+t[C]],w.groupIndex);if(isNaN(I)){break}var m=w.renderData.offsets[w.seriesIndex][D][t[C]];if(isNaN(m)){break}G[t[C]]=m}n+=w.inverse?w.rect.y:w.rect.x;if(w.polarAxisCoords){var v=this._toPolarCoord(w.polarAxisCoords,this._plotRect,n,m);n=v.x;m=v.y}n=a.jqx._ptrnd(n);for(var h in t){G[h]=a.jqx._ptrnd(G[h])}var l=w.colors;if(!l){l=w.self._getColors(w.groupIndex,w.seriesIndex,D,w.gradientType)}if(!w.isOHLC){var z=G.lineElement;if(!z){z=w.inverse?this.renderer.line(G.Low,n,G.High,n):this.renderer.line(n,G.Low,n,G.High);this.renderer.attr(z,{fill:l.fillColor,"fill-opacity":w["fill-opacity"],"stroke-opacity":w["fill-opacity"],stroke:l.lineColor,"stroke-width":w["stroke-width"],"stroke-dasharray":w["stroke-dasharray"]});G.lineElement=z}var s=G.stickElement;n-=f/2;if(!s){var e=l.fillColor;if(G.Close<=G.Open&&l.fillColorAlt){e=l.fillColorAlt}s=w.inverse?this.renderer.rect(Math.min(G.Open,G.Close),n,Math.abs(G.Close-G.Open),f):this.renderer.rect(n,Math.min(G.Open,G.Close),f,Math.abs(G.Close-G.Open));this.renderer.attr(s,{fill:e,"fill-opacity":w["fill-opacity"],"stroke-opacity":w["fill-opacity"],stroke:l.lineColor,"stroke-width":w["stroke-width"],"stroke-dasharray":w["stroke-dasharray"]});G.stickElement=s}if(c==1){this._installHandlers(s,"column",w.groupIndex,w.seriesIndex,D)}}else{var q="M"+n+","+G.Low+" L"+n+","+G.High+" M"+(n-f/2)+","+G.Open+" L"+n+","+G.Open+" M"+(n+f/2)+","+G.Close+" L"+n+","+G.Close;if(w.inverse){q="M"+G.Low+","+n+" L"+G.High+","+n+" M"+G.Open+","+(n-f/2)+" L"+G.Open+","+n+" M"+G.Close+","+n+" L"+G.Close+","+(n+f/2)}var z=G.lineElement;if(!z){z=this.renderer.path(q,{});this.renderer.attr(z,{fill:l.fillColor,"fill-opacity":w["fill-opacity"],"stroke-opacity":w["fill-opacity"],stroke:l.lineColor,"stroke-width":w["stroke-width"],"stroke-dasharray":w["stroke-dasharray"]});G.lineElement=z}if(c==1){this._installHandlers(z,"column",w.groupIndex,w.seriesIndex,D)}}}},_renderScatterSeries:function(f,F,H){var w=this.seriesGroups[f];if(!w.series||w.series.length==0){return}var h=w.type.indexOf("bubble")!=-1;var z=w.orientation=="horizontal";var o=F;if(z){o={x:F.y,y:F.x,width:F.height,height:F.width}}var p=this._calcGroupOffsets(f,o);if(!p||p.xoffsets.length==0){return}var P=o.width;var d;if(w.polar||w.spider){d=this._getPolarAxisCoords(f,o);P=2*d.r}var X=this._alignValuesWithTicks(f);var v=this._getGroupGradientType(f);if(!H){H="to"}for(var j=0;j<w.series.length;j++){var V=this._getSerieSettings(f,j);var M=w.series[j];if(M.customDraw){continue}var C=M.dataField;var n=a.isFunction(M.colorFunction);var N=this._getColors(f,j,NaN,v);var W=NaN,B=NaN;if(h){for(var U=p.xoffsets.first;U<=p.xoffsets.last;U++){var E=this._getDataValueAsNumber(U,(M.radiusDataField||M.sizeDataField),f);if(typeof(E)!="number"){throw"Invalid radiusDataField value at ["+U+"]"}if(!isNaN(E)){if(isNaN(W)||E<W){W=E}if(isNaN(B)||E>B){B=E}}}}var l=M.minRadius||M.minSymbolSize;if(isNaN(l)){l=P/50}var G=M.maxRadius||M.maxSymbolSize;if(isNaN(G)){G=P/25}if(l>G){G=l}var O=M.radius;if(isNaN(O)&&!isNaN(M.symbolSize)){O=(M.symbolType=="circle")?M.symbolSize/2:M.symbolSize}else{O=5}var I=this._getAnimProps(f,j);var D=I.enabled&&!this._isToggleRefresh&&p.xoffsets.length<5000?I.duration:0;var A={groupIndex:f,seriesIndex:j,symbolType:M.symbolType,symbolSize:M.symbolSize,"fill-opacity":V.opacity,"stroke-opacity":V.opacity,"stroke-width":V.stroke,"stroke-width-symbol":V.strokeSymbol,"stroke-dasharray":V.dashStyle,items:[],polarAxisCoords:d};var q=undefined;for(var U=p.xoffsets.first;U<=p.xoffsets.last;U++){var E=this._getDataValueAsNumber(U,C,f);if(typeof(E)!="number"){continue}var L=p.xoffsets.data[U];var J=p.xoffsets.xvalues[U];var K=p.offsets[j][U][H];if(K<o.y||K>o.y+o.height){continue}if(isNaN(L)||isNaN(K)){continue}if(z){var S=L;L=K;K=S+F.y}else{L+=F.x}if(!n&&q&&this.enableSampling&&a.jqx._ptdist(q.x,q.y,L,K)<1){continue}q={x:L,y:K};var Q=O;if(h){var t=this._getDataValueAsNumber(U,(M.radiusDataField||M.sizeDataField),f);if(typeof(t)!="number"){continue}Q=l+(G-l)*(t-W)/Math.max(1,B-W);if(isNaN(Q)){Q=l}}p.offsets[j][U].radius=Q;var m=NaN,R=NaN;var u=0;var c=this._elementRenderInfo;if(J!=undefined&&c&&c.length>f&&c[f].series.length>j){var e=c[f].series[j][J];if(e&&!isNaN(e.to)){m=e.to;R=e.xoffset;u=O;if(z){var S=R;R=m;m=S+F.y}else{R+=F.x}if(h){u=l+(G-l)*(e.valueRadius-W)/Math.max(1,B-W);if(isNaN(u)){u=l}}}}if(n){N=this._getColors(f,j,U,v)}A.items.push({from:u,to:Q,itemIndex:U,fill:N.fillColor,stroke:N.lineColor,x:L,y:K,xFrom:R,yFrom:m})}this._animR(A,0);var k=this;var T;this._enqueueAnimation("series",undefined,undefined,D,function(Y,i,s){k._animR(i,s)},A)}},_animR:function(q,j){var l=q.items;var s=q.symbolType||"circle";var d=q.symbolSize;for(var f=0;f<l.length;f++){var p=l[f];var n=p.x;var m=p.y;var c=Math.round((p.to-p.from)*j+p.from);if(!isNaN(p.yFrom)){m=p.yFrom+(m-p.yFrom)*j}if(!isNaN(p.xFrom)){n=p.xFrom+(n-p.xFrom)*j}if(q.polarAxisCoords){var o=this._toPolarCoord(q.polarAxisCoords,this._plotRect,n,m);n=o.x;m=o.y}n=a.jqx._ptrnd(n);m=a.jqx._ptrnd(m);c=a.jqx._ptrnd(c);var h=this._getRenderInfo(q.groupIndex,q.seriesIndex,l[f].itemIndex);var e=h.element;var k=h.labelElement;if(s=="circle"){if(!e){e=this.renderer.circle(n,m,c);this.renderer.attr(e,{fill:p.fill,"fill-opacity":q["fill-opacity"],"stroke-opacity":q["fill-opacity"],stroke:p.stroke,"stroke-width":q["stroke-width"],"stroke-dasharray":q["stroke-dasharray"]})}if(this._isVML){this.renderer.updateCircle(e,undefined,undefined,c)}else{this.renderer.attr(e,{r:c,cy:m,cx:n})}}else{if(e){this.renderer.removeElement(e)}e=this._drawSymbol(s,n,m,p.fill,q["fill-opacity"],p.stroke,q["stroke-opacity"]||q["fill-opacity"],q["stroke-width-symbol"],q["stroke-dasharray"],d||c)}if(k){this.renderer.removeElement(k)}k=this._showLabel(q.groupIndex,q.seriesIndex,p.itemIndex,{x:n-c,y:m-c,width:2*c,height:2*c});if(j>=1){this._installHandlers(e,"circle",q.groupIndex,q.seriesIndex,p.itemIndex)}this._setRenderInfo(q.groupIndex,q.seriesIndex,l[f].itemIndex,{element:e,labelElement:k})}},_showToolTip:function(J,H,m,f,c){var i=this;var w=i._getXAxis(m);var k=i._getValueAxis(m);if(i._ttEl&&m==i._ttEl.gidx&&f==i._ttEl.sidx&&c==i._ttEl.iidx){return}var s=i.seriesGroups[m];var h=s.series[f];var F=i.enableCrosshairs;if(i._pointMarker){J=parseInt(i._pointMarker.x+5);H=parseInt(i._pointMarker.y-5)}else{F=false}var T=F&&i.showToolTips==false;J=a.jqx._ptrnd(J);H=a.jqx._ptrnd(H);var l=i._ttEl==undefined;if(s.showToolTips==false||h.showToolTips==false){return}var z=i._get([h.toolTipFormatSettings,s.toolTipFormatSettings,k.toolTipFormatSettings,i.toolTipFormatSettings]);var E=i._get([h.toolTipFormatFunction,s.toolTipFormatFunction,k.toolTipFormatFunction,i.toolTipFormatFunction]);var N=i._getColors(m,f,c);var e=i._getDataValue(c,w.dataField,m);if(w.dataField==undefined||w.dataField==""){e=c}if(w.type=="date"){e=i._castAsDate(e,(z?z.dateFormat:undefined)||w.dateFormat)}var C="";if(a.isFunction(E)){var L={};var v=0;for(var j in h){if(j.indexOf("dataField")==0){L[j.substring(9,j.length).toLowerCase()]=i._getDataValue(c,h[j],m);v++}}if(v==0){L=i._getDataValue(c,undefined,m)}else{if(v==1){L=L[""]}}C=E(L,c,h,s,e,w)}else{C=i._getFormattedValue(m,f,c,z,E);var K=this._getAxisSettings(w);var O=K.toolTipFormatSettings;var R=K.toolTipFormatFunction;if(!R&&!O&&w.type=="date"){R=this._getDefaultDTFormatFn(w.baseUnit||"day")}var n=i._formatValue(e,O,R,m,f,c);if(!i._isPieGroup(m)){var M=(w.displayText||w.dataField||"");if(M.length>0){C=M+": "+n+"<br>"+C}else{C=n+"<br>"+C}}else{e=i._getDataValue(c,h.displayText||h.dataField,m);n=i._formatValue(e,O,R,m,f,c);C=n+": "+C}}if(!i._ttEl){i._ttEl={}}i._ttEl.sidx=f;i._ttEl.gidx=m;i._ttEl.iidx=c;rect=i.renderer.getRect();if(F){var I=a.jqx._ptrnd(i._pointMarker.x);var G=a.jqx._ptrnd(i._pointMarker.y);var B=i.crosshairsColor||i._defaultLineColor;if(s.polar||s.spider){var D=this._getPolarAxisCoords(m,this._plotRect);var d=a.jqx._ptdist(I,G,D.x,D.y);if(d>D.r){return}var A=Math.atan2(G-D.y,I-D.x);var o=Math.cos(A)*D.r+D.x;var U=Math.sin(A)*D.r+D.y;if(i._ttEl.vLine){i.renderer.attr(i._ttEl.vLine,{x1:D.x,y1:D.y,x2:o,y2:U})}else{i._ttEl.vLine=i.renderer.line(D.x,D.y,o,U,{stroke:B,"stroke-width":i.crosshairsLineWidth||1,"stroke-dasharray":i.crosshairsDashStyle||""})}}else{if(i._ttEl.vLine&&i._ttEl.hLine){i.renderer.attr(i._ttEl.vLine,{x1:I,x2:I});i.renderer.attr(i._ttEl.hLine,{y1:G,y2:G})}else{i._ttEl.vLine=i.renderer.line(I,i._plotRect.y,I,i._plotRect.y+i._plotRect.height,{stroke:B,"stroke-width":i.crosshairsLineWidth||1,"stroke-dasharray":i.crosshairsDashStyle||""});i._ttEl.hLine=i.renderer.line(i._plotRect.x,G,i._plotRect.x+i._plotRect.width,G,{stroke:B,"stroke-width":i.crosshairsLineWidth||1,"stroke-dasharray":i.crosshairsDashStyle||""})}}}if(!T&&i.showToolTips!=false){var P=h.toolTipClass||s.toolTipClass||this.toThemeProperty("jqx-chart-tooltip-text",null);var u=h.toolTipBackground||s.toolTipBackground||"#FFFFFF";var q=h.toolTipLineColor||s.toolTipLineColor||N.lineColor;var Q=this._get([h.toolTipOpacity,s.toolTipOpacity,1]);var p=this.getItemCoord(m,f,c);var S=0;if(i._pointMarker&&i._pointMarker.element){S=h.symbolSizeSelected;if(isNaN(S)){S=h.symbolSize}if(isNaN(S)||S>50||S<0){S=s.symbolSize}if(isNaN(S)||S>50||S<0){S=8}}i._createTooltip(p,s,C,{css:P,fill:u,stroke:q,fillOpacity:Q,symbolSize:S})}},_fitTooltip:function(d,k,l,m,f){var e={};var c=2+f/2;var h=7;if(k.x-l.width-h-c>d.x&&k.y+k.height/2-l.height/2>d.y&&k.y+k.height/2+l.height/2<d.y+d.height){e.left={arrowLocation:"right",x:k.x-l.width-h-c,y:k.y+k.height/2-l.height/2,width:l.width+h,height:l.height}}if(k.x+k.width+l.width+h+c<d.x+d.width&&k.y+k.height/2-l.height/2>d.y&&k.y+k.height/2+l.height/2<d.y+d.height){e.right={arrowLocation:"left",x:k.x+k.width+c,y:k.y+k.height/2-l.height/2,width:l.width+h,height:l.height}}if(k.y-l.height-c-h>d.y&&k.x+k.width/2-l.width/2>d.x&&k.x+k.width/2+l.width/2<d.x+d.width){e.top={arrowLocation:"bottom",x:k.x+k.width/2-l.width/2,y:k.y-l.height-c-h,width:l.width,height:l.height+h}}if(k.y+k.height+l.height+h+c<d.y+d.height&&k.x+k.width/2-l.width/2>d.x&&k.x+k.width/2+l.width/2<d.x+d.width){e.bottom={arrowLocation:"top",x:k.x+k.width/2-l.width/2,y:k.y+k.height+c,width:l.width,height:l.height+h}}if(k.width>k.height||((m.type.indexOf("stackedcolumn")!=-1||m.type.indexOf("stackedwaterfall")!=-1)&&m.orientation!="horizontal")){if(e.left){return e.left}if(e.right){return e.right}}else{if(e.top){return e.top}if(e.bottom){return e.bottom}}for(var j in e){if(e[j]){return e[j]}}return{arrowLocation:""}},_createTooltip:function(F,l,z,A){var s=this;var w=l.type;var D=false;var E=s._ttEl.box;if(!E){D=true;E=s._ttEl.box=document.createElement("div");var f=10000000;E.style.position="absolute";E.style.cursor="default";a(c).css({"z-index":f,"box-sizing":"content-box"});a(document.body).append(E);var c=document.createElement("div");c.id="arrowOuterDiv";c.style.width="0px";c.style.height="0px";c.style.position="absolute";a(c).css({"z-index":f+1,"box-sizing":"content-box"});var i=document.createElement("div");i.id="arrowInnerDiv";i.style.width="0px";i.style.height="0px";i.style.position="absolute";var v=document.createElement("div");v.id="contentDiv";v.style.position="absolute";a(v).css({"box-sizing":"content-box"});a(v).addClass("jqx-rc-all jqx-button");a(v).appendTo(a(E));a(c).appendTo(a(E));a(i).appendTo(a(E));a(i).css({"z-index":f+2,"box-sizing":"content-box"})}if(!z||z.length==0){a(E).fadeTo(0,0);return}v=a(E).find("#contentDiv")[0];c=a(E).find("#arrowOuterDiv")[0];i=a(E).find("#arrowInnerDiv")[0];i.style.opacity=c.style.opacity=A.fillOpacity;v.style.backgroundColor=A.fill;v.style.borderColor=A.stroke;v.style.opacity=A.fillOpacity;var n="<span class='"+A.css+"'>"+z+"</span>";a(v).html(n);var q=this._measureHtml(n,"jqx-rc-all jqx-button");rect=s._plotRect;if(q.width>rect.width||q.height>rect.height){return}var p={width:q.width,height:q.height};arrowLocation="";var C=5;var t=7;var u=s._isColumnType(w);x=Math.max(F.x,rect.x);y=Math.max(F.y,rect.y);if(s.toolTipAlignment=="dataPoint"){if(w.indexOf("pie")!=-1||w.indexOf("donut")!=-1){var m=(F.fromAngle+F.toAngle)/2;m=m*(Math.PI/180);var h=(!isNaN(F.innerRadius)&&F.innerRadius>0)?(F.innerRadius+F.outerRadius)/2:F.outerRadius*0.75;x=F.x=F.center.x+Math.cos(m)*h;y=F.y=F.center.y-Math.sin(m)*h;F.width=F.height=1}else{if(u&&(l.polar||l.spider)){F.width=F.height=1}}var B=this._fitTooltip(this._plotRect,F,p,l,A.symbolSize);if(B.arrowLocation!=""){arrowLocation=B.arrowLocation;x=B.x;y=B.y;p.width=B.width;p.height=B.height}}else{arrowLocation=""}if(arrowLocation=="top"||arrowLocation=="bottom"){p.height+=t;x-=t/2;if(arrowLocation=="bottom"){y-=t}}else{if(arrowLocation=="left"||arrowLocation=="right"){p.width+=t;y-=t/2;if(arrowLocation=="right"){x-=t}}}if(x+p.width>rect.x+rect.width){arrowLocation="";x=rect.x+rect.width-p.width}if(y+p.height>rect.y+rect.height){arrowLocation="";y=rect.y+rect.height-p.height}var j={x:0,y:0},e={x:0,y:0};a(v).css({width:q.width,height:q.height,left:0,top:0});c.style["margin-top"]=c.style["margin-left"]=0;i.style["margin-top"]=i.style["margin-left"]=0;v.style["margin-top"]=v.style["margin-left"]=0;var k=t+"px solid";var d=t+"px solid transparent";switch(arrowLocation){case"left":j={x:0,y:(q.height-t)/2};contentPostion={x:t,y:0};v.style["margin-left"]=t+"px";c.style["margin-left"]=0+"px";c.style["margin-top"]=j.y+"px";c.style["border-left"]="";c.style["border-right"]=k+" "+A.stroke;c.style["border-top"]=d;c.style["border-bottom"]=d;i.style["margin-left"]=1+"px";i.style["margin-top"]=j.y+"px";i.style["border-left"]="";i.style["border-right"]=k+" "+A.fill;i.style["border-top"]=d;i.style["border-bottom"]=d;break;case"right":j={x:p.width-t,y:(q.height-t)/2};contentPostion={x:0,y:0};c.style["margin-left"]=j.x+"px";c.style["margin-top"]=j.y+"px";c.style["border-left"]=k+" "+A.stroke;c.style["border-right"]="";c.style["border-top"]=d;c.style["border-bottom"]=d;i.style["margin-left"]=j.x-1+"px";i.style["margin-top"]=j.y+"px";i.style["border-left"]=k+" "+A.fill;i.style["border-right"]="";i.style["border-top"]=d;i.style["border-bottom"]=d;break;case"top":j={x:p.width/2-t/2,y:0};contentPostion={x:0,y:t};v.style["margin-top"]=contentPostion.y+"px";c.style["margin-left"]=j.x+"px";c.style["border-top"]="";c.style["border-bottom"]=k+" "+A.stroke;c.style["border-left"]=d;c.style["border-right"]=d;i.style["margin-left"]=j.x+"px";i.style["margin-top"]=1+"px";i.style["border-top"]="";i.style["border-bottom"]=k+" "+A.fill;i.style["border-left"]=d;i.style["border-right"]=d;break;case"bottom":j={x:p.width/2-t/2,y:p.height-t};contentPostion={x:0,y:0};c.style["margin-left"]=j.x+"px";c.style["margin-top"]=j.y+"px";c.style["border-top"]=k+" "+A.stroke;c.style["border-bottom"]="";c.style["border-left"]=d;c.style["border-right"]=d;i.style["margin-left"]=j.x+"px";i.style["margin-top"]=j.y-1+"px";i.style["border-top"]=k+" "+A.fill;i.style["border-bottom"]="";i.style["border-left"]=d;i.style["border-right"]=d;break}if(arrowLocation==""){a(c).hide();a(i).hide()}else{a(c).show();a(i).show()}a(E).css({width:p.width+"px",height:p.height+"px"});var o=s.host.coord();if(D){a(E).fadeOut(0,0);E.style.left=x+o.left+"px";E.style.top=y+o.top+"px"}a(E).clearQueue();a(E).animate({left:x+o.left,top:y+o.top,opacity:1},s.toolTipMoveDuration,"easeInOutCirc");a(E).fadeTo(400,1)},_measureHtml:function(d,c){var f=this._measureDiv;if(!f){this._measureDiv=f=document.createElement("div");f.style.position="absolute";f.style.cursor="default";f.style.overflow="hidden";f.style.display="none";a(f).addClass(c);this.host.append(f)}a(f).html(d);var e={width:a(f).width()+2,height:a(f).height()+2};if(a.jqx.browser&&a.jqx.browser.mozilla){e.height+=3}return e},_hideToolTip:function(c){if(!this._ttEl){return}if(this._ttEl.box){if(c==0){a(this._ttEl.box).hide()}else{a(this._ttEl.box).fadeOut()}}this._hideCrosshairs();this._ttEl.gidx=undefined},_hideCrosshairs:function(){if(!this._ttEl){return}if(this._ttEl.vLine){this.renderer.removeElement(this._ttEl.vLine);this._ttEl.vLine=undefined}if(this._ttEl.hLine){this.renderer.removeElement(this._ttEl.hLine);this._ttEl.hLine=undefined}},_get:function(c){return a.jqx.getByPriority(c)},_getAxisSettings:function(h){if(!h){return{}}var n=this;var m=h.gridLines||{};var p={visible:this._get([m.visible,h.showGridLines,true]),color:n._get([m.color,h.gridLinesColor,n._defaultLineColor]),unitInterval:n._get([m.unitInterval,m.interval,h.gridLinesInterval]),step:n._get([m.step,h.gridLinesStep]),dashStyle:n._get([m.dashStyle,h.gridLinesDashStyle]),width:n._get([m.lineWidth,1]),offsets:[],alternatingBackgroundColor:h.alternatingBackgroundColor,alternatingBackgroundColor2:h.alternatingBackgroundColor2,alternatingBackgroundOpacity:h.alternatingBackgroundOpacity};var e=h.tickMarks||{};var j={visible:this._get([e.visible,h.showTickMarks,true]),color:n._get([e.color,h.tickMarksColor,n._defaultLineColor]),unitInterval:n._get([e.unitInterval,e.interval,h.tickMarksInterval]),step:n._get([e.step,h.tickMarksStep]),dashStyle:n._get([e.dashStyle,h.tickMarksDashStyle]),width:n._get([e.lineWidth,1]),size:n._get([e.size,4]),offsets:[]};var f=h.title||{};var d={visible:n._get([f.visible,true]),text:n._get([h.description,f.text]),style:n._get([h.descriptionClass,f["class"],n.toThemeProperty("jqx-chart-axis-description",null)]),halign:n._get([h.horizontalDescriptionAlignment,f.horizontalAlignment,"center"]),valign:n._get([h.verticalDescriptionAlignment,f.verticalAlignment,"center"]),angle:0,rotationPoint:n._get([f.rotationPoint,"centercenter"]),offset:n._get([f.offset,{x:0,y:0}])};var k=h.line||{};var c={visible:n._get([k.visible,true]),color:n._get([k.color,p.color,n._defaultLineColor]),dashStyle:n._get([k.dashStyle,p.dashStyle,""]),width:n._get([k.lineWidth,1]),angle:n._get([k.angle,NaN])};var l=h.padding||{};l={left:l.left||0,right:l.right||0,top:l.top||0,bottom:l.bottom||0};var i=this._getAxisLabelsSettings(h);var o={visible:this._get([h.visible,h.showValueAxis,h.showXAxis,h.showCategoryAxis,true]),customDraw:this._get([h.customDraw,false]),gridLines:p,tickMarks:j,line:c,title:d,labels:i,padding:l,toolTipFormatFunction:this._get([h.toolTipFormatFunction,h.formatFunction,i.formatFunction]),toolTipFormatSettings:this._get([h.toolTipFormatSettings,h.formatSettings,i.formatSettings])};return o},_getAxisLabelsSettings:function(e){var c=this;var f=e.labels||{};var d={visible:c._get([e.showLabels,f.visible,true]),unitInterval:c._get([f.unitInterval,f.interval,e.labelsInterval]),step:c._get([f.step,e.labelsStep]),angle:c._get([e.textRotationAngle,f.angle,0]),style:c._get([e["class"],f["class"],c.toThemeProperty("jqx-chart-axis-text",null)]),halign:c._get([e.horizontalTextAlignment,f.horizontalAlignment,"center"]),valign:c._get([e.verticalTextAlignment,f.verticalAlignment,"center"]),textRotationPoint:c._get([e.textRotationPoint,f.rotationPoint,"auto"]),textOffset:c._get([e.textOffset,f.offset,{x:0,y:0}]),autoRotate:c._get([e.labelsAutoRotate,f.autoRotate,false]),formatSettings:c._get([e.formatSettings,f.formatSettings,undefined]),formatFunction:c._get([e.formatFunction,f.formatFunction,undefined])};return d},_getLabelsSettings:function(q,m,j,v){var k=this.seriesGroups[q];var u=k.series[m];var n=isNaN(j)?undefined:this._getDataValue(j,u.dataField,q);var l=v||["Visible","Offset","Angle","HorizontalAlignment","VerticalAlignment","Class","BackgroundColor","BorderColor","BorderOpacity","Padding","Opacity","BackgroundOpacity","LinesAngles","LinesEnabled","AutoRotate","Radius"];var t={};for(var h=0;h<l.length;h++){var o=l[h];var d="labels"+o;var c="label"+o;var p=o.substring(0,1).toLowerCase()+o.substring(1);var e=undefined;if(k.labels&&typeof(k.labels)=="object"){e=k.labels[p]}if(u.labels&&typeof(u.labels)=="object"&&undefined!=u.labels[p]){e=u.labels[p]}e=this._get([u[d],u[c],e,k[d],k[c]]);if(a.isFunction(e)){t[p]=e(n,j,u,k)}else{t[p]=e}}t["class"]=t["class"]||this.toThemeProperty("jqx-chart-label-text",null);t.visible=this._get([t.visible,u.showLabels,k.showLabels,u.labels!=undefined?true:undefined,k.labels!=undefined?true:undefined]);var f=t.padding||1;t.padding={left:this._get([f.left,isNaN(f)?1:f]),right:this._get([f.right,isNaN(f)?1:f]),top:this._get([f.top,isNaN(f)?1:f]),bottom:this._get([f.bottom,isNaN(f)?1:f])};return t},_showLabel:function(M,H,i,c,z,k,f,m,d,I,E){var o=this.seriesGroups[M];var u=o.series[H];var F={width:0,height:0},t;if(isNaN(i)){return}var L=this._getLabelsSettings(M,H,i);if(!L.visible){return f?F:undefined}if(c.width<0||c.height<0){return f?F:undefined}var j=L.angle;if(!isNaN(I)){j=I}var l=L.offset||{};var J={x:l.x,y:l.y};if(isNaN(J.x)){J.x=0}if(isNaN(J.y)){J.y=0}z=z||L.horizontalAlignment||"center";k=k||L.verticalAlignment||"center";var B=this._getFormattedValue(M,H,i,undefined,undefined,true);var v=c.width;var K=c.height;if(m==true&&z!="center"){z=z=="right"?"left":"right"}if(d==true&&k!="center"&&k!="middle"){k=k=="top"?"bottom":"top";J.y*=-1}F=this.renderer.measureText(B,j,{"class":L["class"]});if(f){return F}var s=0,p=0;if(v>0){if(z==""||z=="center"){s+=(v-F.width)/2}else{if(z=="right"){s+=(v-F.width)}}}if(K>0){if(k==""||k=="center"){p+=(K-F.height)/2}else{if(k=="bottom"){p+=(K-F.height)}}}s+=c.x+J.x;p+=c.y+J.y;var q=this._plotRect;if(s<=q.x){s=q.x+2}if(p<=q.y){p=q.y+2}var n={width:Math.max(F.width,1),height:Math.max(F.height,1)};if(p+n.height>=q.y+q.height){p=q.y+q.height-(t?(n.height+t.height)/2:n.height)-2}if(s+n.width>=q.x+q.width){s=q.x+q.width-n.width-2}var e;var D=L.backgroundColor;var G=L.borderColor;var C=L.padding;if(D||G){e=this.renderer.beginGroup();var c=this.renderer.rect(s-C.left,p-C.top,F.width+C.left+C.right,F.height+C.bottom+C.bottom,{fill:D||"transparent","fill-opacity":L.backgroundOpacity||1,stroke:G||"transparent","stroke-opacity":L.borderOpacity,"stroke-width":1})}var A=this.renderer.text(B,s,p,F.width,F.height,j,{"class":L["class"],opacity:L.opacity||1},false,"center","center");if(E){E.x=s-C.left;E.y=p-C.top;E.width=F.width+C.left+C.right;E.height=F.height+C.bottom+C.bottom}if(this._isVML){this.renderer.removeElement(A);this.renderer.getContainer()[0].appendChild(A)}if(e){this.renderer.endGroup()}return e||A},_getAnimProps:function(k,h){var f=this.seriesGroups[k];var d=!isNaN(h)?f.series[h]:undefined;var c=this.enableAnimations==true;if(f.enableAnimations){c=f.enableAnimations==true}if(d&&d.enableAnimations){c=d.enableAnimations==true}var j=this.animationDuration;if(isNaN(j)){j=1000}var e=f.animationDuration;if(!isNaN(e)){j=e}if(d){var i=d.animationDuration;if(!isNaN(i)){j=i}}if(j>5000){j=1000}return{enabled:c,duration:j}},_isColorTransition:function(h,e,f,i){if(i-1<f.xoffsets.first){return false}var c=this._getColors(h,e,i,this._getGroupGradientType(h));var d=this._getColors(h,e,i-1,this._getGroupGradientType(h));return(c.fillColor!=d.fillColor)},_renderLineSeries:function(m,U){var L=this.seriesGroups[m];if(!L.series||L.series.length==0){return}var v=L.type.indexOf("area")!=-1;var O=L.type.indexOf("stacked")!=-1;var f=O&&L.type.indexOf("100")!=-1;var ai=L.type.indexOf("spline")!=-1;var w=L.type.indexOf("step")!=-1;var S=L.type.indexOf("range")!=-1;var aj=L.polar==true||L.spider==true;if(aj){w=false}if(w&&ai){return}var D=this._getDataLen(m);var ag=U.width/D;var an=L.orientation=="horizontal";var F=this._getXAxis(m).flip==true;var C=U;if(an){C={x:U.y,y:U.x,width:U.height,height:U.width}}var G=this._calcGroupOffsets(m,C);if(!G||G.xoffsets.length==0){return}if(!this._linesRenderInfo){this._linesRenderInfo={}}this._linesRenderInfo[m]={};for(var p=L.series.length-1;p>=0;p--){var j=this._getSerieSettings(m,p);var al={groupIndex:m,rect:C,serieIndex:p,swapXY:an,isArea:v,isSpline:ai,isRange:S,isPolar:aj,settings:j,segments:[],pointsLength:0};var l=this._isSerieVisible(m,p);if(!l){this._linesRenderInfo[m][p]=al;continue}var N=L.series[p];if(N.customDraw){continue}var B=a.isFunction(N.colorFunction);var Y=G.xoffsets.first;var K=Y;var R=this._getColors(m,p,NaN,this._getGroupGradientType(m));var af=false;var z;do{var aa=[];var X=[];var u=[];var T=-1;var s=0,q=0;var V=NaN;var I=NaN;var am=NaN;if(G.xoffsets.length<1){continue}var W=this._getAnimProps(m,p);var P=W.enabled&&!this._isToggleRefresh&&G.xoffsets.length<10000&&this._isVML!=true?W.duration:0;var A=Y;z=false;var e=this._getColors(m,p,Y,this._getGroupGradientType(m));var H=undefined;for(var ah=Y;ah<=G.xoffsets.last;ah++){Y=ah;var ab=G.xoffsets.data[ah];var Z=G.xoffsets.xvalues[ah];if(isNaN(ab)){continue}ab=Math.max(ab,1);s=ab;q=G.offsets[p][ah].to;if(!B&&H&&this.enableSampling&&a.jqx._ptdist(H.x,H.y,s,q)<1){continue}H={x:s,y:q};var ae=G.offsets[p][ah].from;if(isNaN(q)||isNaN(ae)){if(N.emptyPointsDisplay=="connect"){continue}else{if(N.emptyPointsDisplay=="zero"){if(isNaN(q)){q=G.baseOffset}if(isNaN(ae)){ae=G.baseOffset}}else{z=true;break}}}if(B&&this._isColorTransition(m,p,G,Y)){if(aa.length>1){Y--;break}}var d=this._elementRenderInfo;if(d&&d.length>m&&d[m].series.length>p){var h=d[m].series[p][Z];var am=a.jqx._ptrnd(h?h.to:undefined);var M=a.jqx._ptrnd(C.x+(h?h.xoffset:undefined));u.push(an?{y:M,x:am,index:ah}:{x:M,y:am,index:ah})}K=ah;if(j.stroke<2){if(q-C.y<=1){q=C.y+1}if(ae-C.y<=1){ae=C.y+1}if(C.y+C.height-q<=1){q=C.y+C.height-1}if(C.y+C.height-ae<=1){ae=C.y+C.height-1}}if(!v&&f){if(q<=C.y){q=C.y+1}if(q>=C.y+C.height){q=C.y+C.height-1}if(ae<=C.y){ae=C.y+1}if(ae>=C.y+C.height){ae=C.y+C.height-1}}ab=Math.max(ab,1);s=ab+C.x;if(L.skipOverlappingPoints==true&&!isNaN(V)&&Math.abs(V-s)<=1){continue}if(w&&!isNaN(V)&&!isNaN(I)){if(I!=q){aa.push(an?{y:s,x:a.jqx._ptrnd(I)}:{x:s,y:a.jqx._ptrnd(I)})}}aa.push(an?{y:s,x:a.jqx._ptrnd(q),index:ah}:{x:s,y:a.jqx._ptrnd(q),index:ah});X.push(an?{y:s,x:a.jqx._ptrnd(ae),index:ah}:{x:s,y:a.jqx._ptrnd(ae),index:ah});V=s;I=q;if(isNaN(am)){am=q}}if(aa.length==0){Y++;continue}var J=aa[aa.length-1].index;if(B){R=this._getColors(m,p,J,this._getGroupGradientType(m))}var n=C.x+G.xoffsets.data[A];var ad=C.x+G.xoffsets.data[K];if(v&&L.alignEndPointsWithIntervals==true){var E=F?-1:1;if(n>C.x){n=C.x}if(ad<C.x+C.width){ad=C.x+C.width}if(F){var ac=n;n=ad;ad=ac}}ad=a.jqx._ptrnd(ad);n=a.jqx._ptrnd(n);var o=G.baseOffset;am=a.jqx._ptrnd(am);var k=a.jqx._ptrnd(q)||o;if(S){aa=aa.concat(X.reverse())}al.pointsLength+=aa.length;var c={lastItemIndex:J,colorSettings:R,pointsArray:aa,pointsStart:u,left:n,right:ad,pyStart:am,pyEnd:k,yBase:o,labelElements:[],symbolElements:[]};al.segments.push(c)}while(Y<G.xoffsets.length-1||z);this._linesRenderInfo[m][p]=al}var Q=this._linesRenderInfo[m];var ak=[];for(var ah in Q){ak.push(Q[ah])}ak=ak.sort(function(ao,i){return ao.serieIndex-i.serieIndex});if(v&&O){ak.reverse()}for(var ah=0;ah<ak.length;ah++){var al=ak[ah];this._animateLine(al,P==0?1:0);var t=this;this._enqueueAnimation("series",undefined,undefined,P,function(ao,i,ap){t._animateLine(i,ap)},al)}},_animateLine:function(B,c){var F=B.settings;var h=B.groupIndex;var j=B.serieIndex;var l=this.seriesGroups[h];var v=l.series[j];var A=this._getSymbol(h,j);var s=this._getLabelsSettings(h,j,NaN,["Visible"]).visible;var q=true;if(B.isPolar){if(!isNaN(l.endAngle)&&Math.round(Math.abs((isNaN(l.startAngle)?0:l.startAngle)-l.endAngle))!=360){q=false}}var t=0;for(var e=0;e<B.segments.length;e++){var z=B.segments[e];var C=this._calculateLine(h,B.pointsLength,t,z.pointsArray,z.pointsStart,z.yBase,c,B.isArea,B.swapXY);t+=z.pointsArray.length;if(C==""){continue}var u=C.split(" ");var D=u.length;var k=C;if(k!=""){k=this._buildLineCmd(C,B.isRange,z.left,z.right,z.pyStart,z.pyEnd,z.yBase,B.isArea,B.isPolar,q,B.isSpline,B.swapXY)}else{k="M 0 0"}var n=z.colorSettings;if(!z.pathElement){z.pathElement=this.renderer.path(k,{"stroke-width":F.stroke,stroke:n.lineColor,"stroke-opacity":F.opacity,"fill-opacity":F.opacity,"stroke-dasharray":F.dashStyle,fill:B.isArea?n.fillColor:"none"});this._installHandlers(z.pathElement,"path",h,j,z.lastItemIndex)}else{this.renderer.attr(z.pathElement,{d:k})}if(z.labelElements){for(var E=0;E<z.labelElements.length;E++){this.renderer.removeElement(z.labelElements[E])}z.labelElements=[]}if(z.symbolElements){for(var E=0;E<z.symbolElements.length;E++){this.renderer.removeElement(z.symbolElements[E])}z.symbolElements=[]}if(z.pointsArray.length==u.length){if(A!="none"||s){var H=v.symbolSize;var G=this._plotRect;for(var E=0;E<u.length;E++){var w=u[E].split(",");w={x:parseFloat(w[0]),y:parseFloat(w[1])};if(w.x<G.x||w.x>G.x+G.width||w.y<G.y||w.y>G.y+G.height){continue}if(A!="none"){var p=this._getColors(h,j,z.pointsArray[E].index,this._getGroupGradientType(h));var f=this._drawSymbol(A,w.x,w.y,p.fillColorSymbol,F.opacity,p.lineColorSymbol,F.opacity,F.strokeSymbol,undefined,H);z.symbolElements.push(f)}if(s){var m=(E>0?u[E-1]:u[E]).split(",");m={x:parseFloat(m[0]),y:parseFloat(m[1])};var o=(E<u.length-1?u[E+1]:u[E]).split(",");o={x:parseFloat(o[0]),y:parseFloat(o[1])};w=this._adjustLineLabelPosition(h,j,z.pointsArray[E].index,w,m,o);if(w){var d=this._showLabel(h,j,z.pointsArray[E].index,{x:w.x,y:w.y,width:0,height:0});z.labelElements.push(d)}}}}}if(c==1&&A!="none"){for(var E=0;E<z.symbolElements.length;E++){if(isNaN(z.pointsArray[E].index)){continue}this._installHandlers(z.symbolElements[E],"symbol",h,j,z.pointsArray[E].index)}}}},_adjustLineLabelPosition:function(k,i,e,j,h,f){var c=this._showLabel(k,i,e,{width:0,height:0},"","",true);if(!c){return}var d={x:j.x-c.width/2,y:0};d.y=j.y-1.5*c.height;return d},_calculateLine:function(j,z,q,p,o,h,f,B,d){var A=this.seriesGroups[j];var n;if(A.polar==true||A.spider==true){n=this._getPolarAxisCoords(j,this._plotRect)}var u="";var v=p.length;if(!B&&o.length==0){var t=z*f;v=t-q}var k=NaN;for(var w=0;w<v+1&&w<p.length;w++){if(w>0){u+=" "}var l=p[w].y;var m=p[w].x;var c=!B?l:h;var e=m;if(o&&o.length>w){c=o[w].y;e=o[w].x;if(isNaN(c)||isNaN(e)){c=l;e=m}}k=e;if(v<=p.length&&w>0&&w==v){e=p[w-1].x;c=p[w-1].y}if(d){m=a.jqx._ptrnd((m-c)*(B?f:1)+c);l=a.jqx._ptrnd(l)}else{m=a.jqx._ptrnd((m-e)*f+e);l=a.jqx._ptrnd((l-c)*f+c)}if(n){var s=this._toPolarCoord(n,this._plotRect,m,l);m=s.x;l=s.y}u+=m+","+l}return u},_buildLineCmd:function(m,q,i,v,f,o,e,u,d,l,h,c){var s=m;var n=c?e+","+i:i+","+e;var j=c?e+","+v:v+","+e;if(u&&!d&&!q){s=n+" "+m+" "+j}if(h){s=this._getBezierPoints(s)}var p=s.split(" ");if(p.length==0){return""}if(p.length==1){var t=p[0].split(",");return"M "+p[0]+" L"+(parseFloat(t[0])+1)+","+(parseFloat(t[1])+1)}var k=p[0].replace("M","");if(u&&!d){if(!q){s="M "+n+" L "+k+" "+s}else{s="M "+k+" L "+k+(h?"":(" L "+k+" "))+s}}else{if(!h){s="M "+k+" L "+k+" "+s}}if((d&&l)||q){s+=" Z"}return s},_getSerieSettings:function(k,d){var j=this.seriesGroups[k];var i=j.type.indexOf("area")!=-1;var h=j.type.indexOf("line")!=-1;var e=j.series[d];var m=e.dashStyle||j.dashStyle||"";var f=e.opacity||j.opacity;if(isNaN(f)||f<0||f>1){f=1}var l=e.lineWidth;if(isNaN(l)&&l!="auto"){l=j.lineWidth}if(l=="auto"||isNaN(l)||l<0||l>15){if(i){l=2}else{if(h){l=3}else{l=1}}}var c=e.lineWidthSymbol;if(isNaN(c)){c=1}return{stroke:l,strokeSymbol:c,opacity:f,dashStyle:m}},_getColors:function(z,s,e,f,c){var m=this.seriesGroups[z];var q=m.series[s];var d=this._get([q.useGradientColors,m.useGradientColors,m.useGradient,true]);var n=this._getSeriesColors(z,s,e);if(!n.fillColor){n.fillColor=u;n.fillColorSelected=a.jqx.adjustColor(u,1.1);n.fillColorAlt=a.jqx.adjustColor(u,4);n.fillColorAltSelected=a.jqx.adjustColor(u,3);n.lineColor=n.symbolColor=a.jqx.adjustColor(u,0.9);n.lineColorSelected=n.symbolColorSelected=a.jqx.adjustColor(u,0.9)}var k=[[0,1.4],[100,1]];var h=[[0,1],[25,1.1],[50,1.4],[100,1]];var p=[[0,1.3],[90,1.2],[100,1]];var l=NaN;if(!isNaN(c)){l=c==2?k:h}if(d){var t={};for(var v in n){t[v]=n[v]}n=t;if(f=="verticalLinearGradient"||f=="horizontalLinearGradient"){var j=f=="verticalLinearGradient"?l||k:l||h;var o=["fillColor","fillColorSelected","fillColorAlt","fillColorAltSelected"];for(var A in o){var u=n[o[A]];if(u){n[o[A]]=this.renderer._toLinearGradient(u,f=="verticalLinearGradient",j)}}}else{if(f=="radialGradient"){var w;var l=k;if((m.type=="pie"||m.type=="donut"||m.polar)&&e!=undefined&&this._renderData[z]&&this._renderData[z].offsets[s]){w=this._renderData[z].offsets[s][e];l=p}n.fillColor=this.renderer._toRadialGradient(n.fillColor,l,w);n.fillColorSelected=this.renderer._toRadialGradient(n.fillColorSelected,l,w)}}}return n},_installHandlers:function(d,h,j,i,e){if(!this.enableEvents){return false}var k=this;var f=this.seriesGroups[j];var l=this.seriesGroups[j].series[i];var c=f.type.indexOf("line")!=-1||f.type.indexOf("area")!=-1;if(!c&&!(f.enableSelection==false||l.enableSelection==false)){this.renderer.addHandler(d,"mousemove",function(o){var n=k._selected;if(n&&n.isLineType&&n.linesUnselectMode=="click"&&!(n.group==j&&n.series==i)){return}var m=o.pageX||o.clientX||o.screenX;var q=o.pageY||o.clientY||o.screenY;var p=k.host.offset();m-=p.left;q-=p.top;if(k._mouseX==m&&k._mouseY==q){return}if(k._ttEl){if(k._ttEl.gidx==j&&k._ttEl.sidx==i&&k._ttEl.iidx==e){return}}k._startTooltipTimer(j,i,e)});this.renderer.addHandler(d,"mouseout",function(n){return;if(!isNaN(k._lastClickTs)&&(new Date()).valueOf()-k._lastClickTs<100){return}if(e!=undefined){k._cancelTooltipTimer()}if(c){return}var m=k._selected;if(m&&m.isLineType&&m.linesUnselectMode=="click"&&!(m.group==j&&m.series==i)){return}k._unselect()})}if(!(f.enableSelection==false||l.enableSelection==false)){this.renderer.addHandler(d,"mouseover",function(n){var m=k._selected;if(m&&m.isLineType&&m.linesUnselectMode=="click"&&!(m.group==j&&m.series==i)){return}k._select(d,h,j,i,e,e)})}this.renderer.addHandler(d,"click",function(m){clearTimeout(k._hostClickTimer);k._lastClickTs=(new Date()).valueOf();if(c&&(h!="symbol"&&h!="pointMarker")){return}if(k._isColumnType(f.type)){k._unselect()}if(isNaN(e)){return}m.stopImmediatePropagation();k._raiseItemEvent("click",f,l,e)})},_getHorizontalOffset:function(C,u,l,k){var d=this._plotRect;var j=this._getDataLen(C);if(j==0){return{index:undefined,value:l}}var q=this._calcGroupOffsets(C,this._plotRect);if(q.xoffsets.length==0){return{index:undefined,value:undefined}}var o=l;var n=k;var A=this.seriesGroups[C];var m;if(A.polar||A.spider){m=this._getPolarAxisCoords(C,d)}var f=this._getXAxis(C).flip==true;var c,p,z,h;for(var v=q.xoffsets.first;v<=q.xoffsets.last;v++){var w=q.xoffsets.data[v];var e=q.offsets[u][v].to;var s=0;if(m){var t=this._toPolarCoord(m,d,w+d.x,e);w=t.x;e=t.y;s=a.jqx._ptdist(o,n,w,e)}else{if(A.orientation=="horizontal"){w+=d.y;var B=e;e=w;w=B;s=a.jqx._ptdist(o,n,w,e)}else{w+=d.x;s=Math.abs(o-w)}}if(isNaN(c)||c>s){c=s;p=v;z=w;h=e}}return{index:p,value:q.xoffsets.data[p],polarAxisCoords:m,x:z,y:h}},onmousemove:function(l,k){if(this._mouseX==l&&this._mouseY==k){return}this._mouseX=l;this._mouseY=k;if(!this._selected){return}var D=this._selected.group;var t=this._selected.series;var z=this.seriesGroups[D];var o=z.series[t];var c=this._plotRect;if(this.renderer){c=this.renderer.getRect();c.x+=5;c.y+=5;c.width-=10;c.height-=10}if(l<c.x||l>c.x+c.width||k<c.y||k>c.y+c.height){this._hideToolTip();this._unselect();return}var f=z.orientation=="horizontal";var c=this._plotRect;if(z.type.indexOf("line")!=-1||z.type.indexOf("area")!=-1){var h=this._getHorizontalOffset(D,this._selected.series,l,k);var w=h.index;if(w==undefined){return}if(this._selected.item!=w){var q=this._linesRenderInfo[D][t].segments;var u=0;while(w>q[u].lastItemIndex){u++;if(u>=q.length){return}}var d=q[u].pathElement;var E=q[u].lastItemIndex;this._unselect(false);this._select(d,"path",D,t,w,E)}var n=this._getSymbol(this._selected.group,this._selected.series);if(n=="none"){n="circle"}var p=this._calcGroupOffsets(D,c);var e=p.offsets[this._selected.series][w].to;var v=e;if(z.type.indexOf("range")!=-1){v=p.offsets[this._selected.series][w].from}var m=f?l:k;if(!isNaN(v)&&Math.abs(m-v)<Math.abs(m-e)){k=v}else{k=e}if(isNaN(k)){return}l=h.value;if(f){var B=l;l=k;k=B+c.y}else{l+=c.x}if(h.polarAxisCoords){l=h.x;k=h.y}k=a.jqx._ptrnd(k);l=a.jqx._ptrnd(l);if(this._pointMarker&&this._pointMarker.element){this.renderer.removeElement(this._pointMarker.element);this._pointMarker.element=undefined}if(isNaN(l)||isNaN(k)){return}var j=this._getSeriesColors(D,t,w);var A=this._getSerieSettings(D,t);var C=o.symbolSizeSelected;if(isNaN(C)){C=o.symbolSize}if(isNaN(C)||C>50||C<0){C=z.symbolSize}if(isNaN(C)||C>50||C<0){C=8}if(this.showToolTips||this.enableCrosshairs){this._pointMarker={type:n,x:l,y:k,gidx:D,sidx:t,iidx:w};this._pointMarker.element=this._drawSymbol(n,l,k,j.fillColorSymbolSelected,A.opacity,j.lineColorSymbolSelected,A.opacity,A.strokeSymbol,A.dashStyle,C);this._installHandlers(this._pointMarker.element,"pointMarker",D,t,w)}this._startTooltipTimer(D,this._selected.series,w)}},_drawSymbol:function(k,n,l,d,o,m,h,i,c,q){var f;var j=q||6;var e=j/2;switch(k){case"none":return undefined;case"circle":f=this.renderer.circle(n,l,j/2);break;case"square":j=j-1;e=j/2;f=this.renderer.rect(n-e,l-e,j,j);break;case"diamond":var p="M "+(n-e)+","+(l)+" L"+(n)+","+(l-e)+" L"+(n+e)+","+(l)+" L"+(n)+","+(l+e)+" Z";f=this.renderer.path(p);break;case"triangle_up":case"triangle":var p="M "+(n-e)+","+(l+e)+" L "+(n+e)+","+(l+e)+" L "+(n)+","+(l-e)+" Z";f=this.renderer.path(p);break;case"triangle_down":var p="M "+(n-e)+","+(l-e)+" L "+(n)+","+(l+e)+" L "+(n+e)+","+(l-e)+" Z";f=this.renderer.path(p);break;case"triangle_left":var p="M "+(n-e)+","+(l)+" L "+(n+e)+","+(l+e)+" L "+(n+e)+","+(l-e)+" Z";f=this.renderer.path(p);break;case"triangle_right":var p="M "+(n-e)+","+(l-e)+" L "+(n-e)+","+(l+e)+" L "+(n+e)+","+(l)+" Z";f=this.renderer.path(p);break;default:f=this.renderer.circle(n,l,j)}this.renderer.attr(f,{fill:d,"fill-opacity":o,stroke:m,"stroke-width":i,"stroke-opacity":h,"stroke-dasharray":c||""});if(k!="circle"){this.renderer.attr(f,{r:j/2});if(k!="square"){this.renderer.attr(f,{x:n,y:l})}}return f},_getSymbol:function(h,c){var d=["circle","square","diamond","triangle_up","triangle_down","triangle_left","triangle_right"];var f=this.seriesGroups[h];var e=f.series[c];var i;if(e.symbolType!=undefined){i=e.symbolType}if(i==undefined){i=f.symbolType}if(i=="default"){return d[c%d.length]}else{if(i!=undefined){return i}}return"none"},_startTooltipTimer:function(l,k,e,j,i,c,h){this._cancelTooltipTimer();var m=this;var f=m.seriesGroups[l];var d=this.toolTipShowDelay||this.toolTipDelay;if(isNaN(d)||d>10000||d<0){d=500}if(this._ttEl||(true==this.enableCrosshairs&&false==this.showToolTips)){d=0}if(!isNaN(c)){d=c}clearTimeout(this._tttimerHide);if(isNaN(j)){j=m._mouseX}if(isNaN(i)){i=m._mouseY-3}if(d==0){m._showToolTip(j,i,l,k,e)}this._tttimer=setTimeout(function(){if(d!=0){m._showToolTip(j,i,l,k,e)}var n=m.toolTipHideDelay;if(!isNaN(h)){n=h}if(isNaN(n)){n=4000}m._tttimerHide=setTimeout(function(){m._hideToolTip();m._unselect()},n)},d)},_cancelTooltipTimer:function(){clearTimeout(this._tttimer)},_getGroupGradientType:function(d){var c=this.seriesGroups[d];if(c.type.indexOf("area")!=-1){return c.orientation=="horizontal"?"horizontalLinearGradient":"verticalLinearGradient"}else{if(this._isColumnType(c.type)||c.type.indexOf("candle")!=-1){if(c.polar){return"radialGradient"}return c.orientation=="horizontal"?"verticalLinearGradient":"horizontalLinearGradient"}else{if(c.type.indexOf("scatter")!=-1||c.type.indexOf("bubble")!=-1||this._isPieGroup(d)){return"radialGradient"}}}return undefined},_select:function(i,m,p,o,j,n){if(this._selected){if((this._selected.item!=j||this._selected.series!=o||this._selected.group!=p)){this._unselect()}else{return}}var l=this.seriesGroups[p];var q=l.series[o];if(l.enableSelection==false||q.enableSelection==false){return}var h=l.type.indexOf("line")!=-1&&l.type.indexOf("area")==-1;this._selected={element:i,type:m,group:p,series:o,item:j,iidxBase:n,isLineType:h,linesUnselectMode:q.linesUnselectMode||l.linesUnselectMode};var c=this._getColors(p,o,n||j,this._getGroupGradientType(p));var d=c.fillColorSelected;if(h){d="none"}var f=this._getSerieSettings(p,o);var e=(m=="symbol")?c.lineColorSymbolSelected:c.lineColorSelected;d=(m=="symbol")?c.fillColorSymbolSelected:d;var k=(m=="symbol")?1:f.stroke;if(this.renderer.getAttr(i,"fill")==c.fillColorAlt){d=c.fillColorAltSelected}this.renderer.attr(i,{stroke:e,fill:d,"stroke-width":k});if(l.type.indexOf("pie")!=-1||l.type.indexOf("donut")!=-1){this._applyPieSelect()}this._raiseItemEvent("mouseover",l,q,j)},_applyPieSelect:function(){var d=this;d._createAnimationGroup("animPieSlice");var f=this._selected;if(!f){return}var h=this.getItemCoord(f.group,f.series,f.item);if(!h){return}var e=this._getRenderInfo(f.group,f.series,f.item);var c={element:e,coord:h};this._enqueueAnimation("animPieSlice",undefined,undefined,300,function(k,i,l){var n=i.coord;var j=n.selectedRadiusChange*l;var m=d.renderer.pieSlicePath(n.center.x,n.center.y,n.innerRadius==0?0:(n.innerRadius+j),n.outerRadius+j,n.fromAngle,n.toAngle,n.centerOffset);d.renderer.attr(i.element.element,{d:m});d._showPieLabel(f.group,f.series,f.item,undefined,j)},c);d._startAnimation("animPieSlice")},_applyPieUnselect:function(){this._stopAnimations();var c=this._selected;if(!c){return}var e=this.getItemCoord(c.group,c.series,c.item);if(!e||!e.center){return}var d=this.renderer.pieSlicePath(e.center.x,e.center.y,e.innerRadius,e.outerRadius,e.fromAngle,e.toAngle,e.centerOffset);this.renderer.attr(c.element,{d:d});this._showPieLabel(c.group,c.series,c.item,undefined,0)},_unselect:function(){var p=this;if(p._selected){var o=p._selected.group;var n=p._selected.series;var h=p._selected.item;var l=p._selected.iidxBase;var k=p._selected.type;var j=p.seriesGroups[o];var q=j.series[n];var f=j.type.indexOf("line")!=-1&&j.type.indexOf("area")==-1;var c=p._getColors(o,n,l||h,p._getGroupGradientType(o));var d=c.fillColor;if(f){d="none"}var e=p._getSerieSettings(o,n);var m=(k=="symbol")?c.lineColorSymbol:c.lineColor;d=(k=="symbol")?c.fillColorSymbol:d;if(this.renderer.getAttr(p._selected.element,"fill")==c.fillColorAltSelected){d=c.fillColorAlt}var i=(k=="symbol")?1:e.stroke;p.renderer.attr(p._selected.element,{stroke:m,fill:d,"stroke-width":i});if(j.type.indexOf("pie")!=-1||j.type.indexOf("donut")!=-1){this._applyPieUnselect()}p._selected=undefined;if(!isNaN(h)){p._raiseItemEvent("mouseout",j,q,h)}}if(p._pointMarker){if(p._pointMarker.element){p.renderer.removeElement(p._pointMarker.element);p._pointMarker.element=undefined}p._pointMarker=undefined;p._hideCrosshairs()}},_raiseItemEvent:function(h,i,f,d){var e=f[h]||i[h];var j=0;for(;j<this.seriesGroups.length;j++){if(this.seriesGroups[j]==i){break}}if(j==this.seriesGroups.length){return}var c={event:h,seriesGroup:i,serie:f,elementIndex:d,elementValue:this._getDataValue(d,f.dataField,j)};if(e&&a.isFunction(e)){e(c)}this._raiseEvent(h,c)},_raiseEvent:function(e,d){var f=new a.Event(e);f.owner=this;d.event=e;f.args=d;var c=this.host.trigger(f);return c},_calcInterval:function(e,l,k){var o=Math.abs(l-e);var m=o/k;var h=[1,2,3,4,5,10,15,20,25,50,100];var c=[0.5,0.25,0.125,0.1];var d=0.1;var j=h;if(m<1){j=c;d=10}var n=0;do{n=0;if(m>=1){d*=10}else{d/=10}for(var f=1;f<j.length;f++){if(Math.abs(j[n]*d-m)>Math.abs(j[f]*d-m)){n=f}else{break}}}while(n==j.length-1);return j[n]*d},_renderDataClone:function(){if(!this._renderData||this._isToggleRefresh){return}var e=this._elementRenderInfo=[];if(this._isSelectorRefresh){return}for(var k=0;k<this._renderData.length;k++){var d=this._getXAxis(k).dataField;while(e.length<=k){e.push({})}var c=e[k];var h=this._renderData[k];if(!h.offsets){continue}if(h.valueAxis){c.valueAxis={itemOffsets:{}};for(var l in h.valueAxis.itemOffsets){c.valueAxis.itemOffsets[l]=h.valueAxis.itemOffsets[l]}}if(h.xAxis){c.xAxis={itemOffsets:{}};for(var l in h.xAxis.itemOffsets){c.xAxis.itemOffsets[l]=h.xAxis.itemOffsets[l]}}c.series=[];var j=c.series;var n=this._isPieGroup(k);for(var o=0;o<h.offsets.length;o++){j.push({});for(var f=0;f<h.offsets[o].length;f++){if(!n){j[o][h.xoffsets.xvalues[f]]={value:h.offsets[o][f].value,valueRadius:h.offsets[o][f].valueRadius,xoffset:h.xoffsets.data[f],from:h.offsets[o][f].from,to:h.offsets[o][f].to}}else{var m=h.offsets[o][f];j[o][m.displayValue]={value:m.value,x:m.x,y:m.y,fromAngle:m.fromAngle,toAngle:m.toAngle}}}}}},getPolarDataPointOffset:function(e,d,h){var f=this._renderData[h];if(!f){return{x:NaN,y:NaN}}var j=this.getValueAxisDataPointOffset(d,h);var c=this.getXAxisDataPointOffset(e,h);var i=this._toPolarCoord(f.polarCoords,f.xAxis.rect,c,j);return{x:i.x,y:i.y}},_getDataPointOffsetDiff:function(l,k,c,h,i,e,j){var f=this._getDataPointOffset(l,c,h,i,e,j);var d=this._getDataPointOffset(k,c,h,i,e,j);return Math.abs(f-d)},_getXAxisRenderData:function(e){if(e>=this._renderData.length){return}var f=this.seriesGroups[e];var d=this._renderData[e].xAxis;if(!d){return}if(f.xAxis==undefined){for(var c=0;c<=e;c++){if(this.seriesGroups[c].xAxis==undefined){break}}d=this._renderData[c].xAxis}return d},getXAxisDataPointOffset:function(l,n){var m=this.seriesGroups[n];if(isNaN(l)){return NaN}renderData=this._getXAxisRenderData(n);if(!renderData){return NaN}var h=renderData.data.axisStats;var k=h.min.valueOf();var c=h.max.valueOf();var i=c-k;if(i==0){i=1}if(l.valueOf()>c||l.valueOf()<k){return NaN}var d=this._getXAxis(n);var e=m.orientation=="horizontal"?"height":"width";var p=m.orientation=="horizontal"?"y":"x";var j=(l.valueOf()-k)/i;var o=renderData.rect[e]-renderData.data.padding.left-renderData.data.padding.right;if(m.polar||m.spider){var f=this._renderData[n].polarCoords;if(f.isClosedCircle){o=renderData.data.axisSize}}return this._plotRect[p]+renderData.data.padding.left+o*(d.flip?(1-j):j)},getValueAxisDataPointOffset:function(i,j){var l=this._getValueAxis(j);if(!l){return NaN}var k=this._renderData[j];if(!k){return NaN}var h=l.flip==true;var e=k.logBase;var f=k.scale;var c=k.gbase;var d=k.baseOffset;return this._getDataPointOffset(i,c,e,f,d,h)},_getDataPointOffset:function(h,d,e,j,f,c){var i;if(isNaN(h)){h=d}if(!isNaN(e)){i=(a.jqx.log(h,e)-a.jqx.log(d,e))*j}else{i=(h-d)*j}if(this._isVML){i=Math.round(i)}if(c){i=f+i}else{i=f-i}return i},_calcGroupOffsets:function(n,O){var C=this.seriesGroups[n];while(this._renderData.length<n+1){this._renderData.push({})}if(this._renderData[n]!=null&&this._renderData[n].offsets!=undefined){return this._renderData[n]}if(this._isPieGroup(n)){return this._calcPieSeriesGroupOffsets(n,O)}var q=this._getValueAxis(n);if(!q||!C.series||C.series.length==0){return this._renderData[n]}var D=q.flip==true;var R=q.logarithmicScale==true;var Q=q.logarithmicScaleBase||10;var W=[];var I=C.type.indexOf("stacked")!=-1;var e=I&&C.type.indexOf("100")!=-1;var N=C.type.indexOf("range")!=-1;var X=this._isColumnType(C.type);var ac=C.type.indexOf("waterfall")!=-1;var v=this._getDataLen(n);var u=C.baselineValue||q.baselineValue||0;if(e){u=0}var aj=this._stats.seriesGroups[n];if(!aj||!aj.isValid){return}var am=aj.hasStackValueReversal;if(am){u=0}if(ac&&I){if(am){return}else{u=aj.base}}if(u>aj.max){u=aj.max}if(u<aj.min){u=aj.min}var t=(e||R)?aj.maxRange:aj.max-aj.min;var aq=aj.min;var F=aj.max;var P=O.height/(R?aj.intervals:t);var al=0;if(e){if(aq*F<0){t/=2;al=-(t+u)*P}else{al=-u*P}}else{al=-(u-aq)*P}if(D){al=O.y-al}else{al+=O.y+O.height}var ak=[];var ag=[];var V=[];var ao,K;if(R){ao=a.jqx.log(F,Q)-a.jqx.log(u,Q);if(I){ao=aj.intervals;u=e?0:aq}K=aj.intervals-ao;if(!D){al=O.y+ao/aj.intervals*O.height}}al=a.jqx._ptrnd(al);var d=(aq*F<0)?O.height/2:O.height;var o=[];var Z=[];var ar=I&&(X||R);var ap=[];W=new Array(C.series.length);for(var ae=0;ae<C.series.length;ae++){W[ae]=new Array(v)}for(var af=0;af<v;af++){if(!ac&&I){Z=[]}for(var ae=0;ae<C.series.length;ae++){if(!I&&R){o=[]}var G=C.series[ae];var H=G.dataField;var au=G.dataFieldFrom;var S=G.dataFieldTo;var ab=G.radiusDataField||G.sizeDataField;W[ae][af]={};var m=this._isSerieVisible(n,ae);if(C.type.indexOf("candle")!=-1||C.type.indexOf("ohlc")!=-1){var c=["Open","Close","High","Low"];for(var an in c){var s="dataField"+c[an];if(G[s]){W[ae][af][c[an]]=this._getDataPointOffset(this._getDataValueAsNumber(af,G[s],n),u,R?Q:NaN,P,al,D)}}continue}if(I){while(Z.length<=af){Z.push(0)}}var at=NaN;if(N){at=this._getDataValueAsNumber(af,au,n);if(isNaN(at)){at=u}}var M=NaN;if(N){M=this._getDataValueAsNumber(af,S,n)}else{M=this._getDataValueAsNumber(af,H,n)}var l=this._getDataValueAsNumber(af,ab,n);if(I){Z[af]+=m?M:0}if(!m){M=NaN}if(isNaN(M)||(R&&M<=0)){W[ae][af]={from:undefined,to:undefined};continue}var L;if(I){if(ar){L=(M>=u)?ak:ag}else{M=Z[af]}}var ai=P*(M-u);if(N){ai=P*(M-at)}if(I&&ar){if(!ap[af]){ap[af]=true;ai=P*(M-u)}else{ai=P*M}}if(R){while(o.length<=af){o.push({p:{value:0,height:0},n:{value:0,height:0}})}var E=(N||N)?at:u;var ad=M>E?o[af].p:o[af].n;ad.value+=M;if(e){M=ad.value/(aj.psums[af]+aj.nsums[af])*100;ai=(a.jqx.log(M,Q)-aj.minPow)*P}else{ai=a.jqx.log(ad.value,Q)-a.jqx.log(E,Q);ai*=P}ai-=ad.height;ad.height+=ai}var U=al;if(N){var w=0;if(R){w=(a.jqx.log(at,Q)-a.jqx.log(u,Q))*P}else{w=(at-u)*P}U+=D?w:-w}if(I){if(e&&!R){var B=(aj.psums[af]-aj.nsums[af]);if(M>u){ai=(aj.psums[af]/B)*d;if(aj.psums[af]!=0){ai*=M/aj.psums[af]}}else{ai=(aj.nsums[af]/B)*d;if(aj.nsums[af]!=0){ai*=M/aj.nsums[af]}}}if(ar){if(isNaN(L[af])){L[af]=U}U=L[af]}}if(isNaN(V[af])){V[af]=0}var ah=V[af];ai=Math.abs(ai);var Y=ai;if(ai>=1){h_new=this._isVML?Math.round(ai):a.jqx._ptrnd(ai)-1;if(Math.abs(ai-h_new)>0.5){ai=Math.round(ai)}else{ai=h_new}}ah+=ai-Y;if(!I){ah=0}if(Math.abs(ah)>0.5){if(ah>0){ai-=1;ah-=1}else{ai+=1;ah+=1}}V[af]=ah;if(ae==C.series.length-1&&e){var A=0;for(var aa=0;aa<ae;aa++){A+=Math.abs(W[aa][af].to-W[aa][af].from)}A+=ai;if(A<d){if(ai>0.5){ai=a.jqx._ptrnd(ai+d-A)}else{var aa=ae-1;while(aa>=0){var J=Math.abs(W[aa][af].to-W[aa][af].from);if(J>1){if(W[aa][af].from>W[aa][af].to){W[aa][af].from+=d-A}break}aa--}}}}if(D){ai*=-1}var T=M<u;if(N){T=at>M}var p=isNaN(at)?M:{from:at,to:M};if(T){if(ar){L[af]+=ai}W[ae][af]={from:U,to:U+ai,value:p,valueRadius:l}}else{if(ar){L[af]-=ai}W[ae][af]={from:U,to:U-ai,value:p,valueRadius:l}}}}var z=this._renderData[n];z.baseOffset=al;z.gbase=u;z.logBase=R?Q:NaN;z.scale=P;z.offsets=!ac?W:this._applyWaterfall(W,v,n,al,u,R?Q:NaN,P,D,I);z.xoffsets=this._calculateXOffsets(n,O.width);return this._renderData[n]},_isPercent:function(c){return(typeof(c)==="string"&&c.length>0&&c.indexOf("%")==c.length-1)},_calcPieSeriesGroupOffsets:function(f,c){var C=this;var o=this._getDataLen(f);var p=this.seriesGroups[f];var D=this._renderData[f]={};var J=D.offsets=[];for(var F=0;F<p.series.length;F++){var w=p.series[F];var H=this._get([w.minAngle,w.startAngle]);if(isNaN(H)||H<0||H>360){H=0}var P=this._get([w.maxAngle,w.endAngle]);if(isNaN(P)||P<0||P>360){P=360}var h=P-H;var q=w.initialAngle||0;if(q<H){q=H}if(q>P){q=P}var d=w.centerOffset||0;var N=a.jqx.getNum([w.offsetX,p.offsetX,c.width/2]);var M=a.jqx.getNum([w.offsetY,p.offsetY,c.height/2]);var B=Math.min(c.width,c.height)/2;var A=q;var j=w.radius;if(C._isPercent(j)){j=parseFloat(j)/100*B}if(isNaN(j)){j=B*0.4}var n=w.innerRadius;if(C._isPercent(n)){n=parseFloat(n)/100*B}if(isNaN(n)||n>=j){n=0}var e=w.selectedRadiusChange;if(C._isPercent(e)){e=parseFloat(e)/100*(j-n)}if(isNaN(e)){e=0.1*(j-n)}J.push([]);var k=0;var l=0;for(var I=0;I<o;I++){var O=this._getDataValueAsNumber(I,w.dataField,f);if(isNaN(O)){continue}if(!this._isSerieVisible(f,F,I)&&w.hiddenPointsDisplay!=true){continue}if(O>0){k+=O}else{l+=O}}var v=k-l;if(v==0){v=1}for(var I=0;I<o;I++){var O=this._getDataValueAsNumber(I,w.dataField,f);if(isNaN(O)){J[F].push({});continue}var G=w.displayText||w.displayField;var m=this._getDataValue(I,G,f);if(m==undefined){m=I}var L=0;var E=this._isSerieVisible(f,F,I);if(E||w.hiddenPointsDisplay==true){L=Math.abs(O)/v*h}var u=c.x+N;var t=c.y+M;var K=d;if(a.isFunction(d)){K=d({seriesIndex:F,seriesGroupIndex:f,itemIndex:I})}if(isNaN(K)){K=0}var z={key:f+"_"+F+"_"+I,value:O,displayValue:m,x:u,y:t,fromAngle:A,toAngle:A+L,centerOffset:K,innerRadius:n,outerRadius:j,selectedRadiusChange:e,visible:E};J[F].push(z);A+=L}}return D},_isPointSeriesOnly:function(){for(var c=0;c<this.seriesGroups.length;c++){var d=this.seriesGroups[c];if(d.type.indexOf("line")==-1&&d.type.indexOf("area")==-1&&d.type.indexOf("scatter")==-1&&d.type.indexOf("bubble")==-1){return false}}return true},_hasColumnSeries:function(){var e=["column","ohlc","candlestick","waterfall"];for(var d=0;d<this.seriesGroups.length;d++){var f=this.seriesGroups[d];for(var c in e){if(f.type.indexOf(e[c])!=-1){return true}}}return false},_alignValuesWithTicks:function(h){var c=this._isPointSeriesOnly();var d=this.seriesGroups[h];var f=this._getXAxis(h);var e=f.valuesOnTicks==undefined?c:f.valuesOnTicks!=false;if(f.logarithmicScale){e=true}if(h==undefined){return e}if(d.valuesOnTicks==undefined){return e}return d.valuesOnTicks},_getYearsDiff:function(d,c){return c.getFullYear()-d.getFullYear()},_getMonthsDiff:function(d,c){return 12*(c.getFullYear()-d.getFullYear())+c.getMonth()-d.getMonth()},_getDateDiff:function(h,f,e,c){var d=0;if(e!="year"&&e!="month"){d=f.valueOf()-h.valueOf()}switch(e){case"year":d=this._getYearsDiff(h,f);break;case"month":d=this._getMonthsDiff(h,f);break;case"day":d/=(24*3600*1000);break;case"hour":d/=(3600*1000);break;case"minute":d/=(60*1000);break;case"second":d/=(1000);break;case"millisecond":break}if(e!="year"&&e!="month"&&c!=false){d=a.jqx._rnd(d,1,true)}return d},_getBestDTUnit:function(m,s,t,e,k){var h="day";var o=s.valueOf()-m.valueOf();if(o<1000){h="second"}else{if(o<3600000){h="minute"}else{if(o<86400000){h="hour"}else{if(o<2592000000){h="day"}else{if(o<31104000000){h="month"}else{h="year"}}}}}var q=[{key:"year",cnt:o/(1000*60*60*24*365)},{key:"month",cnt:o/(1000*60*60*24*30)},{key:"day",cnt:o/(1000*60*60*24)},{key:"hour",cnt:o/(1000*60*60)},{key:"minute",cnt:o/(1000*60)},{key:"second",cnt:o/1000},{key:"millisecond",cnt:o}];var n=-1;for(var l=0;l<q.length;l++){if(q[l].key==h){n=l;break}}var c=-1,p=-1;for(;n<q.length;n++){if(q[n].cnt/100>e){break}var d=this._estAxisInterval(m,s,t,e,q[n].key,k);var f=this._getDTIntCnt(m,s,d,q[n].key);if(c==-1||c<f){c=f;p=n}}h=q[p].key;return h},_getXAxisStats:function(k,q,K){var o=this._getDataLen(k);var d=q.type=="date"||q.type=="time";if(d&&!this._autoDateFormats){if(!this._autoDateFormats){this._autoDateFormats=[]}var t=this._testXAxisDateFormat();if(t){this._autoDateFormats.push(t)}}var s=d?this._castAsDate(q.minValue,q.dateFormat):this._castAsNumber(q.minValue);var v=d?this._castAsDate(q.maxValue,q.dateFormat):this._castAsNumber(q.maxValue);if(this._selectorRange&&this._selectorRange[k]){var l=this._selectorRange[k].min;if(!isNaN(l)){s=d?this._castAsDate(l,q.dateFormat):this._castAsNumber(l)}var m=this._selectorRange[k].max;if(!isNaN(m)){v=d?this._castAsDate(m,q.dateFormat):this._castAsNumber(m)}}var F=s,J=v;var h,u;var e=q.type==undefined||q.type=="auto";var n=(e||q.type=="basic");var G=0,f=0;for(var I=0;I<o&&q.dataField;I++){var E=this._getDataValue(I,q.dataField,k);E=d?this._castAsDate(E,q.dateFormat):this._castAsNumber(E);if(isNaN(E)){continue}if(d){G++}else{f++}if(isNaN(h)||E<h){h=E}if(isNaN(u)||E>=u){u=E}}if(e&&((!d&&f==o)||(d&&G==o))){n=false}if(n){h=0;u=Math.max(0,o-1)}if(isNaN(F)){F=h}if(isNaN(J)){J=u}if(d){if(!this._isDate(F)){F=this._isDate(J)?J:new Date()}if(!this._isDate(J)){J=this._isDate(F)?F:new Date()}}else{if(isNaN(F)){F=0}if(isNaN(J)){J=n?Math.max(0,o-1):F}}if(h==undefined){h=F}if(u==undefined){u=J}var w=q.rangeSelector;if(w){var z=w.minValue||F;if(z&&d){z=this._castAsDate(z,w.dateFormat||q.dateFormat)}var D=w.maxValue||J;if(D&&d){D=this._castAsDate(D,w.dateFormat||q.rangeSelector)}if(F<z){F=z}if(J<z){J=D}if(F>D){F=z}if(J>D){J=D}}var L=q.unitInterval;var C,M;if(d){C=q.baseUnit;if(!C){C=this._getBestDTUnit(F,J,k,K)}M=C=="hour"||C=="minute"||C=="second"||C=="millisecond"}var A=q.logarithmicScale==true;var j=q.logarithmicScaleBase;if(isNaN(j)||j<=1){j=10}var L=q.unitInterval;if(A){L=1}else{if(isNaN(L)||L<=0){L=this._estAxisInterval(F,J,k,K,C)}}var H={min:F,max:J};var p=this.seriesGroups[k];if(A){if(!F){F=1;if(J&&F>J){F=J}}if(!J){J=F}H={min:F,max:J};var c=a.jqx._rnd(a.jqx.log(F,j),1,false);var B=a.jqx._rnd(a.jqx.log(J,j),1,true);J=Math.pow(j,B);F=Math.pow(j,c)}else{if(!d&&(p.polar||p.spider)){F=a.jqx._rnd(F,L,false);J=a.jqx._rnd(J,L,true)}}return{min:F,max:J,logAxis:{enabled:A,base:j,minPow:c,maxPow:B},dsRange:{min:h,max:u},filterRange:H,useIndeces:n,isDateTime:d,isTimeUnit:M,dateTimeUnit:C,interval:L}},_getDefaultDTFormatFn:function(e){var c=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];var d;if(e=="year"||e=="month"||e=="day"){d=function(f){return f.getDate()+"-"+c[f.getMonth()]+"-"+f.getFullYear()}}else{d=function(f){return f.getDate()+"-"+c[f.getMonth()]+"-"+f.getFullYear()+"<br>"+f.getHours()+":"+f.getMinutes()+":"+f.getSeconds()}}return d},_getDTIntCnt:function(f,c,d,j){var e=0;var h=new Date(f);var i=new Date(c);i=i.valueOf();if(d<=0){return 1}while(h.valueOf()<i){if(j=="millisecond"){h=new Date(h.valueOf()+d)}else{if(j=="second"){h=new Date(h.valueOf()+d*1000)}else{if(j=="minute"){h=new Date(h.valueOf()+d*60000)}else{if(j=="hour"){h=new Date(h.valueOf()+d*60000*24)}else{if(j=="day"){h.setDate(h.getDate()+d)}else{if(j=="month"){h.setMonth(h.getMonth()+d)}else{if(j=="year"){h.setFullYear(h.getFullYear()+d)}}}}}}}e++}return e},_estAxisInterval:function(f,k,o,c,l,d){if(isNaN(f)||isNaN(k)){return NaN}var e=[1,2,5,10,15,20,50,100,200,500];var j=0;var h=c/((!isNaN(d)&&d>0)?d:50);if(this._renderData&&this._renderData.length>o&&this._renderData[o].xAxis&&!isNaN(this._renderData[o].xAxis.avgWidth)){var q=Math.max(1,this._renderData[o].xAxis.avgWidth);if(q!=0&&isNaN(d)){h=0.9*c/q}}if(h<=1){return Math.abs(k-f)}var p=0;while(true){var n=j>=e.length?Math.pow(10,3+j-e.length):e[j];if(this._isDate(f)&&this._isDate(k)){p=this._getDTIntCnt(f,k,n,l)}else{p=(k-f)/n}if(p<=h){break}j++}var m=this.seriesGroups[o];if(m.spider||m.polar){if(2*n>k-f){n=k-f}}return n},_getPaddingSize:function(n,f,h,d,p,i,q){var j=n.min;var l=n.max;if(n.logAxis.enabled){j=n.logAxis.minPow;l=n.logAxis.maxPow}var c=n.interval;var e=n.dateTimeUnit;if(p){var m=(d/Math.max(1,l-j+c))*c;if(i){return{left:0,right:m}}else{if(h){return{left:0,right:0}}return{left:m/2,right:m/2}}}if(h&&!q){return{left:0,right:0}}if(this._isDate(j)&&this._isDate(l)){var o=this._getDTIntCnt(j,l,Math.min(c,l-j),e);var k=d/Math.max(2,o);return{left:k/2,right:k/2}}var o=Math.max(1,l-j);if(o==1){sz=d/4;return{left:sz,right:sz}}var k=d/(o+1);return{left:k/2,right:k/2}},_calculateXOffsets:function(h,H){var G=this.seriesGroups[h];var p=this._getXAxis(h);var A=[];var n=[];var o=this._getDataLen(h);var e=this._getXAxisStats(h,p,H);var z=e.min;var E=e.max;var c=e.isDateTime;var I=e.isTimeUnit;var F=this._hasColumnSeries();var d=G.polar||G.spider;var B=this._get([G.startAngle,G.minAngle,0]);var v=this._get([G.endAngle,G.maxAngle,360]);var s=d&&!(Math.abs(Math.abs(v-B)-360)>0.0001);var m=this._alignValuesWithTicks(h);var u=this._getPaddingSize(e,p,m,H,d,s,F);var K=E-z;var D=e.filterRange;if(K==0){K=1}var J=H-u.left-u.right;if(d&&m&&!s){u.left=u.right=0}var k=-1,q=-1;for(var C=0;C<o;C++){var w=(p.dataField===undefined)?C:this._getDataValue(C,p.dataField,h);if(e.useIndeces){if(C<D.min||C>D.max){A.push(NaN);n.push(undefined);continue}t=u.left+(C-z)/K*J;if(e.logAxis.enabled==true){var f=e.logAxis.base;t=this._jqxPlot.scale(w,{min:z.valueOf(),max:E.valueOf(),type:"logarithmic",base:f},{min:0,max:J,flip:false})}A.push(a.jqx._ptrnd(t));n.push(w);if(k==-1){k=C}if(q==-1||q<C){q=C}continue}w=c?this._castAsDate(w,p.dateFormat):this._castAsNumber(w);if(isNaN(w)||w<D.min||w>D.max){A.push(NaN);n.push(undefined);continue}var t=0;if(e.logAxis.enabled==true){var f=e.logAxis.base;t=this._jqxPlot.scale(w,{min:z.valueOf(),max:E.valueOf(),type:"logarithmic",base:f},{min:0,max:J,flip:false})}else{if(!c||(c&&I)){diffFromMin=w-z;t=(w-z)*J/K}else{t=(w.valueOf()-z.valueOf())/(E.valueOf()-z.valueOf())*J}}t=a.jqx._ptrnd(u.left+t);A.push(t);n.push(w);if(k==-1){k=C}if(q==-1||q<C){q=C}}if(p.flip==true){for(var C=0;C<A.length;C++){if(!isNaN(A[C])){A[C]=H-A[C]}}}if(I||c){K=this._getDateDiff(z,E,p.baseUnit);K=a.jqx._rnd(K,1,false)}var l=Math.max(1,K);var j=J/l;if(k==q&&l==1){A[k]=u.left+J/2}return{axisStats:e,data:A,xvalues:n,first:k,last:q,length:q==-1?0:q-k+1,itemWidth:j,intervalWidth:j*e.interval,rangeLength:K,useIndeces:e.useIndeces,padding:u,axisSize:J}},_getXAxis:function(c){if(c==undefined||this.seriesGroups.length<=c){return this.categoryAxis||this.xAxis}return this.seriesGroups[c].categoryAxis||this.seriesGroups[c].xAxis||this.categoryAxis||this.xAxis},_isGreyScale:function(f,c){var e=this.seriesGroups[f];var d=e.series[c];if(d.greyScale==true){return true}else{if(d.greyScale==false){return false}}if(e.greyScale==true){return true}else{if(e.greyScale==false){return false}}return this.greyScale==true},_getSeriesColors:function(h,d,f){var c=this._getSeriesColorsInternal(h,d,f);if(this._isGreyScale(h,d)){for(var e in c){c[e]=a.jqx.toGreyScale(c[e])}}return c},_getColorFromScheme:function(q,n,c){var e="#000000";var p=this.seriesGroups[q];var k=p.series[n];if(this._isPieGroup(q)){var d=this._getDataLen(q);e=this._getItemColorFromScheme(k.colorScheme||p.colorScheme||this.colorScheme,n*d+c,q,n)}else{var o=0;for(var h=0;h<=q;h++){for(var f in this.seriesGroups[h].series){if(h==q&&f==n){break}else{o++}}}var m=this.colorScheme;if(p.colorScheme){m=p.colorScheme;sidex=seriesIndex}if(m==undefined||m==""){m=this.colorSchemes[0].name}if(!m){return e}for(var h=0;h<this.colorSchemes.length;h++){var l=this.colorSchemes[h];if(l.name==m){while(o>l.colors.length){o-=l.colors.length;if(++h>=this.colorSchemes.length){h=0}l=this.colorSchemes[h]}e=l.colors[o%l.colors.length]}}}return e},_createColorsCache:function(){this._colorsCache={get:function(c){if(this._store[c]){return this._store[c]}},set:function(d,c){if(this._size<10000){this._store[d]=c;this._size++}},clear:function(){this._store={};this._size=0},_size:0,_store:{}}},_getSeriesColorsInternal:function(n,e,c){var h=this.seriesGroups[n];var p=h.series[e];if(!a.isFunction(p.colorFunction)&&h.type!="pie"&&h.type!="donut"){c=NaN}var i=n+"_"+e+"_"+(isNaN(c)?"NaN":c);if(this._colorsCache.get(i)){return this._colorsCache.get(i)}var d={lineColor:"#222222",lineColorSelected:"#151515",lineColorSymbol:"#222222",lineColorSymbolSelected:"#151515",fillColor:"#222222",fillColorSelected:"#333333",fillColorSymbol:"#222222",fillColorSymbolSelected:"#333333",fillColorAlt:"#222222",fillColorAltSelected:"#333333"};var j;if(a.isFunction(p.colorFunction)){var k=!isNaN(c)?this._getDataValue(c,p.dataField,n):NaN;if(h.type.indexOf("range")!=-1&&!isNaN(c)){var f=this._getDataValue(c,p.dataFieldFrom,n);var m=this._getDataValue(c,p.dataFieldTo,n);k={from:f,to:m}}j=p.colorFunction(k,c,p,h);if(typeof(j)=="object"){for(var l in j){d[l]=j[l]}}else{d.fillColor=j}}else{for(var l in d){if(p[l]){d[l]=p[l]}}if(!p.fillColor&&!p.color){d.fillColor=this._getColorFromScheme(n,e,c)}else{p.fillColor=p.fillColor||p.color}}var o={fillColor:{baseColor:"fillColor",adjust:1},fillColorSelected:{baseColor:"fillColor",adjust:1.1},fillColorSymbol:{baseColor:"fillColor",adjust:1},fillColorSymbolSelected:{baseColor:"fillColorSymbol",adjust:2},fillColorAlt:{baseColor:"fillColor",adjust:4},fillColorAltSelected:{baseColor:"fillColor",adjust:3},lineColor:{baseColor:"fillColor",adjust:0.95},lineColorSelected:{baseColor:"lineColor",adjust:0.95},lineColorSymbol:{baseColor:"lineColor",adjust:1},lineColorSymbolSelected:{baseColor:"lineColorSelected",adjust:1}};for(var l in d){if(typeof(j)!="object"||!j[l]){if(p[l]){d[l]=p[l]}}}for(var l in d){if(typeof(j)!="object"||!j[l]){if(!p[l]){d[l]=a.jqx.adjustColor(d[o[l].baseColor],o[l].adjust)}}}this._colorsCache.set(i,d);return d},_getItemColorFromScheme:function(e,h,m,l){if(e==undefined||e==""){e=this.colorSchemes[0].name}for(var k=0;k<this.colorSchemes.length;k++){if(e==this.colorSchemes[k].name){break}}var f=0;while(f<=h){if(k==this.colorSchemes.length){k=0}var c=this.colorSchemes[k].colors.length;if(f+c<=h){f+=c;k++}else{var d=this.colorSchemes[k].colors[h-f];if(this._isGreyScale(m,l)&&d.indexOf("#")==0){d=a.jqx.toGreyScale(d)}return d}}},getColorScheme:function(c){for(var d=0;d<this.colorSchemes.length;d++){if(this.colorSchemes[d].name==c){return this.colorSchemes[d].colors}}return undefined},addColorScheme:function(d,c){for(var e=0;e<this.colorSchemes.length;e++){if(this.colorSchemes[e].name==d){this.colorSchemes[e].colors=c;return}}this.colorSchemes.push({name:d,colors:c})},removeColorScheme:function(c){for(var d=0;d<this.colorSchemes.length;d++){if(this.colorSchemes[d].name==c){this.colorSchemes.splice(d,1);break}}},colorSchemes:[{name:"scheme01",colors:["#307DD7","#AA4643","#89A54E","#71588F","#4198AF"]},{name:"scheme02",colors:["#7FD13B","#EA157A","#FEB80A","#00ADDC","#738AC8"]},{name:"scheme03",colors:["#E8601A","#FF9639","#F5BD6A","#599994","#115D6E"]},{name:"scheme04",colors:["#D02841","#FF7C41","#FFC051","#5B5F4D","#364651"]},{name:"scheme05",colors:["#25A0DA","#309B46","#8EBC00","#FF7515","#FFAE00"]},{name:"scheme06",colors:["#0A3A4A","#196674","#33A6B2","#9AC836","#D0E64B"]},{name:"scheme07",colors:["#CC6B32","#FFAB48","#FFE7AD","#A7C9AE","#888A63"]},{name:"scheme08",colors:["#3F3943","#01A2A6","#29D9C2","#BDF271","#FFFFA6"]},{name:"scheme09",colors:["#1B2B32","#37646F","#A3ABAF","#E1E7E8","#B22E2F"]},{name:"scheme10",colors:["#5A4B53","#9C3C58","#DE2B5B","#D86A41","#D2A825"]},{name:"scheme11",colors:["#993144","#FFA257","#CCA56A","#ADA072","#949681"]},{name:"scheme12",colors:["#105B63","#EEEAC5","#FFD34E","#DB9E36","#BD4932"]},{name:"scheme13",colors:["#BBEBBC","#F0EE94","#F5C465","#FA7642","#FF1E54"]},{name:"scheme14",colors:["#60573E","#F2EEAC","#BFA575","#A63841","#BFB8A3"]},{name:"scheme15",colors:["#444546","#FFBB6E","#F28D00","#D94F00","#7F203B"]},{name:"scheme16",colors:["#583C39","#674E49","#948658","#F0E99A","#564E49"]},{name:"scheme17",colors:["#142D58","#447F6E","#E1B65B","#C8782A","#9E3E17"]},{name:"scheme18",colors:["#4D2B1F","#635D61","#7992A2","#97BFD5","#BFDCF5"]},{name:"scheme19",colors:["#844341","#D5CC92","#BBA146","#897B26","#55591C"]},{name:"scheme20",colors:["#56626B","#6C9380","#C0CA55","#F07C6C","#AD5472"]},{name:"scheme21",colors:["#96003A","#FF7347","#FFBC7B","#FF4154","#642223"]},{name:"scheme22",colors:["#5D7359","#E0D697","#D6AA5C","#8C5430","#661C0E"]},{name:"scheme23",colors:["#16193B","#35478C","#4E7AC7","#7FB2F0","#ADD5F7"]},{name:"scheme24",colors:["#7B1A25","#BF5322","#9DA860","#CEA457","#B67818"]},{name:"scheme25",colors:["#0081DA","#3AAFFF","#99C900","#FFEB3D","#309B46"]},{name:"scheme26",colors:["#0069A5","#0098EE","#7BD2F6","#FFB800","#FF6800"]},{name:"scheme27",colors:["#FF6800","#A0A700","#FF8D00","#678900","#0069A5"]}],_formatValue:function(i,k,d,h,c,f){if(i==undefined){return""}if(this._isObject(i)&&!this._isDate(i)&&!d){return""}if(d){if(!a.isFunction(d)){return i.toString()}try{return d(i,f,c,h)}catch(j){return j.message}}if(this._isNumber(i)){return this._formatNumber(i,k)}if(this._isDate(i)){return this._formatDate(i,k)}if(k){return(k.prefix||"")+i.toString()+(k.sufix||"")}return i.toString()},_getFormattedValue:function(h,j,C,q,f,m){var A=this.seriesGroups[h];var o=A.series[j];var n="";var k=q,l=f;if(!l){l=o.formatFunction||A.formatFunction}if(!k){k=o.formatSettings||A.formatSettings}if(!o.formatFunction&&o.formatSettings){l=undefined}var p={},v=0;for(var c in o){if(c.indexOf("dataField")==0){p[c.substring(9).toLowerCase()]=this._getDataValue(C,o[c],h);v++}}if(v==0){p=this._getDataValue(C,undefined,h)}if(A.type.indexOf("waterfall")!=-1&&this._isSummary(h,C)){p=this._renderData[h].offsets[j][C].value;v=0}if(l&&a.isFunction(l)){try{return l(v==1?p[""]:p,C,o,A)}catch(B){return B.message}}if(v==1&&this._isPieGroup(h)){return this._formatValue(p[""],k,l,h,j,C)}if(v>0){var w=0;for(var c in p){if(w>0&&n!=""){n+="<br>"}var u="dataField"+(c.length>0?c.substring(0,1).toUpperCase()+c.substring(1):"");var t="displayText"+(c.length>0?c.substring(0,1).toUpperCase()+c.substring(1):"");var z=o[t]||o[u];var d=p[c];if(undefined!=d){d=this._formatValue(d,k,l,h,j,C)}else{continue}if(m===true){n+=d}else{n+=z+": "+d}w++}}else{if(undefined!=p){n=this._formatValue(p,k,l,h,j,C)}}return n||""},_isNumberAsString:function(e){if(typeof(e)!="string"){return false}e=a.trim(e);for(var c=0;c<e.length;c++){var d=e.charAt(c);if((d>="0"&&d<="9")||d==","||d=="."){continue}if(d=="-"&&c==0){continue}if((d=="("&&c==0)||(d==")"&&c==e.length-1)){continue}return false}return true},_castAsDate:function(h,d){if(h instanceof Date&&!isNaN(h)){return h}if(typeof(h)=="string"){var c;if(d){c=a.jqx.dataFormat.parsedate(h,d);if(this._isDate(c)){return c}}if(this._autoDateFormats){for(var f=0;f<this._autoDateFormats.length;f++){c=a.jqx.dataFormat.parsedate(h,this._autoDateFormats[f]);if(this._isDate(c)){return c}}}var e=this._detectDateFormat(h);if(e){c=a.jqx.dataFormat.parsedate(h,e);if(this._isDate(c)){this._autoDateFormats.push(e);return c}}c=new Date(h);if(this._isDate(c)){if(h.indexOf(":")==-1){c.setHours(0,0,0,0)}}return c}return undefined},_castAsNumber:function(d){if(d instanceof Date&&!isNaN(d)){return d.valueOf()}if(typeof(d)=="string"){if(this._isNumber(d)){d=parseFloat(d)}else{if(!/[a-zA-Z]/.test(d)){var c=new Date(d);if(c!=undefined){d=c.valueOf()}}}}return d},_isNumber:function(c){if(typeof(c)=="string"){if(this._isNumberAsString(c)){c=parseFloat(c)}}return typeof c==="number"&&isFinite(c)},_isDate:function(c){return c instanceof Date&&!isNaN(c.getDate())},_isBoolean:function(c){return typeof c==="boolean"},_isObject:function(c){return(c&&(typeof c==="object"||a.isFunction(c)))||false},_formatDate:function(e,d){var c=e.toString();if(d){if(d.dateFormat){c=a.jqx.dataFormat.formatDate(e,d.dateFormat)}c=(d.prefix||"")+c+(d.sufix||"")}return c},_formatNumber:function(p,f){if(!this._isNumber(p)){return p}f=f||{};var t=".";var q="";var u=this;if(u.localization){t=u.localization.decimalSeparator||u.localization.decimalseparator||t;q=u.localization.thousandsSeparator||u.localization.thousandsseparator||q}if(f.decimalSeparator){t=f.decimalSeparator}if(f.thousandsSeparator){q=f.thousandsSeparator}var o=f.prefix||"";var s=f.sufix||"";var k=f.decimalPlaces;if(isNaN(k)){k=this._getDecimalPlaces([p],undefined,3)}var n=f.negativeWithBrackets||false;var j=(p<0);if(j&&n){p*=-1}var e=p.toString();var c;var m=Math.pow(10,k);e=(Math.round(p*m)/m).toString();if(isNaN(e)){e=""}c=e.lastIndexOf(".");if(k>0){if(c<0){e+=t;c=e.length-1}else{if(t!=="."){e=e.replace(".",t)}}while((e.length-1-c)<k){e+="0"}}c=e.lastIndexOf(t);c=(c>-1)?c:e.length;var h=e.substring(c);var d=0;for(var l=c;l>0;l--,d++){if((d%3===0)&&(l!==c)&&(!j||(l>1)||(j&&n))){h=q+h}h=e.charAt(l-1)+h}e=h;if(j&&n){e="("+e+")"}return o+e+s},_defaultNumberFormat:{prefix:"",sufix:"",decimalSeparator:".",thousandsSeparator:",",decimalPlaces:2,negativeWithBrackets:false},_calculateControlPoints:function(i,h){var f=i[h],o=i[h+1],e=i[h+2],l=i[h+3],d=i[h+4],k=i[h+5];var n=0.4;var q=Math.sqrt(Math.pow(e-f,2)+Math.pow(l-o,2));var c=Math.sqrt(Math.pow(d-e,2)+Math.pow(k-l,2));var j=(q+c);if(j==0){j=1}var p=n*q/j;var m=n-p;return[e+p*(f-d),l+p*(o-k),e-m*(f-d),l-m*(o-k)]},_getBezierPoints:function(e){var d="";var k=[],f=[];var j=e.split(" ");for(var h=0;h<j.length;h++){var l=j[h].split(",");k.push(parseFloat(l[0]));k.push(parseFloat(l[1]));if(isNaN(k[k.length-1])||isNaN(k[k.length-2])){continue}}var c=k.length;if(c<=1){return""}else{if(c==2){d="M"+a.jqx._ptrnd(k[0])+","+a.jqx._ptrnd(k[1])+" L"+a.jqx._ptrnd(k[0]+1)+","+a.jqx._ptrnd(k[1]+1)+" ";return d}}for(var h=0;h<c-4;h+=2){f=f.concat(this._calculateControlPoints(k,h))}for(var h=2;h<c-5;h+=2){d+=" C"+a.jqx._ptrnd(f[2*h-2])+","+a.jqx._ptrnd(f[2*h-1])+" "+a.jqx._ptrnd(f[2*h])+","+a.jqx._ptrnd(f[2*h+1])+" "+a.jqx._ptrnd(k[h+2])+","+a.jqx._ptrnd(k[h+3])+" "}if(c<=4||(Math.abs(k[0]-k[2])<3||Math.abs(k[1]-k[3])<3)||this._isVML){d="M"+a.jqx._ptrnd(k[0])+","+a.jqx._ptrnd(k[1])+" L"+a.jqx._ptrnd(k[2])+","+a.jqx._ptrnd(k[3])+" "+d}else{d="M"+a.jqx._ptrnd(k[0])+","+a.jqx._ptrnd(k[1])+" Q"+a.jqx._ptrnd(f[0])+","+a.jqx._ptrnd(f[1])+" "+a.jqx._ptrnd(k[2])+","+a.jqx._ptrnd(k[3])+" "+d}if(c>=4&&(Math.abs(k[c-2]-k[c-4])<3||Math.abs(k[c-1]-k[c-3])<3||this._isVML)){d+=" L"+a.jqx._ptrnd(k[c-2])+","+a.jqx._ptrnd(k[c-1])+" "}else{if(c>=5){d+=" Q"+a.jqx._ptrnd(f[c*2-10])+","+a.jqx._ptrnd(f[c*2-9])+" "+a.jqx._ptrnd(k[c-2])+","+a.jqx._ptrnd(k[c-1])+" "}}return d},_animTickInt:50,_createAnimationGroup:function(c){if(!this._animGroups){this._animGroups={}}this._animGroups[c]={animations:[],startTick:NaN}},_startAnimation:function(e){var f=new Date();var c=f.getTime();this._animGroups[e].startTick=c;this._runAnimation();this._enableAnimTimer()},_enqueueAnimation:function(f,e,d,i,h,c,j){if(i<0){i=0}if(j==undefined){j="easeInOutSine"}this._animGroups[f].animations.push({key:e,properties:d,duration:i,fn:h,context:c,easing:j})},_stopAnimations:function(){clearTimeout(this._animtimer);this._animtimer=undefined;this._animGroups=undefined},_enableAnimTimer:function(){if(!this._animtimer){var c=this;this._animtimer=setTimeout(function(){c._runAnimation()},this._animTickInt)}},_runAnimation:function(t){if(this._animGroups){var w=new Date();var l=w.getTime();var s={};for(var n in this._animGroups){var v=this._animGroups[n].animations;var o=this._animGroups[n].startTick;var k=0;for(var q=0;q<v.length;q++){var z=v[q];var c=(l-o);if(z.duration>k){k=z.duration}var u=z.duration>0?c/z.duration:1;var m=u;if(z.easing&&z.duration!=0){m=a.easing[z.easing](u,c,0,1,z.duration)}if(u>1){u=1;m=1}if(z.fn){z.fn(z.key,z.context,m);continue}var h={};for(var n=0;n<z.properties.length;n++){var e=z.properties[n];var f=0;if(u==1){f=e.to}else{f=easeParecent*(e.to-e.from)+e.from}h[e.key]=f}this.renderer.attr(z.key,h)}if(o+k>l){s[n]=({startTick:o,animations:v})}}this._animGroups=s;if(this.renderer instanceof a.jqx.HTML5Renderer){this.renderer.refresh()}}this._animtimer=null;for(var n in this._animGroups){this._enableAnimTimer();break}},_fixCoords:function(e,f){var c=this.seriesGroups[f].orientation=="horizontal";if(!c){return e}var d=e.x;e.x=e.y;e.y=d+this._plotRect.y-this._plotRect.x;var d=e.width;e.width=e.height;e.height=d;return e},getItemCoord:function(c,e,w){var l=this;if(l._isPieGroup(c)&&(!l._isSerieVisible(c,e,w)||!l._renderData||l._renderData.length<=c)){return{x:NaN,y:NaN}}if(!l._isSerieVisible(c,e)||!l._renderData||l._renderData.length<=c){return{x:NaN,y:NaN}}var t=l.seriesGroups[c];var k=t.series[e];var p=l._getItemCoord(c,e,w);if(l._isPieGroup(c)){if(isNaN(p.x)||isNaN(p.y)||isNaN(p.fromAngle)||isNaN(p.toAngle)){return{x:NaN,y:NaN}}var j=this._plotRect;var q=p.fromAngle*(Math.PI/180);var f=p.toAngle*(Math.PI/180);x1=j.x+p.center.x+Math.cos(q)*p.outerRadius;x2=j.x+p.center.x+Math.cos(f)*p.outerRadius;y1=j.y+p.center.y-Math.sin(q)*p.outerRadius;y2=j.y+p.center.y-Math.sin(f)*p.outerRadius;var i=Math.min(x1,x2);var n=Math.abs(x2-x1);var h=Math.min(y1,y2);var m=Math.abs(y2-y1);p={x:i,y:h,width:n,height:m,center:p.center,centerOffset:p.centerOffset,innerRadius:p.innerRadius,outerRadius:p.outerRadius,selectedRadiusChange:p.selectedRadiusChange,fromAngle:p.fromAngle,toAngle:p.toAngle};return p}if(t.type.indexOf("column")!=-1||t.type.indexOf("waterfall")!=-1){var z=this._getColumnSerieWidthAndOffset(c,e);p.height=Math.abs(p.y.to-p.y.from);p.y=Math.min(p.y.to,p.y.from);p.x+=z.offset;p.width=z.width}else{if(t.type.indexOf("ohlc")!=-1||t.type.indexOf("candlestick")!=-1){var z=this._getColumnSerieWidthAndOffset(c,e);var h=p.y;var v=Math.min(h.Open,h.Close,h.Low,h.High);var u=Math.max(h.Open,h.Close,h.Low,h.High);p.height=Math.abs(u-v);p.y=v;p.x+=z.offset;p.width=z.width}else{if(t.type.indexOf("line")!=-1||t.type.indexOf("area")!=-1){p.width=p.height=0;p.y=p.y.to}else{if(t.type.indexOf("bubble")!=-1||t.type.indexOf("scatter")!=-1){p.center={x:p.x,y:p.y.to};var d=p.y.radius;if(k.symbolType!="circle"&&k.symbolType!=undefined){d/=2}p.y=p.y.to;p.radius=d;p.width=2*d;p.height=2*d}}}}p=this._fixCoords(p,c);if(t.polar||t.spider){var o=this._toPolarCoord(this._renderData[c].polarCoords,this._plotRect,p.x,p.y);p.x=o.x;p.y=o.y;if(p.center){p.center=this._toPolarCoord(this._renderData[c].polarCoords,this._plotRect,p.center.x,p.center.y)}}if(t.type.indexOf("bubble")!=-1||t.type.indexOf("scatter")!=-1){p.x-=d;p.y-=d}return p},_getItemCoord:function(p,k,c){var f=this.seriesGroups[p],m,l;if(!f||!this._renderData){return{x:NaN,y:NaN}}var h=f.series[k];if(!h){return{x:NaN,y:NaN}}var j=this._plotRect;if(this._isPieGroup(p)){var n=this._renderData[p].offsets[k][c];if(!n){return{x:NaN,y:NaN}}var d=(n.fromAngle+n.toAngle)/2*(Math.PI/180);m=j.x+n.x+Math.cos(d)*n.outerRadius;l=j.y+n.y-Math.sin(d)*n.outerRadius;return{x:m,y:l,center:{x:n.x,y:n.y},centerOffset:n.centerOffset,innerRadius:n.innerRadius,outerRadius:n.outerRadius,selectedRadiusChange:n.selectedRadiusChange,fromAngle:n.fromAngle,toAngle:n.toAngle}}else{m=j.x+this._renderData[p].xoffsets.data[c];l=this._renderData[p].offsets[k][c];if(isNaN(m)||!l){return{x:NaN,y:NaN}}}var o={};for(var e in l){o[e]=l[e]}return{x:m,y:o}},getXAxisValue:function(i,u){var t=this.seriesGroups[u];if(!t){return undefined}var d=this._getXAxis(u);var p=this._plotRect;var c=0;var o=NaN;var f=this._renderData[0].xoffsets.axisStats;var h=0,n=0;if(t.polar||t.spider){if(isNaN(i.x)||isNaN(i.y)){return NaN}var j=this._getPolarAxisCoords(u,p);var m=a.jqx._ptdist(i.x,i.y,j.x,j.y);if(m>j.r){return NaN}var k=Math.atan2(j.y-i.y,i.x-j.x);k=Math.PI/2-k;if(k<0){k=2*Math.PI+k}o=k*j.r;var l=j.startAngle+Math.PI/2;var e=j.endAngle+Math.PI/2;h=l*j.r;n=e*j.r;c=(e-l)*j.r;var q=this._getPaddingSize(f,d,d.valuesOnTicks,c,true,j.isClosedCircle,this._hasColumnSeries());if(j.isClosedCircle){c-=(q.left+q.right);n-=(q.left+q.right)}else{if(!d.valuesOnTicks){h+=q.left;n-=q.right}}}else{if(t.orientation!="horizontal"){if(i<p.x||i>p.x+p.width){return NaN}o=i-p.x;c=p.width}else{if(i<p.y||i>p.y+p.height){return NaN}o=i-p.y;c=p.height}if(this._renderData[u]&&this._renderData[u].xoffsets){var q=this._renderData[u].xoffsets.padding;c-=(q.left+q.right);o-=q.left}n=c}var s=this._jqxPlot.scale(o,{min:h,max:n},{min:f.min.valueOf(),max:f.max.valueOf(),type:f.logAxis.enabled?"logarithmic":"linear",base:f.logAxis.base,flip:d.flip});return s},getValueAxisValue:function(d,l){var k=this.seriesGroups[l];if(!k){return undefined}var m=this._getValueAxis(l);var i=this._plotRect;var c=0;var h=NaN;if(k.polar||k.spider){if(isNaN(d.x)||isNaN(d.y)){return NaN}var f=this._getPolarAxisCoords(l,i);h=a.jqx._ptdist(d.x,d.y,f.x,f.y);c=f.r;h=c-h}else{if(k.orientation=="horizontal"){if(d<i.x||d>i.x+i.width){return NaN}h=d-i.x;c=i.width}else{if(d<i.y||d>i.y+i.height){return NaN}h=d-i.y;c=i.height}}var e=this._stats.seriesGroups[l];var j=this._jqxPlot.scale(h,{min:0,max:c},{min:e.min.valueOf(),max:e.max.valueOf(),type:e.logarithmic?"logarithmic":"linear",base:e.logBase,flip:!m.flip});return j},_detectDateFormat:function(k,f){var e={en_US_d:"M/d/yyyy",en_US_D:"dddd, MMMM dd, yyyy",en_US_t:"h:mm tt",en_US_T:"h:mm:ss tt",en_US_f:"dddd, MMMM dd, yyyy h:mm tt",en_US_F:"dddd, MMMM dd, yyyy h:mm:ss tt",en_US_M:"MMMM dd",en_US_Y:"yyyy MMMM",en_US_S:"yyyy\u0027-\u0027MM\u0027-\u0027dd\u0027T\u0027HH\u0027:\u0027mm\u0027:\u0027ss",en_CA_d:"dd/MM/yyyy",en_CA_D:"MMMM-dd-yy",en_CA_f:"MMMM-dd-yy h:mm tt",en_CA_F:"MMMM-dd-yy h:mm:ss tt",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm",custom:"yyyy-MM-ddTHH:mm:ss.fff",custom2:"yyyy-MM-dd HH:mm:ss.fff",de_DE_d:"dd.MM.yyyy",de_DE_D:"dddd, d. MMMM yyyy",de_DE_t:"HH:mm",de_DE_T:"HH:mm:ss",de_DE_f:"dddd, d. MMMM yyyy HH:mm",de_DE_F:"dddd, d. MMMM yyyy HH:mm:ss",de_DE_M:"dd MMMM",de_DE_Y:"MMMM yyyy",fr_FR_d:"dd/MM/yyyy",fr_FR_D:"dddd d MMMM yyyy",fr_FR_t:"HH:mm",fr_FR_T:"HH:mm:ss",fr_FR_f:"dddd d MMMM yyyy HH:mm",fr_FR_F:"dddd d MMMM yyyy HH:mm:ss",fr_FR_M:"d MMMM",fr_FR_Y:"MMMM yyyy",it_IT_d:"dd/MM/yyyy",it_IT_D:"dddd d MMMM yyyy",it_IT_t:"HH:mm",it_IT_T:"HH:mm:ss",it_IT_f:"dddd d MMMM yyyy HH:mm",it_IT_F:"dddd d MMMM yyyy HH:mm:ss",it_IT_M:"dd MMMM",it_IT_Y:"MMMM yyyy",ru_RU_d:"dd.MM.yyyy",ru_RU_D:"d MMMM yyyy '?.'",ru_RU_t:"H:mm",ru_RU_T:"H:mm:ss",ru_RU_f:"d MMMM yyyy '?.' H:mm",ru_RU_F:"d MMMM yyyy '?.' H:mm:ss",ru_RU_Y:"MMMM yyyy",cs_CZ_d:"d.M.yyyy",cs_CZ_D:"d. MMMM yyyy",cs_CZ_t:"H:mm",cs_CZ_T:"H:mm:ss",cs_CZ_f:"d. MMMM yyyy H:mm",cs_CZ_F:"d. MMMM yyyy H:mm:ss",cs_CZ_M:"dd MMMM",cs_CZ_Y:"MMMM yyyy",he_IL_d:"dd MMMM yyyy",he_IL_D:"dddd dd MMMM yyyy",he_IL_t:"HH:mm",he_IL_T:"HH:mm:ss",he_IL_f:"dddd dd MMMM yyyy HH:mm",he_IL_F:"dddd dd MMMM yyyy HH:mm:ss",he_IL_M:"dd MMMM",he_IL_Y:"MMMM yyyy",hr_HR_d:"d.M.yyyy.",hr_HR_D:"d. MMMM yyyy.",hr_HR_t:"H:mm",hr_HR_T:"H:mm:ss",hr_HR_f:"d. MMMM yyyy. H:mm",hr_HR_F:"d. MMMM yyyy. H:mm:ss",hr_HR_M:"d. MMMM",hu_HU_d:"yyyy.MM.dd.",hu_HU_D:"yyyy. MMMM d.",hu_HU_t:"H:mm",hu_HU_T:"H:mm:ss",hu_HU_f:"yyyy. MMMM d. H:mm",hu_HU_F:"yyyy. MMMM d. H:mm:ss",hu_HU_M:"MMMM d.",hu_HU_Y:"yyyy. MMMM",jp_JP_d:"gg y/M/d",jp_JP_D:"gg y'?'M'?'d'?'",jp_JP_t:"H:mm",jp_JP_T:"H:mm:ss",jp_JP_f:"gg y'?'M'?'d'?' H:mm",jp_JP_F:"gg y'?'M'?'d'?' H:mm:ss",jp_JP_M:"M'?'d'?'",jp_JP_Y:"gg y'?'M'?'",lt_LT_d:"yyyy.MM.dd",lt_LT_D:"yyyy 'm.' MMMM d 'd.'",lt_LT_t:"HH:mm",lt_LT_T:"HH:mm:ss",lt_LT_f:"yyyy 'm.' MMMM d 'd.' HH:mm",lt_LT_F:"yyyy 'm.' MMMM d 'd.' HH:mm:ss",lt_LT_M:"MMMM d 'd.'",lt_LT_Y:"yyyy 'm.' MMMM",sa_IN_d:"dd-MM-yyyy",sa_IN_D:"dd MMMM yyyy dddd",sa_IN_t:"HH:mm",sa_IN_T:"HH:mm:ss",sa_IN_f:"dd MMMM yyyy dddd HH:mm",sa_IN_F:"dd MMMM yyyy dddd HH:mm:ss",sa_IN_M:"dd MMMM",basic_y:"yyyy",basic_ym:"yyyy-MM",basic_d:"yyyy-MM-dd",basic_dhm:"yyyy-MM-dd hh:mm",basic_bhms:"yyyy-MM-dd hh:mm:ss",basic2_ym:"MM-yyyy",basic2_d:"MM-dd-yyyy",basic2_dhm:"MM-dd-yyyy hh:mm",basic2_dhms:"MM-dd-yyyy hh:mm:ss",basic3_ym:"yyyy/MM",basic3_d:"yyyy/MM/dd",basic3_dhm:"yyyy/MM/dd hh:mm",basic3_bhms:"yyyy/MM/dd hh:mm:ss",basic4_ym:"MM/yyyy",basic4_d:"MM/dd/yyyy",basic4_dhm:"MM/dd/yyyy hh:mm",basic4_dhms:"MM/dd/yyyy hh:mm:ss"};if(f){e=a.extend({},e,f)}var d=[];if(!a.isArray(k)){d.push(k)}else{d=k}for(var h in e){e[h]={format:e[h],count:0}}for(var l=0;l<d.length;l++){value=d[l];if(value==null||value==undefined){continue}for(var h in e){var c=a.jqx.dataFormat.parsedate(value,e[h].format);if(c!=null){e[h].count++}}}var m={key:undefined,count:0};for(var h in e){if(e[h].count>m.count){m.key=h;m.count=e[h].count}}return m.key?e[m.key].format:""},_testXAxisDateFormat:function(k){var m=this;var e=m._getXAxis(k);var d=m._getDataLen(k);var f={};if(m.localization&&m.localization.patterns){for(var l in m.localization.patterns){f["local_"+l]=m.localization.patterns[l]}}var j=[];for(var h=0;h<d&&h<10;h++){value=m._getDataValue(h,e.dataField,k);if(value==null||value==undefined){continue}j.push(value)}var c=m._detectDateFormat(j,f);return c}})})(jqxBaseFramework);(function(a){a.extend(a.jqx._jqxChart.prototype,{_moduleApi:true,getItemsCount:function(h,c){var e=this.seriesGroups[h];if(!this._isSerieVisible(h,c)){return 0}var f=this._renderData;if(!e||!f||f.length<=h){return 0}var d=e.series[c];if(!d){return 0}return f[h].offsets[c].length},getXAxisRect:function(d){var c=this._renderData;if(!c||c.length<=d){return undefined}if(!c[d].xAxis){return undefined}return c[d].xAxis.rect},getXAxisLabels:function(m){var e=[];var n=this._renderData;if(!n||n.length<=m){return e}n=n[m].xAxis;if(!n){return e}var l=this.seriesGroups[m];if(l.polar||l.spider){for(var f=0;f<n.polarLabels.length;f++){var k=n.polarLabels[f];e.push({offset:{x:k.x,y:k.y},value:k.value})}return e}var d=this._getXAxis(m);var j=this.getXAxisRect(m);var c=d.position=="top"||d.position=="right";var h=l.orientation=="horizontal";for(var f=0;f<n.data.length;f++){if(h){e.push({offset:{x:j.x+(c?0:j.width),y:j.y+n.data.data[f]},value:n.data.xvalues[f]})}else{e.push({offset:{x:j.x+n.data.data[f],y:j.y+(c?j.height:0)},value:n.data.xvalues[f]})}}return e},getValueAxisRect:function(d){var c=this._renderData;if(!c||c.length<=d){return undefined}if(!c[d].valueAxis){return undefined}return c[d].valueAxis.rect},getValueAxisLabels:function(k){var d=[];var l=this._renderData;if(!l||l.length<=k){return d}l=l[k].valueAxis;if(!l){return d}var m=this._getValueAxis(k);var c=m.position=="top"||m.position=="right";var j=this.seriesGroups[k];var f=j.orientation=="horizontal";if(j.polar||j.spider){for(var e=0;e<l.polarLabels.length;e++){var h=l.polarLabels[e];d.push({offset:{x:h.x,y:h.y},value:h.value})}return d}for(var e=0;e<l.items.length;e++){if(f){d.push({offset:{x:l.itemOffsets[l.items[e]].x+l.itemWidth/2,y:l.rect.y+(c?l.rect.height:0)},value:l.items[e]})}else{d.push({offset:{x:l.rect.x+l.rect.width,y:l.itemOffsets[l.items[e]].y+l.itemWidth/2},value:l.items[e]})}}return d},getPlotAreaRect:function(){return this._plotRect},getRect:function(){return this._rect},showToolTip:function(h,d,f,c,e){var i=this.getItemCoord(h,d,f);if(isNaN(i.x)||isNaN(i.y)){return}this._startTooltipTimer(h,d,f,i.x,i.y,c,e)},hideToolTip:function(d){if(isNaN(d)){d=0}var c=this;c._cancelTooltipTimer();setTimeout(function(){c._hideToolTip(0)},d)}})})(jqxBaseFramework);(function(a){a.extend(a.jqx._jqxChart.prototype,{_moduleRangeSelector:true,_renderXAxisRangeSelector:function(p,n){var s=this;s._isTouchDevice=a.jqx.mobile.isTouchDevice();var i=s.seriesGroups[p];var e=s._getXAxis(p);var l=e?e.rangeSelector:undefined;if(!s._isSelectorRefresh){var q=(l&&l.renderTo)?l.renderTo:s.host;q.find(".rangeSelector").remove()}if(!e||e.visible==false||i.type=="spider"){return false}if(!s._isGroupVisible(p)){return false}if(!l){return false}var h=i.orientation=="horizontal";if(l.renderTo){h=false}if(s.rtl){e.flip=true}var d=h?this.host.height():this.host.width();d-=4;var o=this._getXAxisStats(p,e,d);var k=e.position;if(l.renderTo&&l.position){k=l.position}if(!this._isSelectorRefresh){var m=l.renderTo;var c="<div class='rangeSelector jqx-disableselect' style='position: absolute; background-color: transparent;' onselectstart='return false;'></div>";var f=a(c).appendTo(m?m:this.renderer.getContainer());if(!m){var j=this.host.coord();j.top=0;j.left=0;selectorSize=this._selectorGetSize(e);if(!h){f.css("left",j.left+1);f.css("top",j.top+n.y+(k!="top"?n.height:-selectorSize));f.css("height",selectorSize);f.css("width",d)}else{f.css("left",j.left+1+n.x+(k!="right"?-selectorSize:n.width));f.css("top",j.top);f.css("height",d);f.css("width",selectorSize);n.height=selectorSize}}else{f.css({width:m.width(),height:m.height()});n.width=m.width();n.height=m.height()}this._refreshSelector(p,e,o,f,n,h)}this._isSelectorRefresh=false;return true},_refreshSelector:function(h,f,e,F,d,c){var k={};var z=f.rangeSelector;var m=this.seriesGroups[h];for(var B in z){k[B]=z[B]}delete k.padding;var u=k.minValue;var A=k.maxValue;if(undefined==u){u=Math.min(e.min.valueOf(),e.dsRange.min.valueOf())}if(undefined==A){A=Math.max(e.max.valueOf(),e.dsRange.max.valueOf())}if(this._isDate(e.min)){u=new Date(u)}if(this._isDate(e.max)){A=new Date(A)}var n=f.position;if(z.renderTo&&z.position){n=z.position}k.dataField=f.dataField;delete k.rangeSelector;k.type=f.type;k.baseUnit=z.baseUnit||f.baseUnit;k.minValue=u;k.maxValue=A;k.flip=f.flip;k.position=n;var l=5;var t=2,E=2,D=2,H=2;if(!z.renderTo){t=c?0:d.x;E=c?0:this._rect.width-d.x-d.width;D=c?d.y:l;H=c?this._paddedRect.height-this._plotRect.height:l}var p=z.padding;if(p==undefined&&!z.renderTo){p={left:t,top:D,right:E,bottom:H}}else{p={left:((p&&p.left)?p.left:t),top:((p&&p.top)?p.top:D),right:((p&&p.right)?p.right:E),bottom:((p&&p.bottom)?p.bottom:H)}}var w=f.rangeSelector.dataField;for(var B=0;undefined==w&&B<this.seriesGroups.length;B++){for(var v=0;undefined==w&&v<this.seriesGroups[B].series.length;v++){w=this.seriesGroups[B].series[v].dataField}}var o={padding:p,_isRangeSelectorInstance:true,title:z.title||"",description:z.description||"",titlePadding:z.titlePadding,colorScheme:z.colorScheme||this.colorScheme,backgroundColor:z.backgroundColor||this.backgroundColor||"transparent",backgroundImage:z.backgroundImage||"",showBorderLine:z.showBorderLine||(z.renderTo?true:false),borderLineWidth:z.borderLineWidth||this.borderLineWidth,borderLineColor:z.borderLineColor||this.borderLineColor,rtl:z.rtl||this.rtl,greyScale:z.greyScale||this.greyScale,renderEngine:this.renderEngine,showLegend:false,enableAnimations:false,enableEvents:false,showToolTips:false,source:this.source,xAxis:k,seriesGroups:[{orientation:c?"horizontal":"vertical",valueAxis:{visible:false},type:f.rangeSelector.serieType||"area",skipOverlappingPoints:a.jqx.getByPriority([f.rangeSelector.skipOverlappingPoints,true]),columnSeriesOverlap:a.jqx.getByPriority([f.rangeSelector.columnSeriesOverlap,false]),columnsGapPercent:a.jqx.getByPriority([f.rangeSelector.columnsGapPercent,25]),seriesGapPercent:a.jqx.getByPriority([f.rangeSelector.seriesGapPercent,25]),series:[{dataField:w,opacity:0.8,lineWidth:1}]}]};if(!o.showBorderLine){o.borderLineWidth=1;o.borderLineColor=a.jqx.getByPriority([this.backgroundColor,this.background,"#FFFFFF"]);o.showBorderLine=true}var q=this;q._supressBindingRefresh=true;F.empty();F.jqxChart(o);q._rangeSelectorInstances[h]=F;q._supressBindingRefresh=false;F.on(q._getEvent("mousemove"),function(){q._unselect();q._hideToolTip()});var C=F.jqxChart("getInstance");if(!C._plotRect){return}var G=C._paddedRect;G.height=C._plotRect.height;if(!c&&n=="top"){G.y+=C._renderData[0].xAxis.rect.height}else{if(c){var s=C._renderData[0].xAxis.rect.width;G.width-=s;if(n!="right"){G.x+=s}}}q._createSliderElements(h,F,G,z);q.removeHandler(a(document),q._getEvent("mousemove")+"."+this.element.id,q._onSliderMouseMove);q.removeHandler(a(document),q._getEvent("mousedown"),q._onSliderMouseDown);q.removeHandler(a(document),q._getEvent("mouseup")+"."+this.element.id,q._onSliderMouseUp);q.addHandler(a(document),q._getEvent("mousemove")+"."+this.element.id,q._onSliderMouseMove,{self:this,groupIndex:h,renderTo:F,swapXY:c});q.addHandler(a(F),q._getEvent("mousedown"),this._onSliderMouseDown,{self:this,groupIndex:h,renderTo:F,swapXY:c});q.addHandler(a(document),q._getEvent("mouseup")+"."+this.element.id,q._onSliderMouseUp,{element:this.element.id,self:this,groupIndex:h,renderTo:F,swapXY:c})},_createSliderElements:function(e,w,d,n){w.find(".slider").remove();var i=n.selectedRangeColor||"blue";var c=a.jqx.getByPriority([n.selectedRangeOpacity,0.1]);var z=a.jqx.getByPriority([n.unselectedRangeOpacity,0.5]);var o=n.unselectedRangeColor||"white";var h=n.rangeLineColor||"grey";var k=a("<div class='slider' style='position: absolute;'></div>");k.css({background:i,opacity:c,left:d.x,top:d.y,width:d.width,height:d.height});k.appendTo(w);while(this._sliders.length<e+1){this._sliders.push({})}var p="<div class='slider' style='position: absolute;  background: "+o+"; opacity: "+z+";'></div>";var s="<div class='slider' style='position: absolute; background:"+h+"; opacity: "+z+";'></div>";var j="<div class='slider jqx-rc-all' style='position: absolute; background: white; border-style: solid; border-width: 1px; border-color: "+h+";'></div>";this._sliders[e]={element:k,host:w,_sliderInitialAbsoluteRect:{x:k.coord().left,y:k.coord().top,width:d.width,height:d.height},_hostInitialAbsolutePos:{x:w.coord().left,y:w.coord().top},getRect:function(){return{x:this.host.coord().left-this._hostInitialAbsolutePos.x+this._sliderInitialAbsoluteRect.x,y:this.host.coord().top-this._hostInitialAbsolutePos.y+this._sliderInitialAbsoluteRect.y,width:this._sliderInitialAbsoluteRect.width,height:this._sliderInitialAbsoluteRect.height}},rect:d,left:a(p),right:a(p),leftTop:a(s),rightTop:a(s),leftBorder:a(s),leftBar:a(j),rightBorder:a(s),rightBar:a(j)};this._sliders[e].left.appendTo(w);this._sliders[e].right.appendTo(w);this._sliders[e].leftTop.appendTo(w);this._sliders[e].rightTop.appendTo(w);this._sliders[e].leftBorder.appendTo(w);this._sliders[e].rightBorder.appendTo(w);this._sliders[e].leftBar.appendTo(w);this._sliders[e].rightBar.appendTo(w);var m=this._renderData[e].xAxis;var v=m.data.axisStats;var l=v.min.valueOf();var t=v.max.valueOf();var q=this._valueToOffset(e,l);var f=this._valueToOffset(e,t);if(q>f){var u=f;f=q;q=u}if(this.seriesGroups[e].orientation!="horizontal"){k.css({left:Math.round(d.x+q),top:d.y,width:Math.round(f-q),height:d.height})}else{k.css({top:Math.round(d.y+q),left:d.x,height:Math.round(f-q),width:d.width})}this._setSliderPositions(e,q,f)},_setSliderPositions:function(f,t,i){var v=this.seriesGroups[f];var e=this._getXAxis(f);var p=e.rangeSelector;var c=v.orientation=="horizontal";if(e.rangeSelector.renderTo){c=false}var k=e.position;if(p.renderTo&&p.position){k=p.position}var m=(c&&k=="right")||(!c&&k=="top");var o=this._sliders[f];var s=c?"top":"left";var h=c?"left":"top";var j=c?"height":"width";var q=c?"width":"height";var l=c?"y":"x";var n=c?"x":"y";var d=o.rect;o.startOffset=t;o.endOffset=i;o.left.css(s,d[l]);o.left.css(h,d[n]);o.left.css(j,t);o.left.css(q,d[q]);o.right.css(s,d[l]+i);o.right.css(h,d[n]);o.right.css(j,d[j]-i+1);o.right.css(q,d[q]);o.leftTop.css(s,d[l]);o.leftTop.css(h,d[n]+(((c&&k=="right")||(!c&&k!="top"))?0:d[q]));o.leftTop.css(j,t);o.leftTop.css(q,1);o.rightTop.css(s,d[l]+i);o.rightTop.css(h,d[n]+(((c&&k=="right")||(!c&&k!="top"))?0:d[q]));o.rightTop.css(j,d[j]-i+1);o.rightTop.css(q,1);o.leftBorder.css(s,d[l]+t);o.leftBorder.css(h,d[n]);o.leftBorder.css(j,1);o.leftBorder.css(q,d[q]);var u=d[q]/4;if(u>20){u=20}if(u<3){u=3}o.leftBar.css(s,d[l]+t-3);o.leftBar.css(h,d[n]+d[q]/2-u/2);o.leftBar.css(j,5);o.leftBar.css(q,u);o.rightBorder.css(s,d[l]+i);o.rightBorder.css(h,d[n]);o.rightBorder.css(j,1);o.rightBorder.css(q,d[q]);o.rightBar.css(s,d[l]+i-3);o.rightBar.css(h,d[n]+d[q]/2-u/2);o.rightBar.css(j,5);o.rightBar.css(q,u)},_resizeState:{},_onSliderMouseDown:function(e){e.stopImmediatePropagation();e.stopPropagation();var c=e.data.self;var d=c._sliders[e.data.groupIndex];if(!d){return}if(c._resizeState.state==undefined){c._testAndSetReadyResize(e)}if(c._resizeState.state!="ready"){return}a.jqx._rangeSelectorTarget=c;c._resizeState.state="resizing"},_valueToOffset:function(o,m){var n=this.seriesGroups[o];var e=this._sliders[o];var d=e.host.jqxChart("getInstance");var p=d._renderData[0].xAxis;var i=p.data.axisStats;var l=i.min.valueOf();var c=i.max.valueOf();var j=c-l;if(j==0){j=1}var f=this._getXAxis(o);var h=n.orientation=="horizontal"?"height":"width";var k=(m.valueOf()-l)/j;return e.getRect()[h]*(f.flip?(1-k):k)},_offsetToValue:function(q,h){var e=this._sliders[q];var p=this.seriesGroups[q];var f=this._getXAxis(q);var i=p.orientation=="horizontal"?"height":"width";var k=e.getRect()[i];if(k==0){k=1}var l=h/k;var d=e.host.jqxChart("getInstance");var o=d._renderData[0].xAxis;var j=o.data.axisStats;var m=j.min.valueOf();var c=j.max.valueOf();var n=h/k*(c-m)+m;if(f.flip==true){n=c-h/k*(c-m)}if(this._isDate(j.min)||this._isDate(j.max)){n=new Date(n)}else{if(f.dataField==undefined||j.useIndeces){n=Math.round(n)}if(n<j.min){n=j.min}if(n>j.max){n=j.max}}return n},_onSliderMouseUp:function(u){var o=a.jqx._rangeSelectorTarget;if(!o){return}var j=u.data.groupIndex;var c=u.data.swapXY;var q=o._sliders[j];if(!q){return}if(o._resizeState.state!="resizing"){return}u.stopImmediatePropagation();u.stopPropagation();o._resizeState={};o.host.css("cursor","default");var l=!c?"left":"top";var d=!c?"width":"height";var t=!c?"x":"y";var s=q.element.coord()[l];var f=s+(!c?q.element.width():q.element.height());var e=q.getRect();var m=o._offsetToValue(j,s-e[t]);var w=o._offsetToValue(j,f-e[t]);var n=q.host.jqxChart("getInstance");var p=n._renderData[0].xAxis;var A=p.data.axisStats;if(!A.isTimeUnit&&(w.valueOf()-m.valueOf())>86400000){m.setHours(0,0,0,0);w.setDate(w.getDate()+1);w.setHours(0,0,0,0)}var h=o._getXAxis(j);if(h.flip){var z=m;m=w;w=z}for(var v=0;v<o.seriesGroups.length;v++){var k=o._getXAxis(v);if(k==h){o._selectorRange[v]={min:m,max:w}}}o._isSelectorRefresh=true;var B=o.enableAnimations;o._raiseEvent("rangeSelectionChanging",{instance:o,minValue:m,maxValue:w});o.enableAnimations=false;o.update();o.enableAnimations=B;o._raiseEvent("rangeSelectionChanged",{instance:o,minValue:m,maxValue:w})},_onSliderMouseMove:function(w){var q=w.data.self;var A=w.data.renderTo;var k=w.data.groupIndex;var t=q._sliders[k];var e=w.data.swapXY;if(!t){return}var h=t.getRect();var j=t.element;var B=a.jqx.position(w);var u=j.coord();var s=e?"left":"top";var o=!e?"left":"top";var i=e?"width":"height";var f=!e?"width":"height";var v=!e?"x":"y";if(q._resizeState.state=="resizing"){w.stopImmediatePropagation();w.stopPropagation();if(q._resizeState.side=="left"){var p=Math.round(B[o]-u[o]);var n=h[v];if(u[o]+p>=n&&u[o]+p<=n+h[f]){var l=parseInt(j.css(o));var d=Math.max(2,(e?j.height():j.width())-p);j.css(f,d);j.css(o,l+p)}}else{if(q._resizeState.side=="right"){var c=e?j.height():j.width();var p=Math.round(B[o]-u[o]-c);var n=h[v];if(u[o]+c+p>=n&&u[o]+p+c<=n+h[f]){var d=Math.max(2,c+p);j.css(f,d)}}else{if(q._resizeState.side=="move"){var c=e?j.height():j.width();var l=parseInt(j.css(o));var p=Math.round(B[o]-q._resizeState.startPos);if(u[o]+p>=h[v]&&u[o]+p+c<=h[v]+h[f]){q._resizeState.startPos=B[o];j.css(o,l+p)}}}}var z=parseInt(j.css(o))-t.rect[v];var m=z+(e?j.height():j.width());q._setSliderPositions(k,z,m)}else{q._testAndSetReadyResize(w)}},_testAndSetReadyResize:function(c){var t=c.data.self;var m=c.data.renderTo;var q=c.data.groupIndex;var d=t._sliders[q];var i=c.data.swapXY;var o=d.getRect();var f=d.element;var h=a.jqx.position(c);var j=f.coord();var l=i?"left":"top";var s=!i?"left":"top";var k=i?"width":"height";var n=!i?"width":"height";var e=!i?"x":"y";var p=t._isTouchDevice?30:5;if(h[l]>=j[l]&&h[l]<=j[l]+o[k]){if(Math.abs(h[s]-j[s])<=p){m.css("cursor",i?"row-resize":"col-resize");t._resizeState={state:"ready",side:"left"}}else{if(Math.abs(h[s]-j[s]-(!i?f.width():f.height()))<=p){m.css("cursor",i?"row-resize":"col-resize");t._resizeState={state:"ready",side:"right"}}else{if(h[s]+p>j[s]&&h[s]-p<j[s]+(!i?f.width():f.height())){m.css("cursor","pointer");t._resizeState={state:"ready",side:"move",startPos:h[s]}}else{m.css("cursor","default");t._resizeState={}}}}}else{m.css("cursor","default");t._resizeState={}}},_selectorGetSize:function(c){if(c.rangeSelector.renderTo){return 0}return c.rangeSelector.size||this._paddedRect.height/3}})})(jqxBaseFramework);(function(a){a.extend(a.jqx._jqxChart.prototype,{_moduleAnnotations:true,_renderAnnotation:function(h,j,d){var l=this.seriesGroups[h];var t=this.renderer;if(isNaN(h)){return}var n=this._get([this.getXAxisDataPointOffset(j.xValue,h),j.x]);var m=this._get([this.getValueAxisDataPointOffset(j.yValue,h),j.y]);var A=this._get([this.getXAxisDataPointOffset(j.xValue2,h),j.x2]);var f=this._get([this.getValueAxisDataPointOffset(j.yValue2,h),j.y2]);if(l.polar||l.spider){var u=this.getPolarDataPointOffset(j.xValue,j.yValue,h);if(u&&!isNaN(u.x)&&!isNaN(u.y)){n=u.x;m=u.y}else{n=j.x;m=j.y}}if(isNaN(m)||isNaN(n)){return false}if(l.orientation=="horizontal"){var B=n;n=m;m=B;B=A;A=f;f=B}if(j.offset){if(!isNaN(j.offset.x)){n+=j.offset.x;A+=j.offset.x}if(!isNaN(j.offset.y)){m+=j.offset.y;f+=j.offset.y}}var s=this._get([j.width,A-n]);var q=this._get([j.height,f-m]);var e;switch(j.type){case"rect":e=t.rect(n,m,s,q);break;case"circle":e=t.rect(n,m,j.radius);break;case"line":e=t.rect(n,m,A,f);break;case"path":e=t.path(j.path);break}t.attr(e,{fill:j.fillColor,stroke:j.lineColor,opacity:this._get([j.fillOpacity,j.opacity]),"stroke-opacity":this._get([j.lineOpacity,j.opacity]),"stroke-width":j.lineWidth,"stroke-dasharray":j.dashStyle||"none"});var z;if(j.text){var o=j.text;var C=0,k=0;if(o.offset){if(!isNaN(o.offset.x)){C+=o.offset.x}if(!isNaN(o.offset.y)){k+=o.offset.y}}z=t.text(o.value,n+C,m+k,NaN,NaN,o.angle,{},o.clip===true,o.horizontalAlignment||"center",o.verticalAlignment||"center",o.rotationPoint||"centermiddle");t.attr(z,{fill:o.fillColor,stroke:o.lineColor,"class":o["class"]})}var c=["click","mouseenter","mouseleave"];var p=this;for(var w=0;w<c.length;w++){var v=this._getEvent(c[w])||c[w];if(e){this.renderer.addHandler(e,v,function(){p._raiseAnnotationEvent(j,v)})}if(z){this.renderer.addHandler(z,v,function(){p._raiseAnnotationEvent(j,v)})}}},_raiseAnnotationEvent:function(c,d){this._raiseEvent("annotation_"+d,{annotation:c})}})})(jqxBaseFramework);(function(a){a.extend(a.jqx._jqxChart.prototype,{_moduleWaterfall:true,_isSummary:function(e,c){var f=this.seriesGroups[e];for(var d=0;d<f.series.length;d++){if(undefined===f.series[d].summary){continue}summaryValue=this._getDataValue(c,f.series[d].summary,e);if(undefined!==summaryValue){return true}}return false},_applyWaterfall:function(C,D,l,h,E,m,G,f,s){var q=this.seriesGroups[l];if(C.length==0){return C}var w=h;var c={};var d=[];var e=undefined;var H=[];for(var A=0;A<q.series.length;A++){H.push(this._isSerieVisible(l,A))}var u={};for(var B=0;B<D;B++){var o=h;var p=0;var n=this._isSummary(l,B);for(var A=0;A<C.length;A++){if(!H[A]){continue}var F=0;if(n){F=o==h?E:0;C[A][B].value=c[A];C[A][B].summary=true;e=C[A][B].value<F;if(f){e=!e}var v=0;if(!isNaN(m)){v=this._getDataPointOffsetDiff(C[A][B].value+p,p==0?E:p,F||E,m,G,h,f)}else{v=this._getDataPointOffsetDiff(C[A][B].value,F,F,NaN,G,h,f)}C[A][B].to=o+(e?v:-v);C[A][B].from=o;if(s){p+=C[A][B].value;o=C[A][B].to}continue}var z=s?-1:A;if(isNaN(C[A][B].value)){continue}if(undefined===u[z]){F=E;u[z]=true}e=C[A][B].value<F;if(f){e=!e}var t=NaN,v=NaN;if(!s){t=B==0?h:C[A][d[A]].to}else{t=w}var v=0;if(!isNaN(m)){v=this._getDataPointOffsetDiff(C[A][B].value+(isNaN(c[z])?0:c[z]),isNaN(c[z])?E:c[z],F||E,m,G,t,f)}else{v=this._getDataPointOffsetDiff(C[A][B].value,F,F,NaN,G,h,f)}C[A][B].to=w=t+(e?v:-v);C[A][B].from=t;if(isNaN(c[z])){c[z]=C[A][B].value}else{c[z]+=C[A][B].value}if(z==-1){if(isNaN(c[A])){c[A]=C[A][B].value}else{c[A]+=C[A][B].value}}if(!s){d[A]=B}}}return C}})})(jqxBaseFramework);